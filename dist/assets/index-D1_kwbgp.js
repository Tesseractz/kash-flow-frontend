var rg=t=>{throw TypeError(t)};var Vd=(t,e,r)=>e.has(t)||rg("Cannot "+r);var S=(t,e,r)=>(Vd(t,e,"read from private field"),r?r.call(t):e.get(t)),ge=(t,e,r)=>e.has(t)?rg("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),J=(t,e,r,n)=>(Vd(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Ee=(t,e,r)=>(Vd(t,e,"access private method"),r);var gu=(t,e,r,n)=>({set _(s){J(t,e,s,r)},get _(){return S(t,e,n)}});function mv(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var $r=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function J_(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var yv={exports:{}},sd={},vv={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ql=Symbol.for("react.element"),Y_=Symbol.for("react.portal"),X_=Symbol.for("react.fragment"),e1=Symbol.for("react.strict_mode"),t1=Symbol.for("react.profiler"),r1=Symbol.for("react.provider"),n1=Symbol.for("react.context"),s1=Symbol.for("react.forward_ref"),i1=Symbol.for("react.suspense"),a1=Symbol.for("react.memo"),o1=Symbol.for("react.lazy"),ng=Symbol.iterator;function l1(t){return t===null||typeof t!="object"?null:(t=ng&&t[ng]||t["@@iterator"],typeof t=="function"?t:null)}var xv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wv=Object.assign,bv={};function Ka(t,e,r){this.props=t,this.context=e,this.refs=bv,this.updater=r||xv}Ka.prototype.isReactComponent={};Ka.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ka.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function _v(){}_v.prototype=Ka.prototype;function Np(t,e,r){this.props=t,this.context=e,this.refs=bv,this.updater=r||xv}var Ep=Np.prototype=new _v;Ep.constructor=Np;wv(Ep,Ka.prototype);Ep.isPureReactComponent=!0;var sg=Array.isArray,kv=Object.prototype.hasOwnProperty,Cp={current:null},Sv={key:!0,ref:!0,__self:!0,__source:!0};function jv(t,e,r){var n,s={},i=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)kv.call(e,n)&&!Sv.hasOwnProperty(n)&&(s[n]=e[n]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:Ql,type:t,key:i,ref:a,props:s,_owner:Cp.current}}function u1(t,e){return{$$typeof:Ql,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Pp(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ql}function c1(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var ig=/\/+/g;function Hd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?c1(""+t.key):e.toString(36)}function Vu(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Ql:case Y_:a=!0}}if(a)return a=t,s=s(a),t=n===""?"."+Hd(a,0):n,sg(s)?(r="",t!=null&&(r=t.replace(ig,"$&/")+"/"),Vu(s,e,r,"",function(c){return c})):s!=null&&(Pp(s)&&(s=u1(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(ig,"$&/")+"/")+t)),e.push(s)),1;if(a=0,n=n===""?".":n+":",sg(t))for(var o=0;o<t.length;o++){i=t[o];var l=n+Hd(i,o);a+=Vu(i,e,r,l,s)}else if(l=l1(t),typeof l=="function")for(t=l.call(t),o=0;!(i=t.next()).done;)i=i.value,l=n+Hd(i,o++),a+=Vu(i,e,r,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function yu(t,e,r){if(t==null)return t;var n=[],s=0;return Vu(t,n,"","",function(i){return e.call(r,i,s++)}),n}function d1(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var er={current:null},Hu={transition:null},f1={ReactCurrentDispatcher:er,ReactCurrentBatchConfig:Hu,ReactCurrentOwner:Cp};function Nv(){throw Error("act(...) is not supported in production builds of React.")}Ae.Children={map:yu,forEach:function(t,e,r){yu(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return yu(t,function(){e++}),e},toArray:function(t){return yu(t,function(e){return e})||[]},only:function(t){if(!Pp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ae.Component=Ka;Ae.Fragment=X_;Ae.Profiler=t1;Ae.PureComponent=Np;Ae.StrictMode=e1;Ae.Suspense=i1;Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=f1;Ae.act=Nv;Ae.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=wv({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=Cp.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)kv.call(e,l)&&!Sv.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:Ql,type:t.type,key:s,ref:i,props:n,_owner:a}};Ae.createContext=function(t){return t={$$typeof:n1,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:r1,_context:t},t.Consumer=t};Ae.createElement=jv;Ae.createFactory=function(t){var e=jv.bind(null,t);return e.type=t,e};Ae.createRef=function(){return{current:null}};Ae.forwardRef=function(t){return{$$typeof:s1,render:t}};Ae.isValidElement=Pp;Ae.lazy=function(t){return{$$typeof:o1,_payload:{_status:-1,_result:t},_init:d1}};Ae.memo=function(t,e){return{$$typeof:a1,type:t,compare:e===void 0?null:e}};Ae.startTransition=function(t){var e=Hu.transition;Hu.transition={};try{t()}finally{Hu.transition=e}};Ae.unstable_act=Nv;Ae.useCallback=function(t,e){return er.current.useCallback(t,e)};Ae.useContext=function(t){return er.current.useContext(t)};Ae.useDebugValue=function(){};Ae.useDeferredValue=function(t){return er.current.useDeferredValue(t)};Ae.useEffect=function(t,e){return er.current.useEffect(t,e)};Ae.useId=function(){return er.current.useId()};Ae.useImperativeHandle=function(t,e,r){return er.current.useImperativeHandle(t,e,r)};Ae.useInsertionEffect=function(t,e){return er.current.useInsertionEffect(t,e)};Ae.useLayoutEffect=function(t,e){return er.current.useLayoutEffect(t,e)};Ae.useMemo=function(t,e){return er.current.useMemo(t,e)};Ae.useReducer=function(t,e,r){return er.current.useReducer(t,e,r)};Ae.useRef=function(t){return er.current.useRef(t)};Ae.useState=function(t){return er.current.useState(t)};Ae.useSyncExternalStore=function(t,e,r){return er.current.useSyncExternalStore(t,e,r)};Ae.useTransition=function(){return er.current.useTransition()};Ae.version="18.3.1";vv.exports=Ae;var _=vv.exports;const gr=gv(_),h1=mv({__proto__:null,default:gr},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p1=_,m1=Symbol.for("react.element"),g1=Symbol.for("react.fragment"),y1=Object.prototype.hasOwnProperty,v1=p1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,x1={key:!0,ref:!0,__self:!0,__source:!0};function Ev(t,e,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)y1.call(e,n)&&!x1.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:m1,type:t,key:i,ref:a,props:s,_owner:v1.current}}sd.Fragment=g1;sd.jsx=Ev;sd.jsxs=Ev;yv.exports=sd;var u=yv.exports,Bf={},Cv={exports:{}},Cr={},Pv={exports:{}},Rv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,X){var ae=B.length;B.push(X);e:for(;0<ae;){var de=ae-1>>>1,Se=B[de];if(0<s(Se,X))B[de]=X,B[ae]=Se,ae=de;else break e}}function r(B){return B.length===0?null:B[0]}function n(B){if(B.length===0)return null;var X=B[0],ae=B.pop();if(ae!==X){B[0]=ae;e:for(var de=0,Se=B.length,W=Se>>>1;de<W;){var $e=2*(de+1)-1,it=B[$e],rt=$e+1,U=B[rt];if(0>s(it,ae))rt<Se&&0>s(U,it)?(B[de]=U,B[rt]=ae,de=rt):(B[de]=it,B[$e]=ae,de=$e);else if(rt<Se&&0>s(U,ae))B[de]=U,B[rt]=ae,de=rt;else break e}}return X}function s(B,X){var ae=B.sortIndex-X.sortIndex;return ae!==0?ae:B.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],d=1,f=null,h=3,p=!1,m=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(B){for(var X=r(c);X!==null;){if(X.callback===null)n(c);else if(X.startTime<=B)n(c),X.sortIndex=X.expirationTime,e(l,X);else break;X=r(c)}}function k(B){if(y=!1,x(B),!m)if(r(l)!==null)m=!0,we(E);else{var X=r(c);X!==null&&ue(k,X.startTime-B)}}function E(B,X){m=!1,y&&(y=!1,v(P),P=-1),p=!0;var ae=h;try{for(x(X),f=r(l);f!==null&&(!(f.expirationTime>X)||B&&!K());){var de=f.callback;if(typeof de=="function"){f.callback=null,h=f.priorityLevel;var Se=de(f.expirationTime<=X);X=t.unstable_now(),typeof Se=="function"?f.callback=Se:f===r(l)&&n(l),x(X)}else n(l);f=r(l)}if(f!==null)var W=!0;else{var $e=r(c);$e!==null&&ue(k,$e.startTime-X),W=!1}return W}finally{f=null,h=ae,p=!1}}var b=!1,A=null,P=-1,L=5,F=-1;function K(){return!(t.unstable_now()-F<L)}function D(){if(A!==null){var B=t.unstable_now();F=B;var X=!0;try{X=A(!0,B)}finally{X?$():(b=!1,A=null)}}else b=!1}var $;if(typeof g=="function")$=function(){g(D)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,se=I.port2;I.port1.onmessage=D,$=function(){se.postMessage(null)}}else $=function(){w(D,0)};function we(B){A=B,b||(b=!0,$())}function ue(B,X){P=w(function(){B(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,we(E))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(B){switch(h){case 1:case 2:case 3:var X=3;break;default:X=h}var ae=h;h=X;try{return B()}finally{h=ae}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,X){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var ae=h;h=B;try{return X()}finally{h=ae}},t.unstable_scheduleCallback=function(B,X,ae){var de=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?de+ae:de):ae=de,B){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=ae+Se,B={id:d++,callback:X,priorityLevel:B,startTime:ae,expirationTime:Se,sortIndex:-1},ae>de?(B.sortIndex=ae,e(c,B),r(l)===null&&B===r(c)&&(y?(v(P),P=-1):y=!0,ue(k,ae-de))):(B.sortIndex=Se,e(l,B),m||p||(m=!0,we(E))),B},t.unstable_shouldYield=K,t.unstable_wrapCallback=function(B){var X=h;return function(){var ae=h;h=X;try{return B.apply(this,arguments)}finally{h=ae}}}})(Rv);Pv.exports=Rv;var w1=Pv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b1=_,Er=w1;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Tv=new Set,nl={};function Ci(t,e){Ta(t,e),Ta(t+"Capture",e)}function Ta(t,e){for(nl[t]=e,t=0;t<e.length;t++)Tv.add(e[t])}var zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vf=Object.prototype.hasOwnProperty,_1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ag={},og={};function k1(t){return Vf.call(og,t)?!0:Vf.call(ag,t)?!1:_1.test(t)?og[t]=!0:(ag[t]=!0,!1)}function S1(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function j1(t,e,r,n){if(e===null||typeof e>"u"||S1(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function tr(t,e,r,n,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var Ft={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ft[t]=new tr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ft[e]=new tr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ft[t]=new tr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ft[t]=new tr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ft[t]=new tr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ft[t]=new tr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ft[t]=new tr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ft[t]=new tr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ft[t]=new tr(t,5,!1,t.toLowerCase(),null,!1,!1)});var Rp=/[\-:]([a-z])/g;function Tp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Rp,Tp);Ft[e]=new tr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Rp,Tp);Ft[e]=new tr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Rp,Tp);Ft[e]=new tr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ft[t]=new tr(t,1,!1,t.toLowerCase(),null,!1,!1)});Ft.xlinkHref=new tr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ft[t]=new tr(t,1,!1,t.toLowerCase(),null,!0,!0)});function Op(t,e,r,n){var s=Ft.hasOwnProperty(e)?Ft[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(j1(e,r,s,n)&&(r=null),n||s===null?k1(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Kn=b1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vu=Symbol.for("react.element"),Qi=Symbol.for("react.portal"),Zi=Symbol.for("react.fragment"),Ap=Symbol.for("react.strict_mode"),Hf=Symbol.for("react.profiler"),Ov=Symbol.for("react.provider"),Av=Symbol.for("react.context"),Lp=Symbol.for("react.forward_ref"),qf=Symbol.for("react.suspense"),Wf=Symbol.for("react.suspense_list"),Dp=Symbol.for("react.memo"),ss=Symbol.for("react.lazy"),Lv=Symbol.for("react.offscreen"),lg=Symbol.iterator;function uo(t){return t===null||typeof t!="object"?null:(t=lg&&t[lg]||t["@@iterator"],typeof t=="function"?t:null)}var dt=Object.assign,qd;function Co(t){if(qd===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);qd=e&&e[1]||""}return`
`+qd+t}var Wd=!1;function Kd(t,e){if(!t||Wd)return"";Wd=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var l=`
`+s[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{Wd=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Co(t):""}function N1(t){switch(t.tag){case 5:return Co(t.type);case 16:return Co("Lazy");case 13:return Co("Suspense");case 19:return Co("SuspenseList");case 0:case 2:case 15:return t=Kd(t.type,!1),t;case 11:return t=Kd(t.type.render,!1),t;case 1:return t=Kd(t.type,!0),t;default:return""}}function Kf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Zi:return"Fragment";case Qi:return"Portal";case Hf:return"Profiler";case Ap:return"StrictMode";case qf:return"Suspense";case Wf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Av:return(t.displayName||"Context")+".Consumer";case Ov:return(t._context.displayName||"Context")+".Provider";case Lp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Dp:return e=t.displayName||null,e!==null?e:Kf(t.type)||"Memo";case ss:e=t._payload,t=t._init;try{return Kf(t(e))}catch{}}return null}function E1(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Kf(e);case 8:return e===Ap?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ls(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Dv(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function C1(t){var e=Dv(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function xu(t){t._valueTracker||(t._valueTracker=C1(t))}function Iv(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Dv(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function cc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Qf(t,e){var r=e.checked;return dt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function ug(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Ls(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Mv(t,e){e=e.checked,e!=null&&Op(t,"checked",e,!1)}function Zf(t,e){Mv(t,e);var r=Ls(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Gf(t,e.type,r):e.hasOwnProperty("defaultValue")&&Gf(t,e.type,Ls(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function cg(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Gf(t,e,r){(e!=="number"||cc(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Po=Array.isArray;function ua(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Ls(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Jf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return dt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function dg(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(H(92));if(Po(r)){if(1<r.length)throw Error(H(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Ls(r)}}function Fv(t,e){var r=Ls(e.value),n=Ls(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function fg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function $v(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?$v(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var wu,Uv=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(wu=wu||document.createElement("div"),wu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=wu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function sl(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Uo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},P1=["Webkit","ms","Moz","O"];Object.keys(Uo).forEach(function(t){P1.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Uo[e]=Uo[t]})});function zv(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Uo.hasOwnProperty(t)&&Uo[t]?(""+e).trim():e+"px"}function Bv(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=zv(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var R1=dt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xf(t,e){if(e){if(R1[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function eh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var th=null;function Ip(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var rh=null,ca=null,da=null;function hg(t){if(t=Jl(t)){if(typeof rh!="function")throw Error(H(280));var e=t.stateNode;e&&(e=ud(e),rh(t.stateNode,t.type,e))}}function Vv(t){ca?da?da.push(t):da=[t]:ca=t}function Hv(){if(ca){var t=ca,e=da;if(da=ca=null,hg(t),e)for(t=0;t<e.length;t++)hg(e[t])}}function qv(t,e){return t(e)}function Wv(){}var Qd=!1;function Kv(t,e,r){if(Qd)return t(e,r);Qd=!0;try{return qv(t,e,r)}finally{Qd=!1,(ca!==null||da!==null)&&(Wv(),Hv())}}function il(t,e){var r=t.stateNode;if(r===null)return null;var n=ud(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(H(231,e,typeof r));return r}var nh=!1;if(zn)try{var co={};Object.defineProperty(co,"passive",{get:function(){nh=!0}}),window.addEventListener("test",co,co),window.removeEventListener("test",co,co)}catch{nh=!1}function T1(t,e,r,n,s,i,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(d){this.onError(d)}}var zo=!1,dc=null,fc=!1,sh=null,O1={onError:function(t){zo=!0,dc=t}};function A1(t,e,r,n,s,i,a,o,l){zo=!1,dc=null,T1.apply(O1,arguments)}function L1(t,e,r,n,s,i,a,o,l){if(A1.apply(this,arguments),zo){if(zo){var c=dc;zo=!1,dc=null}else throw Error(H(198));fc||(fc=!0,sh=c)}}function Pi(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Qv(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function pg(t){if(Pi(t)!==t)throw Error(H(188))}function D1(t){var e=t.alternate;if(!e){if(e=Pi(t),e===null)throw Error(H(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return pg(s),t;if(i===n)return pg(s),e;i=i.sibling}throw Error(H(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a)throw Error(H(189))}}if(r.alternate!==n)throw Error(H(190))}if(r.tag!==3)throw Error(H(188));return r.stateNode.current===r?t:e}function Zv(t){return t=D1(t),t!==null?Gv(t):null}function Gv(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Gv(t);if(e!==null)return e;t=t.sibling}return null}var Jv=Er.unstable_scheduleCallback,mg=Er.unstable_cancelCallback,I1=Er.unstable_shouldYield,M1=Er.unstable_requestPaint,xt=Er.unstable_now,F1=Er.unstable_getCurrentPriorityLevel,Mp=Er.unstable_ImmediatePriority,Yv=Er.unstable_UserBlockingPriority,hc=Er.unstable_NormalPriority,$1=Er.unstable_LowPriority,Xv=Er.unstable_IdlePriority,id=null,vn=null;function U1(t){if(vn&&typeof vn.onCommitFiberRoot=="function")try{vn.onCommitFiberRoot(id,t,void 0,(t.current.flags&128)===128)}catch{}}var Xr=Math.clz32?Math.clz32:V1,z1=Math.log,B1=Math.LN2;function V1(t){return t>>>=0,t===0?32:31-(z1(t)/B1|0)|0}var bu=64,_u=4194304;function Ro(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function pc(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~s;o!==0?n=Ro(o):(i&=a,i!==0&&(n=Ro(i)))}else a=r&~s,a!==0?n=Ro(a):i!==0&&(n=Ro(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Xr(e),s=1<<r,n|=t[r],e&=~s;return n}function H1(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function q1(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-Xr(i),o=1<<a,l=s[a];l===-1?(!(o&r)||o&n)&&(s[a]=H1(o,e)):l<=e&&(t.expiredLanes|=o),i&=~o}}function ih(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ex(){var t=bu;return bu<<=1,!(bu&4194240)&&(bu=64),t}function Zd(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Zl(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Xr(e),t[e]=r}function W1(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-Xr(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function Fp(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Xr(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var Qe=0;function tx(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var rx,$p,nx,sx,ix,ah=!1,ku=[],Ns=null,Es=null,Cs=null,al=new Map,ol=new Map,os=[],K1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gg(t,e){switch(t){case"focusin":case"focusout":Ns=null;break;case"dragenter":case"dragleave":Es=null;break;case"mouseover":case"mouseout":Cs=null;break;case"pointerover":case"pointerout":al.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ol.delete(e.pointerId)}}function fo(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Jl(e),e!==null&&$p(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Q1(t,e,r,n,s){switch(e){case"focusin":return Ns=fo(Ns,t,e,r,n,s),!0;case"dragenter":return Es=fo(Es,t,e,r,n,s),!0;case"mouseover":return Cs=fo(Cs,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return al.set(i,fo(al.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,ol.set(i,fo(ol.get(i)||null,t,e,r,n,s)),!0}return!1}function ax(t){var e=ei(t.target);if(e!==null){var r=Pi(e);if(r!==null){if(e=r.tag,e===13){if(e=Qv(r),e!==null){t.blockedOn=e,ix(t.priority,function(){nx(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=oh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);th=n,r.target.dispatchEvent(n),th=null}else return e=Jl(r),e!==null&&$p(e),t.blockedOn=r,!1;e.shift()}return!0}function yg(t,e,r){qu(t)&&r.delete(e)}function Z1(){ah=!1,Ns!==null&&qu(Ns)&&(Ns=null),Es!==null&&qu(Es)&&(Es=null),Cs!==null&&qu(Cs)&&(Cs=null),al.forEach(yg),ol.forEach(yg)}function ho(t,e){t.blockedOn===e&&(t.blockedOn=null,ah||(ah=!0,Er.unstable_scheduleCallback(Er.unstable_NormalPriority,Z1)))}function ll(t){function e(s){return ho(s,t)}if(0<ku.length){ho(ku[0],t);for(var r=1;r<ku.length;r++){var n=ku[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Ns!==null&&ho(Ns,t),Es!==null&&ho(Es,t),Cs!==null&&ho(Cs,t),al.forEach(e),ol.forEach(e),r=0;r<os.length;r++)n=os[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<os.length&&(r=os[0],r.blockedOn===null);)ax(r),r.blockedOn===null&&os.shift()}var fa=Kn.ReactCurrentBatchConfig,mc=!0;function G1(t,e,r,n){var s=Qe,i=fa.transition;fa.transition=null;try{Qe=1,Up(t,e,r,n)}finally{Qe=s,fa.transition=i}}function J1(t,e,r,n){var s=Qe,i=fa.transition;fa.transition=null;try{Qe=4,Up(t,e,r,n)}finally{Qe=s,fa.transition=i}}function Up(t,e,r,n){if(mc){var s=oh(t,e,r,n);if(s===null)af(t,e,n,gc,r),gg(t,n);else if(Q1(s,t,e,r,n))n.stopPropagation();else if(gg(t,n),e&4&&-1<K1.indexOf(t)){for(;s!==null;){var i=Jl(s);if(i!==null&&rx(i),i=oh(t,e,r,n),i===null&&af(t,e,n,gc,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else af(t,e,n,null,r)}}var gc=null;function oh(t,e,r,n){if(gc=null,t=Ip(n),t=ei(t),t!==null)if(e=Pi(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Qv(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return gc=t,null}function ox(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(F1()){case Mp:return 1;case Yv:return 4;case hc:case $1:return 16;case Xv:return 536870912;default:return 16}default:return 16}}var _s=null,zp=null,Wu=null;function lx(){if(Wu)return Wu;var t,e=zp,r=e.length,n,s="value"in _s?_s.value:_s.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===s[i-n];n++);return Wu=s.slice(t,1<n?1-n:void 0)}function Ku(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Su(){return!0}function vg(){return!1}function Pr(t){function e(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Su:vg,this.isPropagationStopped=vg,this}return dt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Su)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Su)},persist:function(){},isPersistent:Su}),e}var Qa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bp=Pr(Qa),Gl=dt({},Qa,{view:0,detail:0}),Y1=Pr(Gl),Gd,Jd,po,ad=dt({},Gl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==po&&(po&&t.type==="mousemove"?(Gd=t.screenX-po.screenX,Jd=t.screenY-po.screenY):Jd=Gd=0,po=t),Gd)},movementY:function(t){return"movementY"in t?t.movementY:Jd}}),xg=Pr(ad),X1=dt({},ad,{dataTransfer:0}),ek=Pr(X1),tk=dt({},Gl,{relatedTarget:0}),Yd=Pr(tk),rk=dt({},Qa,{animationName:0,elapsedTime:0,pseudoElement:0}),nk=Pr(rk),sk=dt({},Qa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ik=Pr(sk),ak=dt({},Qa,{data:0}),wg=Pr(ak),ok={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ck(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=uk[t])?!!e[t]:!1}function Vp(){return ck}var dk=dt({},Gl,{key:function(t){if(t.key){var e=ok[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ku(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?lk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vp,charCode:function(t){return t.type==="keypress"?Ku(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ku(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),fk=Pr(dk),hk=dt({},ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bg=Pr(hk),pk=dt({},Gl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vp}),mk=Pr(pk),gk=dt({},Qa,{propertyName:0,elapsedTime:0,pseudoElement:0}),yk=Pr(gk),vk=dt({},ad,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),xk=Pr(vk),wk=[9,13,27,32],Hp=zn&&"CompositionEvent"in window,Bo=null;zn&&"documentMode"in document&&(Bo=document.documentMode);var bk=zn&&"TextEvent"in window&&!Bo,ux=zn&&(!Hp||Bo&&8<Bo&&11>=Bo),_g=" ",kg=!1;function cx(t,e){switch(t){case"keyup":return wk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Gi=!1;function _k(t,e){switch(t){case"compositionend":return dx(e);case"keypress":return e.which!==32?null:(kg=!0,_g);case"textInput":return t=e.data,t===_g&&kg?null:t;default:return null}}function kk(t,e){if(Gi)return t==="compositionend"||!Hp&&cx(t,e)?(t=lx(),Wu=zp=_s=null,Gi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ux&&e.locale!=="ko"?null:e.data;default:return null}}var Sk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Sk[t.type]:e==="textarea"}function fx(t,e,r,n){Vv(n),e=yc(e,"onChange"),0<e.length&&(r=new Bp("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Vo=null,ul=null;function jk(t){kx(t,0)}function od(t){var e=Xi(t);if(Iv(e))return t}function Nk(t,e){if(t==="change")return e}var hx=!1;if(zn){var Xd;if(zn){var ef="oninput"in document;if(!ef){var jg=document.createElement("div");jg.setAttribute("oninput","return;"),ef=typeof jg.oninput=="function"}Xd=ef}else Xd=!1;hx=Xd&&(!document.documentMode||9<document.documentMode)}function Ng(){Vo&&(Vo.detachEvent("onpropertychange",px),ul=Vo=null)}function px(t){if(t.propertyName==="value"&&od(ul)){var e=[];fx(e,ul,t,Ip(t)),Kv(jk,e)}}function Ek(t,e,r){t==="focusin"?(Ng(),Vo=e,ul=r,Vo.attachEvent("onpropertychange",px)):t==="focusout"&&Ng()}function Ck(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return od(ul)}function Pk(t,e){if(t==="click")return od(e)}function Rk(t,e){if(t==="input"||t==="change")return od(e)}function Tk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var rn=typeof Object.is=="function"?Object.is:Tk;function cl(t,e){if(rn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Vf.call(e,s)||!rn(t[s],e[s]))return!1}return!0}function Eg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Cg(t,e){var r=Eg(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Eg(r)}}function mx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?mx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function gx(){for(var t=window,e=cc();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=cc(t.document)}return e}function qp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Ok(t){var e=gx(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&mx(r.ownerDocument.documentElement,r)){if(n!==null&&qp(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=Cg(r,i);var a=Cg(r,n);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Ak=zn&&"documentMode"in document&&11>=document.documentMode,Ji=null,lh=null,Ho=null,uh=!1;function Pg(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;uh||Ji==null||Ji!==cc(n)||(n=Ji,"selectionStart"in n&&qp(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ho&&cl(Ho,n)||(Ho=n,n=yc(lh,"onSelect"),0<n.length&&(e=new Bp("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Ji)))}function ju(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Yi={animationend:ju("Animation","AnimationEnd"),animationiteration:ju("Animation","AnimationIteration"),animationstart:ju("Animation","AnimationStart"),transitionend:ju("Transition","TransitionEnd")},tf={},yx={};zn&&(yx=document.createElement("div").style,"AnimationEvent"in window||(delete Yi.animationend.animation,delete Yi.animationiteration.animation,delete Yi.animationstart.animation),"TransitionEvent"in window||delete Yi.transitionend.transition);function ld(t){if(tf[t])return tf[t];if(!Yi[t])return t;var e=Yi[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in yx)return tf[t]=e[r];return t}var vx=ld("animationend"),xx=ld("animationiteration"),wx=ld("animationstart"),bx=ld("transitionend"),_x=new Map,Rg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Us(t,e){_x.set(t,e),Ci(e,[t])}for(var rf=0;rf<Rg.length;rf++){var nf=Rg[rf],Lk=nf.toLowerCase(),Dk=nf[0].toUpperCase()+nf.slice(1);Us(Lk,"on"+Dk)}Us(vx,"onAnimationEnd");Us(xx,"onAnimationIteration");Us(wx,"onAnimationStart");Us("dblclick","onDoubleClick");Us("focusin","onFocus");Us("focusout","onBlur");Us(bx,"onTransitionEnd");Ta("onMouseEnter",["mouseout","mouseover"]);Ta("onMouseLeave",["mouseout","mouseover"]);Ta("onPointerEnter",["pointerout","pointerover"]);Ta("onPointerLeave",["pointerout","pointerover"]);Ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ci("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var To="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ik=new Set("cancel close invalid load scroll toggle".split(" ").concat(To));function Tg(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,L1(n,e,void 0,t),t.currentTarget=null}function kx(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;Tg(s,o,c),i=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;Tg(s,o,c),i=l}}}if(fc)throw t=sh,fc=!1,sh=null,t}function nt(t,e){var r=e[ph];r===void 0&&(r=e[ph]=new Set);var n=t+"__bubble";r.has(n)||(Sx(e,t,2,!1),r.add(n))}function sf(t,e,r){var n=0;e&&(n|=4),Sx(r,t,n,e)}var Nu="_reactListening"+Math.random().toString(36).slice(2);function dl(t){if(!t[Nu]){t[Nu]=!0,Tv.forEach(function(r){r!=="selectionchange"&&(Ik.has(r)||sf(r,!1,t),sf(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Nu]||(e[Nu]=!0,sf("selectionchange",!1,e))}}function Sx(t,e,r,n){switch(ox(e)){case 1:var s=G1;break;case 4:s=J1;break;default:s=Up}r=s.bind(null,e,r,t),s=void 0,!nh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function af(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;a=a.return}for(;o!==null;){if(a=ei(o),a===null)return;if(l=a.tag,l===5||l===6){n=i=a;continue e}o=o.parentNode}}n=n.return}Kv(function(){var c=i,d=Ip(r),f=[];e:{var h=_x.get(t);if(h!==void 0){var p=Bp,m=t;switch(t){case"keypress":if(Ku(r)===0)break e;case"keydown":case"keyup":p=fk;break;case"focusin":m="focus",p=Yd;break;case"focusout":m="blur",p=Yd;break;case"beforeblur":case"afterblur":p=Yd;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=xg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=ek;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=mk;break;case vx:case xx:case wx:p=nk;break;case bx:p=yk;break;case"scroll":p=Y1;break;case"wheel":p=xk;break;case"copy":case"cut":case"paste":p=ik;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=bg}var y=(e&4)!==0,w=!y&&t==="scroll",v=y?h!==null?h+"Capture":null:h;y=[];for(var g=c,x;g!==null;){x=g;var k=x.stateNode;if(x.tag===5&&k!==null&&(x=k,v!==null&&(k=il(g,v),k!=null&&y.push(fl(g,k,x)))),w)break;g=g.return}0<y.length&&(h=new p(h,m,null,r,d),f.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&r!==th&&(m=r.relatedTarget||r.fromElement)&&(ei(m)||m[Bn]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=c,m=m?ei(m):null,m!==null&&(w=Pi(m),m!==w||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(y=xg,k="onMouseLeave",v="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(y=bg,k="onPointerLeave",v="onPointerEnter",g="pointer"),w=p==null?h:Xi(p),x=m==null?h:Xi(m),h=new y(k,g+"leave",p,r,d),h.target=w,h.relatedTarget=x,k=null,ei(d)===c&&(y=new y(v,g+"enter",m,r,d),y.target=x,y.relatedTarget=w,k=y),w=k,p&&m)t:{for(y=p,v=m,g=0,x=y;x;x=Mi(x))g++;for(x=0,k=v;k;k=Mi(k))x++;for(;0<g-x;)y=Mi(y),g--;for(;0<x-g;)v=Mi(v),x--;for(;g--;){if(y===v||v!==null&&y===v.alternate)break t;y=Mi(y),v=Mi(v)}y=null}else y=null;p!==null&&Og(f,h,p,y,!1),m!==null&&w!==null&&Og(f,w,m,y,!0)}}e:{if(h=c?Xi(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var E=Nk;else if(Sg(h))if(hx)E=Rk;else{E=Ck;var b=Ek}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=Pk);if(E&&(E=E(t,c))){fx(f,E,r,d);break e}b&&b(t,h,c),t==="focusout"&&(b=h._wrapperState)&&b.controlled&&h.type==="number"&&Gf(h,"number",h.value)}switch(b=c?Xi(c):window,t){case"focusin":(Sg(b)||b.contentEditable==="true")&&(Ji=b,lh=c,Ho=null);break;case"focusout":Ho=lh=Ji=null;break;case"mousedown":uh=!0;break;case"contextmenu":case"mouseup":case"dragend":uh=!1,Pg(f,r,d);break;case"selectionchange":if(Ak)break;case"keydown":case"keyup":Pg(f,r,d)}var A;if(Hp)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Gi?cx(t,r)&&(P="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(ux&&r.locale!=="ko"&&(Gi||P!=="onCompositionStart"?P==="onCompositionEnd"&&Gi&&(A=lx()):(_s=d,zp="value"in _s?_s.value:_s.textContent,Gi=!0)),b=yc(c,P),0<b.length&&(P=new wg(P,t,null,r,d),f.push({event:P,listeners:b}),A?P.data=A:(A=dx(r),A!==null&&(P.data=A)))),(A=bk?_k(t,r):kk(t,r))&&(c=yc(c,"onBeforeInput"),0<c.length&&(d=new wg("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:c}),d.data=A))}kx(f,e)})}function fl(t,e,r){return{instance:t,listener:e,currentTarget:r}}function yc(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=il(t,r),i!=null&&n.unshift(fl(t,i,s)),i=il(t,e),i!=null&&n.push(fl(t,i,s))),t=t.return}return n}function Mi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Og(t,e,r,n,s){for(var i=e._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,s?(l=il(r,i),l!=null&&a.unshift(fl(r,l,o))):s||(l=il(r,i),l!=null&&a.push(fl(r,l,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var Mk=/\r\n?/g,Fk=/\u0000|\uFFFD/g;function Ag(t){return(typeof t=="string"?t:""+t).replace(Mk,`
`).replace(Fk,"")}function Eu(t,e,r){if(e=Ag(e),Ag(t)!==e&&r)throw Error(H(425))}function vc(){}var ch=null,dh=null;function fh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var hh=typeof setTimeout=="function"?setTimeout:void 0,$k=typeof clearTimeout=="function"?clearTimeout:void 0,Lg=typeof Promise=="function"?Promise:void 0,Uk=typeof queueMicrotask=="function"?queueMicrotask:typeof Lg<"u"?function(t){return Lg.resolve(null).then(t).catch(zk)}:hh;function zk(t){setTimeout(function(){throw t})}function of(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),ll(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);ll(e)}function Ps(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Dg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Za=Math.random().toString(36).slice(2),mn="__reactFiber$"+Za,hl="__reactProps$"+Za,Bn="__reactContainer$"+Za,ph="__reactEvents$"+Za,Bk="__reactListeners$"+Za,Vk="__reactHandles$"+Za;function ei(t){var e=t[mn];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Bn]||r[mn]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Dg(t);t!==null;){if(r=t[mn])return r;t=Dg(t)}return e}t=r,r=t.parentNode}return null}function Jl(t){return t=t[mn]||t[Bn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Xi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function ud(t){return t[hl]||null}var mh=[],ea=-1;function zs(t){return{current:t}}function st(t){0>ea||(t.current=mh[ea],mh[ea]=null,ea--)}function tt(t,e){ea++,mh[ea]=t.current,t.current=e}var Ds={},Ht=zs(Ds),ur=zs(!1),gi=Ds;function Oa(t,e){var r=t.type.contextTypes;if(!r)return Ds;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function cr(t){return t=t.childContextTypes,t!=null}function xc(){st(ur),st(Ht)}function Ig(t,e,r){if(Ht.current!==Ds)throw Error(H(168));tt(Ht,e),tt(ur,r)}function jx(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(H(108,E1(t)||"Unknown",s));return dt({},r,n)}function wc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ds,gi=Ht.current,tt(Ht,t),tt(ur,ur.current),!0}function Mg(t,e,r){var n=t.stateNode;if(!n)throw Error(H(169));r?(t=jx(t,e,gi),n.__reactInternalMemoizedMergedChildContext=t,st(ur),st(Ht),tt(Ht,t)):st(ur),tt(ur,r)}var On=null,cd=!1,lf=!1;function Nx(t){On===null?On=[t]:On.push(t)}function Hk(t){cd=!0,Nx(t)}function Bs(){if(!lf&&On!==null){lf=!0;var t=0,e=Qe;try{var r=On;for(Qe=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}On=null,cd=!1}catch(s){throw On!==null&&(On=On.slice(t+1)),Jv(Mp,Bs),s}finally{Qe=e,lf=!1}}return null}var ta=[],ra=0,bc=null,_c=0,Ar=[],Lr=0,yi=null,Ln=1,Dn="";function Qs(t,e){ta[ra++]=_c,ta[ra++]=bc,bc=t,_c=e}function Ex(t,e,r){Ar[Lr++]=Ln,Ar[Lr++]=Dn,Ar[Lr++]=yi,yi=t;var n=Ln;t=Dn;var s=32-Xr(n)-1;n&=~(1<<s),r+=1;var i=32-Xr(e)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,Ln=1<<32-Xr(e)+s|r<<s|n,Dn=i+t}else Ln=1<<i|r<<s|n,Dn=t}function Wp(t){t.return!==null&&(Qs(t,1),Ex(t,1,0))}function Kp(t){for(;t===bc;)bc=ta[--ra],ta[ra]=null,_c=ta[--ra],ta[ra]=null;for(;t===yi;)yi=Ar[--Lr],Ar[Lr]=null,Dn=Ar[--Lr],Ar[Lr]=null,Ln=Ar[--Lr],Ar[Lr]=null}var Sr=null,_r=null,ot=!1,Zr=null;function Cx(t,e){var r=Mr(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Fg(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Sr=t,_r=Ps(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Sr=t,_r=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=yi!==null?{id:Ln,overflow:Dn}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Mr(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Sr=t,_r=null,!0):!1;default:return!1}}function gh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function yh(t){if(ot){var e=_r;if(e){var r=e;if(!Fg(t,e)){if(gh(t))throw Error(H(418));e=Ps(r.nextSibling);var n=Sr;e&&Fg(t,e)?Cx(n,r):(t.flags=t.flags&-4097|2,ot=!1,Sr=t)}}else{if(gh(t))throw Error(H(418));t.flags=t.flags&-4097|2,ot=!1,Sr=t}}}function $g(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Sr=t}function Cu(t){if(t!==Sr)return!1;if(!ot)return $g(t),ot=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!fh(t.type,t.memoizedProps)),e&&(e=_r)){if(gh(t))throw Px(),Error(H(418));for(;e;)Cx(t,e),e=Ps(e.nextSibling)}if($g(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){_r=Ps(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}_r=null}}else _r=Sr?Ps(t.stateNode.nextSibling):null;return!0}function Px(){for(var t=_r;t;)t=Ps(t.nextSibling)}function Aa(){_r=Sr=null,ot=!1}function Qp(t){Zr===null?Zr=[t]:Zr.push(t)}var qk=Kn.ReactCurrentBatchConfig;function mo(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(H(309));var n=r.stateNode}if(!n)throw Error(H(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(H(284));if(!r._owner)throw Error(H(290,t))}return t}function Pu(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ug(t){var e=t._init;return e(t._payload)}function Rx(t){function e(v,g){if(t){var x=v.deletions;x===null?(v.deletions=[g],v.flags|=16):x.push(g)}}function r(v,g){if(!t)return null;for(;g!==null;)e(v,g),g=g.sibling;return null}function n(v,g){for(v=new Map;g!==null;)g.key!==null?v.set(g.key,g):v.set(g.index,g),g=g.sibling;return v}function s(v,g){return v=As(v,g),v.index=0,v.sibling=null,v}function i(v,g,x){return v.index=x,t?(x=v.alternate,x!==null?(x=x.index,x<g?(v.flags|=2,g):x):(v.flags|=2,g)):(v.flags|=1048576,g)}function a(v){return t&&v.alternate===null&&(v.flags|=2),v}function o(v,g,x,k){return g===null||g.tag!==6?(g=mf(x,v.mode,k),g.return=v,g):(g=s(g,x),g.return=v,g)}function l(v,g,x,k){var E=x.type;return E===Zi?d(v,g,x.props.children,k,x.key):g!==null&&(g.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===ss&&Ug(E)===g.type)?(k=s(g,x.props),k.ref=mo(v,g,x),k.return=v,k):(k=ec(x.type,x.key,x.props,null,v.mode,k),k.ref=mo(v,g,x),k.return=v,k)}function c(v,g,x,k){return g===null||g.tag!==4||g.stateNode.containerInfo!==x.containerInfo||g.stateNode.implementation!==x.implementation?(g=gf(x,v.mode,k),g.return=v,g):(g=s(g,x.children||[]),g.return=v,g)}function d(v,g,x,k,E){return g===null||g.tag!==7?(g=hi(x,v.mode,k,E),g.return=v,g):(g=s(g,x),g.return=v,g)}function f(v,g,x){if(typeof g=="string"&&g!==""||typeof g=="number")return g=mf(""+g,v.mode,x),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case vu:return x=ec(g.type,g.key,g.props,null,v.mode,x),x.ref=mo(v,null,g),x.return=v,x;case Qi:return g=gf(g,v.mode,x),g.return=v,g;case ss:var k=g._init;return f(v,k(g._payload),x)}if(Po(g)||uo(g))return g=hi(g,v.mode,x,null),g.return=v,g;Pu(v,g)}return null}function h(v,g,x,k){var E=g!==null?g.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return E!==null?null:o(v,g,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case vu:return x.key===E?l(v,g,x,k):null;case Qi:return x.key===E?c(v,g,x,k):null;case ss:return E=x._init,h(v,g,E(x._payload),k)}if(Po(x)||uo(x))return E!==null?null:d(v,g,x,k,null);Pu(v,x)}return null}function p(v,g,x,k,E){if(typeof k=="string"&&k!==""||typeof k=="number")return v=v.get(x)||null,o(g,v,""+k,E);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case vu:return v=v.get(k.key===null?x:k.key)||null,l(g,v,k,E);case Qi:return v=v.get(k.key===null?x:k.key)||null,c(g,v,k,E);case ss:var b=k._init;return p(v,g,x,b(k._payload),E)}if(Po(k)||uo(k))return v=v.get(x)||null,d(g,v,k,E,null);Pu(g,k)}return null}function m(v,g,x,k){for(var E=null,b=null,A=g,P=g=0,L=null;A!==null&&P<x.length;P++){A.index>P?(L=A,A=null):L=A.sibling;var F=h(v,A,x[P],k);if(F===null){A===null&&(A=L);break}t&&A&&F.alternate===null&&e(v,A),g=i(F,g,P),b===null?E=F:b.sibling=F,b=F,A=L}if(P===x.length)return r(v,A),ot&&Qs(v,P),E;if(A===null){for(;P<x.length;P++)A=f(v,x[P],k),A!==null&&(g=i(A,g,P),b===null?E=A:b.sibling=A,b=A);return ot&&Qs(v,P),E}for(A=n(v,A);P<x.length;P++)L=p(A,v,P,x[P],k),L!==null&&(t&&L.alternate!==null&&A.delete(L.key===null?P:L.key),g=i(L,g,P),b===null?E=L:b.sibling=L,b=L);return t&&A.forEach(function(K){return e(v,K)}),ot&&Qs(v,P),E}function y(v,g,x,k){var E=uo(x);if(typeof E!="function")throw Error(H(150));if(x=E.call(x),x==null)throw Error(H(151));for(var b=E=null,A=g,P=g=0,L=null,F=x.next();A!==null&&!F.done;P++,F=x.next()){A.index>P?(L=A,A=null):L=A.sibling;var K=h(v,A,F.value,k);if(K===null){A===null&&(A=L);break}t&&A&&K.alternate===null&&e(v,A),g=i(K,g,P),b===null?E=K:b.sibling=K,b=K,A=L}if(F.done)return r(v,A),ot&&Qs(v,P),E;if(A===null){for(;!F.done;P++,F=x.next())F=f(v,F.value,k),F!==null&&(g=i(F,g,P),b===null?E=F:b.sibling=F,b=F);return ot&&Qs(v,P),E}for(A=n(v,A);!F.done;P++,F=x.next())F=p(A,v,P,F.value,k),F!==null&&(t&&F.alternate!==null&&A.delete(F.key===null?P:F.key),g=i(F,g,P),b===null?E=F:b.sibling=F,b=F);return t&&A.forEach(function(D){return e(v,D)}),ot&&Qs(v,P),E}function w(v,g,x,k){if(typeof x=="object"&&x!==null&&x.type===Zi&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case vu:e:{for(var E=x.key,b=g;b!==null;){if(b.key===E){if(E=x.type,E===Zi){if(b.tag===7){r(v,b.sibling),g=s(b,x.props.children),g.return=v,v=g;break e}}else if(b.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===ss&&Ug(E)===b.type){r(v,b.sibling),g=s(b,x.props),g.ref=mo(v,b,x),g.return=v,v=g;break e}r(v,b);break}else e(v,b);b=b.sibling}x.type===Zi?(g=hi(x.props.children,v.mode,k,x.key),g.return=v,v=g):(k=ec(x.type,x.key,x.props,null,v.mode,k),k.ref=mo(v,g,x),k.return=v,v=k)}return a(v);case Qi:e:{for(b=x.key;g!==null;){if(g.key===b)if(g.tag===4&&g.stateNode.containerInfo===x.containerInfo&&g.stateNode.implementation===x.implementation){r(v,g.sibling),g=s(g,x.children||[]),g.return=v,v=g;break e}else{r(v,g);break}else e(v,g);g=g.sibling}g=gf(x,v.mode,k),g.return=v,v=g}return a(v);case ss:return b=x._init,w(v,g,b(x._payload),k)}if(Po(x))return m(v,g,x,k);if(uo(x))return y(v,g,x,k);Pu(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,g!==null&&g.tag===6?(r(v,g.sibling),g=s(g,x),g.return=v,v=g):(r(v,g),g=mf(x,v.mode,k),g.return=v,v=g),a(v)):r(v,g)}return w}var La=Rx(!0),Tx=Rx(!1),kc=zs(null),Sc=null,na=null,Zp=null;function Gp(){Zp=na=Sc=null}function Jp(t){var e=kc.current;st(kc),t._currentValue=e}function vh(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function ha(t,e){Sc=t,Zp=na=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(lr=!0),t.firstContext=null)}function Ur(t){var e=t._currentValue;if(Zp!==t)if(t={context:t,memoizedValue:e,next:null},na===null){if(Sc===null)throw Error(H(308));na=t,Sc.dependencies={lanes:0,firstContext:t}}else na=na.next=t;return e}var ti=null;function Yp(t){ti===null?ti=[t]:ti.push(t)}function Ox(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Yp(e)):(r.next=s.next,s.next=r),e.interleaved=r,Vn(t,n)}function Vn(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var is=!1;function Xp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ax(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Mn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Rs(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ve&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,Vn(t,r)}return s=n.interleaved,s===null?(e.next=e,Yp(n)):(e.next=s.next,s.next=e),n.interleaved=e,Vn(t,r)}function Qu(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Fp(t,r)}}function zg(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function jc(t,e,r,n){var s=t.updateQueue;is=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?i=c:a.next=c,a=l;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;a=0,d=c=l=null,o=i;do{var h=o.lane,p=o.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=t,y=o;switch(h=e,p=r,y.tag){case 1:if(m=y.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=dt({},f,h);break e;case 2:is=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=p,l=f):d=d.next=p,a|=h;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;h=o,o=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);xi|=a,t.lanes=a,t.memoizedState=f}}function Bg(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(H(191,s));s.call(n)}}}var Yl={},xn=zs(Yl),pl=zs(Yl),ml=zs(Yl);function ri(t){if(t===Yl)throw Error(H(174));return t}function em(t,e){switch(tt(ml,e),tt(pl,t),tt(xn,Yl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Yf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Yf(e,t)}st(xn),tt(xn,e)}function Da(){st(xn),st(pl),st(ml)}function Lx(t){ri(ml.current);var e=ri(xn.current),r=Yf(e,t.type);e!==r&&(tt(pl,t),tt(xn,r))}function tm(t){pl.current===t&&(st(xn),st(pl))}var ut=zs(0);function Nc(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var uf=[];function rm(){for(var t=0;t<uf.length;t++)uf[t]._workInProgressVersionPrimary=null;uf.length=0}var Zu=Kn.ReactCurrentDispatcher,cf=Kn.ReactCurrentBatchConfig,vi=0,ct=null,Et=null,Tt=null,Ec=!1,qo=!1,gl=0,Wk=0;function Ut(){throw Error(H(321))}function nm(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!rn(t[r],e[r]))return!1;return!0}function sm(t,e,r,n,s,i){if(vi=i,ct=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Zu.current=t===null||t.memoizedState===null?Gk:Jk,t=r(n,s),qo){i=0;do{if(qo=!1,gl=0,25<=i)throw Error(H(301));i+=1,Tt=Et=null,e.updateQueue=null,Zu.current=Yk,t=r(n,s)}while(qo)}if(Zu.current=Cc,e=Et!==null&&Et.next!==null,vi=0,Tt=Et=ct=null,Ec=!1,e)throw Error(H(300));return t}function im(){var t=gl!==0;return gl=0,t}function un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?ct.memoizedState=Tt=t:Tt=Tt.next=t,Tt}function zr(){if(Et===null){var t=ct.alternate;t=t!==null?t.memoizedState:null}else t=Et.next;var e=Tt===null?ct.memoizedState:Tt.next;if(e!==null)Tt=e,Et=t;else{if(t===null)throw Error(H(310));Et=t,t={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},Tt===null?ct.memoizedState=Tt=t:Tt=Tt.next=t}return Tt}function yl(t,e){return typeof e=="function"?e(t):e}function df(t){var e=zr(),r=e.queue;if(r===null)throw Error(H(311));r.lastRenderedReducer=t;var n=Et,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var o=a=null,l=null,c=i;do{var d=c.lane;if((vi&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,a=n):l=l.next=f,ct.lanes|=d,xi|=d}c=c.next}while(c!==null&&c!==i);l===null?a=n:l.next=o,rn(n,e.memoizedState)||(lr=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,ct.lanes|=i,xi|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function ff(t){var e=zr(),r=e.queue;if(r===null)throw Error(H(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);rn(i,e.memoizedState)||(lr=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function Dx(){}function Ix(t,e){var r=ct,n=zr(),s=e(),i=!rn(n.memoizedState,s);if(i&&(n.memoizedState=s,lr=!0),n=n.queue,am($x.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||Tt!==null&&Tt.memoizedState.tag&1){if(r.flags|=2048,vl(9,Fx.bind(null,r,n,s,e),void 0,null),At===null)throw Error(H(349));vi&30||Mx(r,e,s)}return s}function Mx(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=ct.updateQueue,e===null?(e={lastEffect:null,stores:null},ct.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Fx(t,e,r,n){e.value=r,e.getSnapshot=n,Ux(e)&&zx(t)}function $x(t,e,r){return r(function(){Ux(e)&&zx(t)})}function Ux(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!rn(t,r)}catch{return!0}}function zx(t){var e=Vn(t,1);e!==null&&en(e,t,1,-1)}function Vg(t){var e=un();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yl,lastRenderedState:t},e.queue=t,t=t.dispatch=Zk.bind(null,ct,t),[e.memoizedState,t]}function vl(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=ct.updateQueue,e===null?(e={lastEffect:null,stores:null},ct.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Bx(){return zr().memoizedState}function Gu(t,e,r,n){var s=un();ct.flags|=t,s.memoizedState=vl(1|e,r,void 0,n===void 0?null:n)}function dd(t,e,r,n){var s=zr();n=n===void 0?null:n;var i=void 0;if(Et!==null){var a=Et.memoizedState;if(i=a.destroy,n!==null&&nm(n,a.deps)){s.memoizedState=vl(e,r,i,n);return}}ct.flags|=t,s.memoizedState=vl(1|e,r,i,n)}function Hg(t,e){return Gu(8390656,8,t,e)}function am(t,e){return dd(2048,8,t,e)}function Vx(t,e){return dd(4,2,t,e)}function Hx(t,e){return dd(4,4,t,e)}function qx(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Wx(t,e,r){return r=r!=null?r.concat([t]):null,dd(4,4,qx.bind(null,e,t),r)}function om(){}function Kx(t,e){var r=zr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&nm(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Qx(t,e){var r=zr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&nm(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Zx(t,e,r){return vi&21?(rn(r,e)||(r=ex(),ct.lanes|=r,xi|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,lr=!0),t.memoizedState=r)}function Kk(t,e){var r=Qe;Qe=r!==0&&4>r?r:4,t(!0);var n=cf.transition;cf.transition={};try{t(!1),e()}finally{Qe=r,cf.transition=n}}function Gx(){return zr().memoizedState}function Qk(t,e,r){var n=Os(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Jx(t))Yx(e,r);else if(r=Ox(t,e,r,n),r!==null){var s=Yt();en(r,t,n,s),Xx(r,e,n)}}function Zk(t,e,r){var n=Os(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Jx(t))Yx(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,o=i(a,r);if(s.hasEagerState=!0,s.eagerState=o,rn(o,a)){var l=e.interleaved;l===null?(s.next=s,Yp(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}r=Ox(t,e,s,n),r!==null&&(s=Yt(),en(r,t,n,s),Xx(r,e,n))}}function Jx(t){var e=t.alternate;return t===ct||e!==null&&e===ct}function Yx(t,e){qo=Ec=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Xx(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Fp(t,r)}}var Cc={readContext:Ur,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useInsertionEffect:Ut,useLayoutEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useMutableSource:Ut,useSyncExternalStore:Ut,useId:Ut,unstable_isNewReconciler:!1},Gk={readContext:Ur,useCallback:function(t,e){return un().memoizedState=[t,e===void 0?null:e],t},useContext:Ur,useEffect:Hg,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Gu(4194308,4,qx.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Gu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Gu(4,2,t,e)},useMemo:function(t,e){var r=un();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=un();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Qk.bind(null,ct,t),[n.memoizedState,t]},useRef:function(t){var e=un();return t={current:t},e.memoizedState=t},useState:Vg,useDebugValue:om,useDeferredValue:function(t){return un().memoizedState=t},useTransition:function(){var t=Vg(!1),e=t[0];return t=Kk.bind(null,t[1]),un().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=ct,s=un();if(ot){if(r===void 0)throw Error(H(407));r=r()}else{if(r=e(),At===null)throw Error(H(349));vi&30||Mx(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,Hg($x.bind(null,n,i,t),[t]),n.flags|=2048,vl(9,Fx.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=un(),e=At.identifierPrefix;if(ot){var r=Dn,n=Ln;r=(n&~(1<<32-Xr(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=gl++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Wk++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Jk={readContext:Ur,useCallback:Kx,useContext:Ur,useEffect:am,useImperativeHandle:Wx,useInsertionEffect:Vx,useLayoutEffect:Hx,useMemo:Qx,useReducer:df,useRef:Bx,useState:function(){return df(yl)},useDebugValue:om,useDeferredValue:function(t){var e=zr();return Zx(e,Et.memoizedState,t)},useTransition:function(){var t=df(yl)[0],e=zr().memoizedState;return[t,e]},useMutableSource:Dx,useSyncExternalStore:Ix,useId:Gx,unstable_isNewReconciler:!1},Yk={readContext:Ur,useCallback:Kx,useContext:Ur,useEffect:am,useImperativeHandle:Wx,useInsertionEffect:Vx,useLayoutEffect:Hx,useMemo:Qx,useReducer:ff,useRef:Bx,useState:function(){return ff(yl)},useDebugValue:om,useDeferredValue:function(t){var e=zr();return Et===null?e.memoizedState=t:Zx(e,Et.memoizedState,t)},useTransition:function(){var t=ff(yl)[0],e=zr().memoizedState;return[t,e]},useMutableSource:Dx,useSyncExternalStore:Ix,useId:Gx,unstable_isNewReconciler:!1};function Hr(t,e){if(t&&t.defaultProps){e=dt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function xh(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:dt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var fd={isMounted:function(t){return(t=t._reactInternals)?Pi(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Yt(),s=Os(t),i=Mn(n,s);i.payload=e,r!=null&&(i.callback=r),e=Rs(t,i,s),e!==null&&(en(e,t,s,n),Qu(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Yt(),s=Os(t),i=Mn(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Rs(t,i,s),e!==null&&(en(e,t,s,n),Qu(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Yt(),n=Os(t),s=Mn(r,n);s.tag=2,e!=null&&(s.callback=e),e=Rs(t,s,n),e!==null&&(en(e,t,n,r),Qu(e,t,n))}};function qg(t,e,r,n,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,a):e.prototype&&e.prototype.isPureReactComponent?!cl(r,n)||!cl(s,i):!0}function ew(t,e,r){var n=!1,s=Ds,i=e.contextType;return typeof i=="object"&&i!==null?i=Ur(i):(s=cr(e)?gi:Ht.current,n=e.contextTypes,i=(n=n!=null)?Oa(t,s):Ds),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=fd,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Wg(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&fd.enqueueReplaceState(e,e.state,null)}function wh(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},Xp(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Ur(i):(i=cr(e)?gi:Ht.current,s.context=Oa(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(xh(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&fd.enqueueReplaceState(s,s.state,null),jc(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Ia(t,e){try{var r="",n=e;do r+=N1(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function hf(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function bh(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Xk=typeof WeakMap=="function"?WeakMap:Map;function tw(t,e,r){r=Mn(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Rc||(Rc=!0,Th=n),bh(t,e)},r}function rw(t,e,r){r=Mn(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){bh(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){bh(t,e),typeof n!="function"&&(Ts===null?Ts=new Set([this]):Ts.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function Kg(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Xk;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=hS.bind(null,t,e,r),e.then(t,t))}function Qg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Zg(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Mn(-1,1),e.tag=2,Rs(r,e,1))),r.lanes|=1),t)}var eS=Kn.ReactCurrentOwner,lr=!1;function Gt(t,e,r,n){e.child=t===null?Tx(e,null,r,n):La(e,t.child,r,n)}function Gg(t,e,r,n,s){r=r.render;var i=e.ref;return ha(e,s),n=sm(t,e,r,n,i,s),r=im(),t!==null&&!lr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Hn(t,e,s)):(ot&&r&&Wp(e),e.flags|=1,Gt(t,e,n,s),e.child)}function Jg(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!mm(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,nw(t,e,i,n,s)):(t=ec(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:cl,r(a,n)&&t.ref===e.ref)return Hn(t,e,s)}return e.flags|=1,t=As(i,n),t.ref=e.ref,t.return=e,e.child=t}function nw(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(cl(i,n)&&t.ref===e.ref)if(lr=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(lr=!0);else return e.lanes=t.lanes,Hn(t,e,s)}return _h(t,e,r,n,s)}function sw(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt(ia,yr),yr|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,tt(ia,yr),yr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,tt(ia,yr),yr|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,tt(ia,yr),yr|=n;return Gt(t,e,s,r),e.child}function iw(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function _h(t,e,r,n,s){var i=cr(r)?gi:Ht.current;return i=Oa(e,i),ha(e,s),r=sm(t,e,r,n,i,s),n=im(),t!==null&&!lr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Hn(t,e,s)):(ot&&n&&Wp(e),e.flags|=1,Gt(t,e,r,s),e.child)}function Yg(t,e,r,n,s){if(cr(r)){var i=!0;wc(e)}else i=!1;if(ha(e,s),e.stateNode===null)Ju(t,e),ew(e,r,n),wh(e,r,n,s),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=Ur(c):(c=cr(r)?gi:Ht.current,c=Oa(e,c));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==c)&&Wg(e,a,n,c),is=!1;var h=e.memoizedState;a.state=h,jc(e,n,a,s),l=e.memoizedState,o!==n||h!==l||ur.current||is?(typeof d=="function"&&(xh(e,r,d,n),l=e.memoizedState),(o=is||qg(e,r,o,n,h,l,c))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=c,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,Ax(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:Hr(e.type,o),a.props=c,f=e.pendingProps,h=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=Ur(l):(l=cr(r)?gi:Ht.current,l=Oa(e,l));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||h!==l)&&Wg(e,a,n,l),is=!1,h=e.memoizedState,a.state=h,jc(e,n,a,s);var m=e.memoizedState;o!==f||h!==m||ur.current||is?(typeof p=="function"&&(xh(e,r,p,n),m=e.memoizedState),(c=is||qg(e,r,c,n,h,m,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,m,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,m,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),a.props=n,a.state=m,a.context=l,n=c):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return kh(t,e,r,n,i,s)}function kh(t,e,r,n,s,i){iw(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return s&&Mg(e,r,!1),Hn(t,e,i);n=e.stateNode,eS.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=La(e,t.child,null,i),e.child=La(e,null,o,i)):Gt(t,e,o,i),e.memoizedState=n.state,s&&Mg(e,r,!0),e.child}function aw(t){var e=t.stateNode;e.pendingContext?Ig(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ig(t,e.context,!1),em(t,e.containerInfo)}function Xg(t,e,r,n,s){return Aa(),Qp(s),e.flags|=256,Gt(t,e,r,n),e.child}var Sh={dehydrated:null,treeContext:null,retryLane:0};function jh(t){return{baseLanes:t,cachePool:null,transitions:null}}function ow(t,e,r){var n=e.pendingProps,s=ut.current,i=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(s&2)!==0),o?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),tt(ut,s&1),t===null)return yh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,i?(n=e.mode,i=e.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=md(a,n,0,null),t=hi(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=jh(r),e.memoizedState=Sh,t):lm(e,a));if(s=t.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return tS(t,e,a,n,o,s,r);if(i){i=n.fallback,a=e.mode,s=t.child,o=s.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=As(s,l),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=As(o,i):(i=hi(i,a,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,a=t.child.memoizedState,a=a===null?jh(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~r,e.memoizedState=Sh,n}return i=t.child,t=i.sibling,n=As(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function lm(t,e){return e=md({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ru(t,e,r,n){return n!==null&&Qp(n),La(e,t.child,null,r),t=lm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function tS(t,e,r,n,s,i,a){if(r)return e.flags&256?(e.flags&=-257,n=hf(Error(H(422))),Ru(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=md({mode:"visible",children:n.children},s,0,null),i=hi(i,s,a,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&La(e,t.child,null,a),e.child.memoizedState=jh(a),e.memoizedState=Sh,i);if(!(e.mode&1))return Ru(t,e,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(H(419)),n=hf(i,n,void 0),Ru(t,e,a,n)}if(o=(a&t.childLanes)!==0,lr||o){if(n=At,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Vn(t,s),en(n,t,s,-1))}return pm(),n=hf(Error(H(421))),Ru(t,e,a,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=pS.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,_r=Ps(s.nextSibling),Sr=e,ot=!0,Zr=null,t!==null&&(Ar[Lr++]=Ln,Ar[Lr++]=Dn,Ar[Lr++]=yi,Ln=t.id,Dn=t.overflow,yi=e),e=lm(e,n.children),e.flags|=4096,e)}function e0(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),vh(t.return,e,r)}function pf(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function lw(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(Gt(t,e,n.children,r),n=ut.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&e0(t,r,e);else if(t.tag===19)e0(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(tt(ut,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Nc(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),pf(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Nc(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}pf(e,!0,r,null,i);break;case"together":pf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ju(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Hn(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),xi|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,r=As(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=As(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function rS(t,e,r){switch(e.tag){case 3:aw(e),Aa();break;case 5:Lx(e);break;case 1:cr(e.type)&&wc(e);break;case 4:em(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;tt(kc,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(tt(ut,ut.current&1),e.flags|=128,null):r&e.child.childLanes?ow(t,e,r):(tt(ut,ut.current&1),t=Hn(t,e,r),t!==null?t.sibling:null);tt(ut,ut.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return lw(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),tt(ut,ut.current),n)break;return null;case 22:case 23:return e.lanes=0,sw(t,e,r)}return Hn(t,e,r)}var uw,Nh,cw,dw;uw=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Nh=function(){};cw=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,ri(xn.current);var i=null;switch(r){case"input":s=Qf(t,s),n=Qf(t,n),i=[];break;case"select":s=dt({},s,{value:void 0}),n=dt({},n,{value:void 0}),i=[];break;case"textarea":s=Jf(t,s),n=Jf(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=vc)}Xf(r,n);var a;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var o=s[c];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(nl.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(o=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(nl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&nt("scroll",t),i||o===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};dw=function(t,e,r,n){r!==n&&(e.flags|=4)};function go(t,e){if(!ot)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function zt(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function nS(t,e,r){var n=e.pendingProps;switch(Kp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(e),null;case 1:return cr(e.type)&&xc(),zt(e),null;case 3:return n=e.stateNode,Da(),st(ur),st(Ht),rm(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Cu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Zr!==null&&(Lh(Zr),Zr=null))),Nh(t,e),zt(e),null;case 5:tm(e);var s=ri(ml.current);if(r=e.type,t!==null&&e.stateNode!=null)cw(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(H(166));return zt(e),null}if(t=ri(xn.current),Cu(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[mn]=e,n[hl]=i,t=(e.mode&1)!==0,r){case"dialog":nt("cancel",n),nt("close",n);break;case"iframe":case"object":case"embed":nt("load",n);break;case"video":case"audio":for(s=0;s<To.length;s++)nt(To[s],n);break;case"source":nt("error",n);break;case"img":case"image":case"link":nt("error",n),nt("load",n);break;case"details":nt("toggle",n);break;case"input":ug(n,i),nt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},nt("invalid",n);break;case"textarea":dg(n,i),nt("invalid",n)}Xf(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&Eu(n.textContent,o,t),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Eu(n.textContent,o,t),s=["children",""+o]):nl.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&nt("scroll",n)}switch(r){case"input":xu(n),cg(n,i,!0);break;case"textarea":xu(n),fg(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=vc)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=$v(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[mn]=e,t[hl]=n,uw(t,e,!1,!1),e.stateNode=t;e:{switch(a=eh(r,n),r){case"dialog":nt("cancel",t),nt("close",t),s=n;break;case"iframe":case"object":case"embed":nt("load",t),s=n;break;case"video":case"audio":for(s=0;s<To.length;s++)nt(To[s],t);s=n;break;case"source":nt("error",t),s=n;break;case"img":case"image":case"link":nt("error",t),nt("load",t),s=n;break;case"details":nt("toggle",t),s=n;break;case"input":ug(t,n),s=Qf(t,n),nt("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=dt({},n,{value:void 0}),nt("invalid",t);break;case"textarea":dg(t,n),s=Jf(t,n),nt("invalid",t);break;default:s=n}Xf(r,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?Bv(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Uv(t,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&sl(t,l):typeof l=="number"&&sl(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(nl.hasOwnProperty(i)?l!=null&&i==="onScroll"&&nt("scroll",t):l!=null&&Op(t,i,l,a))}switch(r){case"input":xu(t),cg(t,n,!1);break;case"textarea":xu(t),fg(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Ls(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?ua(t,!!n.multiple,i,!1):n.defaultValue!=null&&ua(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=vc)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return zt(e),null;case 6:if(t&&e.stateNode!=null)dw(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(H(166));if(r=ri(ml.current),ri(xn.current),Cu(e)){if(n=e.stateNode,r=e.memoizedProps,n[mn]=e,(i=n.nodeValue!==r)&&(t=Sr,t!==null))switch(t.tag){case 3:Eu(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Eu(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[mn]=e,e.stateNode=n}return zt(e),null;case 13:if(st(ut),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ot&&_r!==null&&e.mode&1&&!(e.flags&128))Px(),Aa(),e.flags|=98560,i=!1;else if(i=Cu(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(H(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(H(317));i[mn]=e}else Aa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;zt(e),i=!1}else Zr!==null&&(Lh(Zr),Zr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||ut.current&1?Pt===0&&(Pt=3):pm())),e.updateQueue!==null&&(e.flags|=4),zt(e),null);case 4:return Da(),Nh(t,e),t===null&&dl(e.stateNode.containerInfo),zt(e),null;case 10:return Jp(e.type._context),zt(e),null;case 17:return cr(e.type)&&xc(),zt(e),null;case 19:if(st(ut),i=e.memoizedState,i===null)return zt(e),null;if(n=(e.flags&128)!==0,a=i.rendering,a===null)if(n)go(i,!1);else{if(Pt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Nc(t),a!==null){for(e.flags|=128,go(i,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return tt(ut,ut.current&1|2),e.child}t=t.sibling}i.tail!==null&&xt()>Ma&&(e.flags|=128,n=!0,go(i,!1),e.lanes=4194304)}else{if(!n)if(t=Nc(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),go(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!ot)return zt(e),null}else 2*xt()-i.renderingStartTime>Ma&&r!==1073741824&&(e.flags|=128,n=!0,go(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(r=i.last,r!==null?r.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=xt(),e.sibling=null,r=ut.current,tt(ut,n?r&1|2:r&1),e):(zt(e),null);case 22:case 23:return hm(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?yr&1073741824&&(zt(e),e.subtreeFlags&6&&(e.flags|=8192)):zt(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function sS(t,e){switch(Kp(e),e.tag){case 1:return cr(e.type)&&xc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Da(),st(ur),st(Ht),rm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return tm(e),null;case 13:if(st(ut),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));Aa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return st(ut),null;case 4:return Da(),null;case 10:return Jp(e.type._context),null;case 22:case 23:return hm(),null;case 24:return null;default:return null}}var Tu=!1,Vt=!1,iS=typeof WeakSet=="function"?WeakSet:Set,te=null;function sa(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){yt(t,e,n)}else r.current=null}function Eh(t,e,r){try{r()}catch(n){yt(t,e,n)}}var t0=!1;function aS(t,e){if(ch=mc,t=gx(),qp(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,c=0,d=0,f=t,h=null;t:for(;;){for(var p;f!==r||s!==0&&f.nodeType!==3||(o=a+s),f!==i||n!==0&&f.nodeType!==3||(l=a+n),f.nodeType===3&&(a+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===r&&++c===s&&(o=a),h===i&&++d===n&&(l=a),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(dh={focusedElem:t,selectionRange:r},mc=!1,te=e;te!==null;)if(e=te,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,te=t;else for(;te!==null;){e=te;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,w=m.memoizedState,v=e.stateNode,g=v.getSnapshotBeforeUpdate(e.elementType===e.type?y:Hr(e.type,y),w);v.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(k){yt(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,te=t;break}te=e.return}return m=t0,t0=!1,m}function Wo(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Eh(e,r,i)}s=s.next}while(s!==n)}}function hd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Ch(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function fw(t){var e=t.alternate;e!==null&&(t.alternate=null,fw(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[mn],delete e[hl],delete e[ph],delete e[Bk],delete e[Vk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function hw(t){return t.tag===5||t.tag===3||t.tag===4}function r0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||hw(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ph(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=vc));else if(n!==4&&(t=t.child,t!==null))for(Ph(t,e,r),t=t.sibling;t!==null;)Ph(t,e,r),t=t.sibling}function Rh(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Rh(t,e,r),t=t.sibling;t!==null;)Rh(t,e,r),t=t.sibling}var It=null,Wr=!1;function Yn(t,e,r){for(r=r.child;r!==null;)pw(t,e,r),r=r.sibling}function pw(t,e,r){if(vn&&typeof vn.onCommitFiberUnmount=="function")try{vn.onCommitFiberUnmount(id,r)}catch{}switch(r.tag){case 5:Vt||sa(r,e);case 6:var n=It,s=Wr;It=null,Yn(t,e,r),It=n,Wr=s,It!==null&&(Wr?(t=It,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):It.removeChild(r.stateNode));break;case 18:It!==null&&(Wr?(t=It,r=r.stateNode,t.nodeType===8?of(t.parentNode,r):t.nodeType===1&&of(t,r),ll(t)):of(It,r.stateNode));break;case 4:n=It,s=Wr,It=r.stateNode.containerInfo,Wr=!0,Yn(t,e,r),It=n,Wr=s;break;case 0:case 11:case 14:case 15:if(!Vt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Eh(r,e,a),s=s.next}while(s!==n)}Yn(t,e,r);break;case 1:if(!Vt&&(sa(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){yt(r,e,o)}Yn(t,e,r);break;case 21:Yn(t,e,r);break;case 22:r.mode&1?(Vt=(n=Vt)||r.memoizedState!==null,Yn(t,e,r),Vt=n):Yn(t,e,r);break;default:Yn(t,e,r)}}function n0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new iS),e.forEach(function(n){var s=mS.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Br(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:It=o.stateNode,Wr=!1;break e;case 3:It=o.stateNode.containerInfo,Wr=!0;break e;case 4:It=o.stateNode.containerInfo,Wr=!0;break e}o=o.return}if(It===null)throw Error(H(160));pw(i,a,s),It=null,Wr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){yt(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)mw(e,t),e=e.sibling}function mw(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Br(e,t),ln(t),n&4){try{Wo(3,t,t.return),hd(3,t)}catch(y){yt(t,t.return,y)}try{Wo(5,t,t.return)}catch(y){yt(t,t.return,y)}}break;case 1:Br(e,t),ln(t),n&512&&r!==null&&sa(r,r.return);break;case 5:if(Br(e,t),ln(t),n&512&&r!==null&&sa(r,r.return),t.flags&32){var s=t.stateNode;try{sl(s,"")}catch(y){yt(t,t.return,y)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=r!==null?r.memoizedProps:i,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Mv(s,i),eh(o,a);var c=eh(o,i);for(a=0;a<l.length;a+=2){var d=l[a],f=l[a+1];d==="style"?Bv(s,f):d==="dangerouslySetInnerHTML"?Uv(s,f):d==="children"?sl(s,f):Op(s,d,f,c)}switch(o){case"input":Zf(s,i);break;case"textarea":Fv(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?ua(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?ua(s,!!i.multiple,i.defaultValue,!0):ua(s,!!i.multiple,i.multiple?[]:"",!1))}s[hl]=i}catch(y){yt(t,t.return,y)}}break;case 6:if(Br(e,t),ln(t),n&4){if(t.stateNode===null)throw Error(H(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){yt(t,t.return,y)}}break;case 3:if(Br(e,t),ln(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ll(e.containerInfo)}catch(y){yt(t,t.return,y)}break;case 4:Br(e,t),ln(t);break;case 13:Br(e,t),ln(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(dm=xt())),n&4&&n0(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Vt=(c=Vt)||d,Br(e,t),Vt=c):Br(e,t),ln(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(te=t,d=t.child;d!==null;){for(f=te=d;te!==null;){switch(h=te,p=h.child,h.tag){case 0:case 11:case 14:case 15:Wo(4,h,h.return);break;case 1:sa(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(y){yt(n,r,y)}}break;case 5:sa(h,h.return);break;case 22:if(h.memoizedState!==null){i0(f);continue}}p!==null?(p.return=h,te=p):i0(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=zv("display",a))}catch(y){yt(t,t.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(y){yt(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Br(e,t),ln(t),n&4&&n0(t);break;case 21:break;default:Br(e,t),ln(t)}}function ln(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(hw(r)){var n=r;break e}r=r.return}throw Error(H(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(sl(s,""),n.flags&=-33);var i=r0(t);Rh(t,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,o=r0(t);Ph(t,o,a);break;default:throw Error(H(161))}}catch(l){yt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function oS(t,e,r){te=t,gw(t)}function gw(t,e,r){for(var n=(t.mode&1)!==0;te!==null;){var s=te,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||Tu;if(!a){var o=s.alternate,l=o!==null&&o.memoizedState!==null||Vt;o=Tu;var c=Vt;if(Tu=a,(Vt=l)&&!c)for(te=s;te!==null;)a=te,l=a.child,a.tag===22&&a.memoizedState!==null?a0(s):l!==null?(l.return=a,te=l):a0(s);for(;i!==null;)te=i,gw(i),i=i.sibling;te=s,Tu=o,Vt=c}s0(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,te=i):s0(t)}}function s0(t){for(;te!==null;){var e=te;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Vt||hd(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Vt)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:Hr(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Bg(e,i,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Bg(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&ll(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Vt||e.flags&512&&Ch(e)}catch(h){yt(e,e.return,h)}}if(e===t){te=null;break}if(r=e.sibling,r!==null){r.return=e.return,te=r;break}te=e.return}}function i0(t){for(;te!==null;){var e=te;if(e===t){te=null;break}var r=e.sibling;if(r!==null){r.return=e.return,te=r;break}te=e.return}}function a0(t){for(;te!==null;){var e=te;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{hd(4,e)}catch(l){yt(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(l){yt(e,s,l)}}var i=e.return;try{Ch(e)}catch(l){yt(e,i,l)}break;case 5:var a=e.return;try{Ch(e)}catch(l){yt(e,a,l)}}}catch(l){yt(e,e.return,l)}if(e===t){te=null;break}var o=e.sibling;if(o!==null){o.return=e.return,te=o;break}te=e.return}}var lS=Math.ceil,Pc=Kn.ReactCurrentDispatcher,um=Kn.ReactCurrentOwner,Fr=Kn.ReactCurrentBatchConfig,Ve=0,At=null,St=null,Mt=0,yr=0,ia=zs(0),Pt=0,xl=null,xi=0,pd=0,cm=0,Ko=null,or=null,dm=0,Ma=1/0,Tn=null,Rc=!1,Th=null,Ts=null,Ou=!1,ks=null,Tc=0,Qo=0,Oh=null,Yu=-1,Xu=0;function Yt(){return Ve&6?xt():Yu!==-1?Yu:Yu=xt()}function Os(t){return t.mode&1?Ve&2&&Mt!==0?Mt&-Mt:qk.transition!==null?(Xu===0&&(Xu=ex()),Xu):(t=Qe,t!==0||(t=window.event,t=t===void 0?16:ox(t.type)),t):1}function en(t,e,r,n){if(50<Qo)throw Qo=0,Oh=null,Error(H(185));Zl(t,r,n),(!(Ve&2)||t!==At)&&(t===At&&(!(Ve&2)&&(pd|=r),Pt===4&&ls(t,Mt)),dr(t,n),r===1&&Ve===0&&!(e.mode&1)&&(Ma=xt()+500,cd&&Bs()))}function dr(t,e){var r=t.callbackNode;q1(t,e);var n=pc(t,t===At?Mt:0);if(n===0)r!==null&&mg(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&mg(r),e===1)t.tag===0?Hk(o0.bind(null,t)):Nx(o0.bind(null,t)),Uk(function(){!(Ve&6)&&Bs()}),r=null;else{switch(tx(n)){case 1:r=Mp;break;case 4:r=Yv;break;case 16:r=hc;break;case 536870912:r=Xv;break;default:r=hc}r=Sw(r,yw.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function yw(t,e){if(Yu=-1,Xu=0,Ve&6)throw Error(H(327));var r=t.callbackNode;if(pa()&&t.callbackNode!==r)return null;var n=pc(t,t===At?Mt:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Oc(t,n);else{e=n;var s=Ve;Ve|=2;var i=xw();(At!==t||Mt!==e)&&(Tn=null,Ma=xt()+500,fi(t,e));do try{dS();break}catch(o){vw(t,o)}while(!0);Gp(),Pc.current=i,Ve=s,St!==null?e=0:(At=null,Mt=0,e=Pt)}if(e!==0){if(e===2&&(s=ih(t),s!==0&&(n=s,e=Ah(t,s))),e===1)throw r=xl,fi(t,0),ls(t,n),dr(t,xt()),r;if(e===6)ls(t,n);else{if(s=t.current.alternate,!(n&30)&&!uS(s)&&(e=Oc(t,n),e===2&&(i=ih(t),i!==0&&(n=i,e=Ah(t,i))),e===1))throw r=xl,fi(t,0),ls(t,n),dr(t,xt()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(H(345));case 2:Zs(t,or,Tn);break;case 3:if(ls(t,n),(n&130023424)===n&&(e=dm+500-xt(),10<e)){if(pc(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){Yt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=hh(Zs.bind(null,t,or,Tn),e);break}Zs(t,or,Tn);break;case 4:if(ls(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var a=31-Xr(n);i=1<<a,a=e[a],a>s&&(s=a),n&=~i}if(n=s,n=xt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*lS(n/1960))-n,10<n){t.timeoutHandle=hh(Zs.bind(null,t,or,Tn),n);break}Zs(t,or,Tn);break;case 5:Zs(t,or,Tn);break;default:throw Error(H(329))}}}return dr(t,xt()),t.callbackNode===r?yw.bind(null,t):null}function Ah(t,e){var r=Ko;return t.current.memoizedState.isDehydrated&&(fi(t,e).flags|=256),t=Oc(t,e),t!==2&&(e=or,or=r,e!==null&&Lh(e)),t}function Lh(t){or===null?or=t:or.push.apply(or,t)}function uS(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!rn(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ls(t,e){for(e&=~cm,e&=~pd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Xr(e),n=1<<r;t[r]=-1,e&=~n}}function o0(t){if(Ve&6)throw Error(H(327));pa();var e=pc(t,0);if(!(e&1))return dr(t,xt()),null;var r=Oc(t,e);if(t.tag!==0&&r===2){var n=ih(t);n!==0&&(e=n,r=Ah(t,n))}if(r===1)throw r=xl,fi(t,0),ls(t,e),dr(t,xt()),r;if(r===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Zs(t,or,Tn),dr(t,xt()),null}function fm(t,e){var r=Ve;Ve|=1;try{return t(e)}finally{Ve=r,Ve===0&&(Ma=xt()+500,cd&&Bs())}}function wi(t){ks!==null&&ks.tag===0&&!(Ve&6)&&pa();var e=Ve;Ve|=1;var r=Fr.transition,n=Qe;try{if(Fr.transition=null,Qe=1,t)return t()}finally{Qe=n,Fr.transition=r,Ve=e,!(Ve&6)&&Bs()}}function hm(){yr=ia.current,st(ia)}function fi(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,$k(r)),St!==null)for(r=St.return;r!==null;){var n=r;switch(Kp(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&xc();break;case 3:Da(),st(ur),st(Ht),rm();break;case 5:tm(n);break;case 4:Da();break;case 13:st(ut);break;case 19:st(ut);break;case 10:Jp(n.type._context);break;case 22:case 23:hm()}r=r.return}if(At=t,St=t=As(t.current,null),Mt=yr=e,Pt=0,xl=null,cm=pd=xi=0,or=Ko=null,ti!==null){for(e=0;e<ti.length;e++)if(r=ti[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}ti=null}return t}function vw(t,e){do{var r=St;try{if(Gp(),Zu.current=Cc,Ec){for(var n=ct.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Ec=!1}if(vi=0,Tt=Et=ct=null,qo=!1,gl=0,um.current=null,r===null||r.return===null){Pt=1,xl=e,St=null;break}e:{var i=t,a=r.return,o=r,l=e;if(e=Mt,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Qg(a);if(p!==null){p.flags&=-257,Zg(p,a,o,i,e),p.mode&1&&Kg(i,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var y=new Set;y.add(l),e.updateQueue=y}else m.add(l);break e}else{if(!(e&1)){Kg(i,c,e),pm();break e}l=Error(H(426))}}else if(ot&&o.mode&1){var w=Qg(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Zg(w,a,o,i,e),Qp(Ia(l,o));break e}}i=l=Ia(l,o),Pt!==4&&(Pt=2),Ko===null?Ko=[i]:Ko.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=tw(i,l,e);zg(i,v);break e;case 1:o=l;var g=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Ts===null||!Ts.has(x)))){i.flags|=65536,e&=-e,i.lanes|=e;var k=rw(i,o,e);zg(i,k);break e}}i=i.return}while(i!==null)}bw(r)}catch(E){e=E,St===r&&r!==null&&(St=r=r.return);continue}break}while(!0)}function xw(){var t=Pc.current;return Pc.current=Cc,t===null?Cc:t}function pm(){(Pt===0||Pt===3||Pt===2)&&(Pt=4),At===null||!(xi&268435455)&&!(pd&268435455)||ls(At,Mt)}function Oc(t,e){var r=Ve;Ve|=2;var n=xw();(At!==t||Mt!==e)&&(Tn=null,fi(t,e));do try{cS();break}catch(s){vw(t,s)}while(!0);if(Gp(),Ve=r,Pc.current=n,St!==null)throw Error(H(261));return At=null,Mt=0,Pt}function cS(){for(;St!==null;)ww(St)}function dS(){for(;St!==null&&!I1();)ww(St)}function ww(t){var e=kw(t.alternate,t,yr);t.memoizedProps=t.pendingProps,e===null?bw(t):St=e,um.current=null}function bw(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=sS(r,e),r!==null){r.flags&=32767,St=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Pt=6,St=null;return}}else if(r=nS(r,e,yr),r!==null){St=r;return}if(e=e.sibling,e!==null){St=e;return}St=e=t}while(e!==null);Pt===0&&(Pt=5)}function Zs(t,e,r){var n=Qe,s=Fr.transition;try{Fr.transition=null,Qe=1,fS(t,e,r,n)}finally{Fr.transition=s,Qe=n}return null}function fS(t,e,r,n){do pa();while(ks!==null);if(Ve&6)throw Error(H(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(W1(t,i),t===At&&(St=At=null,Mt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ou||(Ou=!0,Sw(hc,function(){return pa(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Fr.transition,Fr.transition=null;var a=Qe;Qe=1;var o=Ve;Ve|=4,um.current=null,aS(t,r),mw(r,t),Ok(dh),mc=!!ch,dh=ch=null,t.current=r,oS(r),M1(),Ve=o,Qe=a,Fr.transition=i}else t.current=r;if(Ou&&(Ou=!1,ks=t,Tc=s),i=t.pendingLanes,i===0&&(Ts=null),U1(r.stateNode),dr(t,xt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Rc)throw Rc=!1,t=Th,Th=null,t;return Tc&1&&t.tag!==0&&pa(),i=t.pendingLanes,i&1?t===Oh?Qo++:(Qo=0,Oh=t):Qo=0,Bs(),null}function pa(){if(ks!==null){var t=tx(Tc),e=Fr.transition,r=Qe;try{if(Fr.transition=null,Qe=16>t?16:t,ks===null)var n=!1;else{if(t=ks,ks=null,Tc=0,Ve&6)throw Error(H(331));var s=Ve;for(Ve|=4,te=t.current;te!==null;){var i=te,a=i.child;if(te.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(te=c;te!==null;){var d=te;switch(d.tag){case 0:case 11:case 15:Wo(8,d,i)}var f=d.child;if(f!==null)f.return=d,te=f;else for(;te!==null;){d=te;var h=d.sibling,p=d.return;if(fw(d),d===c){te=null;break}if(h!==null){h.return=p,te=h;break}te=p}}}var m=i.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}te=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,te=a;else e:for(;te!==null;){if(i=te,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Wo(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,te=v;break e}te=i.return}}var g=t.current;for(te=g;te!==null;){a=te;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,te=x;else e:for(a=g;te!==null;){if(o=te,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:hd(9,o)}}catch(E){yt(o,o.return,E)}if(o===a){te=null;break e}var k=o.sibling;if(k!==null){k.return=o.return,te=k;break e}te=o.return}}if(Ve=s,Bs(),vn&&typeof vn.onPostCommitFiberRoot=="function")try{vn.onPostCommitFiberRoot(id,t)}catch{}n=!0}return n}finally{Qe=r,Fr.transition=e}}return!1}function l0(t,e,r){e=Ia(r,e),e=tw(t,e,1),t=Rs(t,e,1),e=Yt(),t!==null&&(Zl(t,1,e),dr(t,e))}function yt(t,e,r){if(t.tag===3)l0(t,t,r);else for(;e!==null;){if(e.tag===3){l0(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ts===null||!Ts.has(n))){t=Ia(r,t),t=rw(e,t,1),e=Rs(e,t,1),t=Yt(),e!==null&&(Zl(e,1,t),dr(e,t));break}}e=e.return}}function hS(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Yt(),t.pingedLanes|=t.suspendedLanes&r,At===t&&(Mt&r)===r&&(Pt===4||Pt===3&&(Mt&130023424)===Mt&&500>xt()-dm?fi(t,0):cm|=r),dr(t,e)}function _w(t,e){e===0&&(t.mode&1?(e=_u,_u<<=1,!(_u&130023424)&&(_u=4194304)):e=1);var r=Yt();t=Vn(t,e),t!==null&&(Zl(t,e,r),dr(t,r))}function pS(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),_w(t,r)}function mS(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(H(314))}n!==null&&n.delete(e),_w(t,r)}var kw;kw=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||ur.current)lr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return lr=!1,rS(t,e,r);lr=!!(t.flags&131072)}else lr=!1,ot&&e.flags&1048576&&Ex(e,_c,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Ju(t,e),t=e.pendingProps;var s=Oa(e,Ht.current);ha(e,r),s=sm(null,e,n,t,s,r);var i=im();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,cr(n)?(i=!0,wc(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Xp(e),s.updater=fd,e.stateNode=s,s._reactInternals=e,wh(e,n,t,r),e=kh(null,e,n,!0,i,r)):(e.tag=0,ot&&i&&Wp(e),Gt(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Ju(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=yS(n),t=Hr(n,t),s){case 0:e=_h(null,e,n,t,r);break e;case 1:e=Yg(null,e,n,t,r);break e;case 11:e=Gg(null,e,n,t,r);break e;case 14:e=Jg(null,e,n,Hr(n.type,t),r);break e}throw Error(H(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Hr(n,s),_h(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Hr(n,s),Yg(t,e,n,s,r);case 3:e:{if(aw(e),t===null)throw Error(H(387));n=e.pendingProps,i=e.memoizedState,s=i.element,Ax(t,e),jc(e,n,null,r);var a=e.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Ia(Error(H(423)),e),e=Xg(t,e,n,r,s);break e}else if(n!==s){s=Ia(Error(H(424)),e),e=Xg(t,e,n,r,s);break e}else for(_r=Ps(e.stateNode.containerInfo.firstChild),Sr=e,ot=!0,Zr=null,r=Tx(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Aa(),n===s){e=Hn(t,e,r);break e}Gt(t,e,n,r)}e=e.child}return e;case 5:return Lx(e),t===null&&yh(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,fh(n,s)?a=null:i!==null&&fh(n,i)&&(e.flags|=32),iw(t,e),Gt(t,e,a,r),e.child;case 6:return t===null&&yh(e),null;case 13:return ow(t,e,r);case 4:return em(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=La(e,null,n,r):Gt(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Hr(n,s),Gg(t,e,n,s,r);case 7:return Gt(t,e,e.pendingProps,r),e.child;case 8:return Gt(t,e,e.pendingProps.children,r),e.child;case 12:return Gt(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,tt(kc,n._currentValue),n._currentValue=a,i!==null)if(rn(i.value,a)){if(i.children===s.children&&!ur.current){e=Hn(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=Mn(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),vh(i.return,r,e),o.lanes|=r;break}l=l.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(H(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),vh(a,r,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Gt(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,ha(e,r),s=Ur(s),n=n(s),e.flags|=1,Gt(t,e,n,r),e.child;case 14:return n=e.type,s=Hr(n,e.pendingProps),s=Hr(n.type,s),Jg(t,e,n,s,r);case 15:return nw(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Hr(n,s),Ju(t,e),e.tag=1,cr(n)?(t=!0,wc(e)):t=!1,ha(e,r),ew(e,n,s),wh(e,n,s,r),kh(null,e,n,!0,t,r);case 19:return lw(t,e,r);case 22:return sw(t,e,r)}throw Error(H(156,e.tag))};function Sw(t,e){return Jv(t,e)}function gS(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mr(t,e,r,n){return new gS(t,e,r,n)}function mm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function yS(t){if(typeof t=="function")return mm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Lp)return 11;if(t===Dp)return 14}return 2}function As(t,e){var r=t.alternate;return r===null?(r=Mr(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function ec(t,e,r,n,s,i){var a=2;if(n=t,typeof t=="function")mm(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Zi:return hi(r.children,s,i,e);case Ap:a=8,s|=8;break;case Hf:return t=Mr(12,r,e,s|2),t.elementType=Hf,t.lanes=i,t;case qf:return t=Mr(13,r,e,s),t.elementType=qf,t.lanes=i,t;case Wf:return t=Mr(19,r,e,s),t.elementType=Wf,t.lanes=i,t;case Lv:return md(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ov:a=10;break e;case Av:a=9;break e;case Lp:a=11;break e;case Dp:a=14;break e;case ss:a=16,n=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=Mr(a,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function hi(t,e,r,n){return t=Mr(7,t,n,e),t.lanes=r,t}function md(t,e,r,n){return t=Mr(22,t,n,e),t.elementType=Lv,t.lanes=r,t.stateNode={isHidden:!1},t}function mf(t,e,r){return t=Mr(6,t,null,e),t.lanes=r,t}function gf(t,e,r){return e=Mr(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function vS(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zd(0),this.expirationTimes=Zd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zd(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function gm(t,e,r,n,s,i,a,o,l){return t=new vS(t,e,r,o,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Mr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xp(i),t}function xS(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qi,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function jw(t){if(!t)return Ds;t=t._reactInternals;e:{if(Pi(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(cr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var r=t.type;if(cr(r))return jx(t,r,e)}return e}function Nw(t,e,r,n,s,i,a,o,l){return t=gm(r,n,!0,t,s,i,a,o,l),t.context=jw(null),r=t.current,n=Yt(),s=Os(r),i=Mn(n,s),i.callback=e??null,Rs(r,i,s),t.current.lanes=s,Zl(t,s,n),dr(t,n),t}function gd(t,e,r,n){var s=e.current,i=Yt(),a=Os(s);return r=jw(r),e.context===null?e.context=r:e.pendingContext=r,e=Mn(i,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Rs(s,e,a),t!==null&&(en(t,s,a,i),Qu(t,s,a)),a}function Ac(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function u0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function ym(t,e){u0(t,e),(t=t.alternate)&&u0(t,e)}function wS(){return null}var Ew=typeof reportError=="function"?reportError:function(t){console.error(t)};function vm(t){this._internalRoot=t}yd.prototype.render=vm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));gd(t,e,null,null)};yd.prototype.unmount=vm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;wi(function(){gd(null,t,null,null)}),e[Bn]=null}};function yd(t){this._internalRoot=t}yd.prototype.unstable_scheduleHydration=function(t){if(t){var e=sx();t={blockedOn:null,target:t,priority:e};for(var r=0;r<os.length&&e!==0&&e<os[r].priority;r++);os.splice(r,0,t),r===0&&ax(t)}};function xm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function vd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function c0(){}function bS(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=Ac(a);i.call(c)}}var a=Nw(e,n,t,0,null,!1,!1,"",c0);return t._reactRootContainer=a,t[Bn]=a.current,dl(t.nodeType===8?t.parentNode:t),wi(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var c=Ac(l);o.call(c)}}var l=gm(t,0,!1,null,null,!1,!1,"",c0);return t._reactRootContainer=l,t[Bn]=l.current,dl(t.nodeType===8?t.parentNode:t),wi(function(){gd(e,l,r,n)}),l}function xd(t,e,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var l=Ac(a);o.call(l)}}gd(e,a,t,s)}else a=bS(r,e,t,s,n);return Ac(a)}rx=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Ro(e.pendingLanes);r!==0&&(Fp(e,r|1),dr(e,xt()),!(Ve&6)&&(Ma=xt()+500,Bs()))}break;case 13:wi(function(){var n=Vn(t,1);if(n!==null){var s=Yt();en(n,t,1,s)}}),ym(t,1)}};$p=function(t){if(t.tag===13){var e=Vn(t,134217728);if(e!==null){var r=Yt();en(e,t,134217728,r)}ym(t,134217728)}};nx=function(t){if(t.tag===13){var e=Os(t),r=Vn(t,e);if(r!==null){var n=Yt();en(r,t,e,n)}ym(t,e)}};sx=function(){return Qe};ix=function(t,e){var r=Qe;try{return Qe=t,e()}finally{Qe=r}};rh=function(t,e,r){switch(e){case"input":if(Zf(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=ud(n);if(!s)throw Error(H(90));Iv(n),Zf(n,s)}}}break;case"textarea":Fv(t,r);break;case"select":e=r.value,e!=null&&ua(t,!!r.multiple,e,!1)}};qv=fm;Wv=wi;var _S={usingClientEntryPoint:!1,Events:[Jl,Xi,ud,Vv,Hv,fm]},yo={findFiberByHostInstance:ei,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kS={bundleType:yo.bundleType,version:yo.version,rendererPackageName:yo.rendererPackageName,rendererConfig:yo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Zv(t),t===null?null:t.stateNode},findFiberByHostInstance:yo.findFiberByHostInstance||wS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Au=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Au.isDisabled&&Au.supportsFiber)try{id=Au.inject(kS),vn=Au}catch{}}Cr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_S;Cr.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xm(e))throw Error(H(200));return xS(t,e,null,r)};Cr.createRoot=function(t,e){if(!xm(t))throw Error(H(299));var r=!1,n="",s=Ew;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=gm(t,1,!1,null,null,r,!1,n,s),t[Bn]=e.current,dl(t.nodeType===8?t.parentNode:t),new vm(e)};Cr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=Zv(e),t=t===null?null:t.stateNode,t};Cr.flushSync=function(t){return wi(t)};Cr.hydrate=function(t,e,r){if(!vd(e))throw Error(H(200));return xd(null,t,e,!0,r)};Cr.hydrateRoot=function(t,e,r){if(!xm(t))throw Error(H(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=Ew;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=Nw(e,null,t,1,r??null,s,!1,i,a),t[Bn]=e.current,dl(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new yd(e)};Cr.render=function(t,e,r){if(!vd(e))throw Error(H(200));return xd(null,t,e,!1,r)};Cr.unmountComponentAtNode=function(t){if(!vd(t))throw Error(H(40));return t._reactRootContainer?(wi(function(){xd(null,null,t,!1,function(){t._reactRootContainer=null,t[Bn]=null})}),!0):!1};Cr.unstable_batchedUpdates=fm;Cr.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!vd(r))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return xd(t,e,r,!1,n)};Cr.version="18.3.1-next-f1338f8080-20240426";function Cw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Cw)}catch(t){console.error(t)}}Cw(),Cv.exports=Cr;var wm=Cv.exports;const SS=gv(wm),jS=mv({__proto__:null,default:SS},[wm]);var d0=wm;Bf.createRoot=d0.createRoot,Bf.hydrateRoot=d0.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function at(){return at=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},at.apply(this,arguments)}var kt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(kt||(kt={}));const f0="popstate";function NS(t){t===void 0&&(t={});function e(n,s){let{pathname:i,search:a,hash:o}=n.location;return wl("",{pathname:i,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:bi(s)}return CS(e,r,null,t)}function Oe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Fa(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ES(){return Math.random().toString(36).substr(2,8)}function h0(t,e){return{usr:t.state,key:t.key,idx:e}}function wl(t,e,r,n){return r===void 0&&(r=null),at({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Vs(e):e,{state:r,key:e&&e.key||n||ES()})}function bi(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Vs(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function CS(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,o=kt.Pop,l=null,c=d();c==null&&(c=0,a.replaceState(at({},a.state,{idx:c}),""));function d(){return(a.state||{idx:null}).idx}function f(){o=kt.Pop;let w=d(),v=w==null?null:w-c;c=w,l&&l({action:o,location:y.location,delta:v})}function h(w,v){o=kt.Push;let g=wl(y.location,w,v);c=d()+1;let x=h0(g,c),k=y.createHref(g);try{a.pushState(x,"",k)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;s.location.assign(k)}i&&l&&l({action:o,location:y.location,delta:1})}function p(w,v){o=kt.Replace;let g=wl(y.location,w,v);c=d();let x=h0(g,c),k=y.createHref(g);a.replaceState(x,"",k),i&&l&&l({action:o,location:y.location,delta:0})}function m(w){let v=s.location.origin!=="null"?s.location.origin:s.location.href,g=typeof w=="string"?w:bi(w);return g=g.replace(/ $/,"%20"),Oe(v,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,v)}let y={get action(){return o},get location(){return t(s,a)},listen(w){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(f0,f),l=w,()=>{s.removeEventListener(f0,f),l=null}},createHref(w){return e(s,w)},createURL:m,encodeLocation(w){let v=m(w);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:p,go(w){return a.go(w)}};return y}var Ge;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ge||(Ge={}));const PS=new Set(["lazy","caseSensitive","path","id","index","children"]);function RS(t){return t.index===!0}function Lc(t,e,r,n){return r===void 0&&(r=[]),n===void 0&&(n={}),t.map((s,i)=>{let a=[...r,String(i)],o=typeof s.id=="string"?s.id:a.join("-");if(Oe(s.index!==!0||!s.children,"Cannot specify children on an index route"),Oe(!n[o],'Found a route id collision on id "'+o+`".  Route id's must be globally unique within Data Router usages`),RS(s)){let l=at({},s,e(s),{id:o});return n[o]=l,l}else{let l=at({},s,e(s),{id:o,children:void 0});return n[o]=l,s.children&&(l.children=Lc(s.children,e,a,n)),l}})}function Js(t,e,r){return r===void 0&&(r="/"),tc(t,e,r,!1)}function tc(t,e,r,n){let s=typeof e=="string"?Vs(e):e,i=Ga(s.pathname||"/",r);if(i==null)return null;let a=Pw(t);OS(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=VS(i);o=zS(a[l],c,n)}return o}function TS(t,e){let{route:r,pathname:n,params:s}=t;return{id:r.id,pathname:n,params:s,data:e[r.id],handle:r.handle}}function Pw(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,a,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};l.relativePath.startsWith("/")&&(Oe(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=Fn([n,l.relativePath]),d=r.concat(l);i.children&&i.children.length>0&&(Oe(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Pw(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:$S(c,i.index),routesMeta:d})};return t.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,a);else for(let l of Rw(i.path))s(i,a,l)}),e}function Rw(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=Rw(n.join("/")),o=[];return o.push(...a.map(l=>l===""?i:[i,l].join("/"))),s&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function OS(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:US(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const AS=/^:[\w-]+$/,LS=3,DS=2,IS=1,MS=10,FS=-2,p0=t=>t==="*";function $S(t,e){let r=t.split("/"),n=r.length;return r.some(p0)&&(n+=FS),e&&(n+=DS),r.filter(s=>!p0(s)).reduce((s,i)=>s+(AS.test(i)?LS:i===""?IS:MS),n)}function US(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function zS(t,e,r){r===void 0&&(r=!1);let{routesMeta:n}=t,s={},i="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,d=i==="/"?e:e.slice(i.length)||"/",f=m0({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),h=l.route;if(!f&&c&&r&&!n[n.length-1].route.index&&(f=m0({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),a.push({params:s,pathname:Fn([i,f.pathname]),pathnameBase:WS(Fn([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=Fn([i,f.pathnameBase]))}return a}function m0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=BS(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:n.reduce((c,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let y=o[f]||"";a=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const m=o[f];return p&&!m?c[h]=void 0:c[h]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:a,pattern:t}}function BS(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Fa(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function VS(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Fa(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ga(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function HS(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?Vs(t):t;return{pathname:r?r.startsWith("/")?r:qS(r,e):e,search:KS(n),hash:QS(s)}}function qS(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function yf(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Tw(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function wd(t,e){let r=Tw(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function bd(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=Vs(t):(s=at({},t),Oe(!s.pathname||!s.pathname.includes("?"),yf("?","pathname","search",s)),Oe(!s.pathname||!s.pathname.includes("#"),yf("#","pathname","hash",s)),Oe(!s.search||!s.search.includes("#"),yf("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=r;else{let f=e.length-1;if(!n&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}o=f>=0?e[f]:"/"}let l=HS(s,o),c=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Fn=t=>t.join("/").replace(/\/\/+/g,"/"),WS=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),KS=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,QS=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Dc{constructor(e,r,n,s){s===void 0&&(s=!1),this.status=e,this.statusText=r||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function _d(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Ow=["post","put","patch","delete"],ZS=new Set(Ow),GS=["get",...Ow],JS=new Set(GS),YS=new Set([301,302,303,307,308]),XS=new Set([307,308]),vf={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ej={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},vo={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},bm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tj=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),Aw="remix-router-transitions";function rj(t){const e=t.window?t.window:typeof window<"u"?window:void 0,r=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",n=!r;Oe(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let s;if(t.mapRouteProperties)s=t.mapRouteProperties;else if(t.detectErrorBoundary){let N=t.detectErrorBoundary;s=C=>({hasErrorBoundary:N(C)})}else s=tj;let i={},a=Lc(t.routes,s,void 0,i),o,l=t.basename||"/",c=t.dataStrategy||aj,d=t.patchRoutesOnNavigation,f=at({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),h=null,p=new Set,m=null,y=null,w=null,v=t.hydrationData!=null,g=Js(a,t.history.location,l),x=null;if(g==null&&!d){let N=ir(404,{pathname:t.history.location.pathname}),{matches:C,route:T}=N0(a);g=C,x={[T.id]:N}}g&&!t.hydrationData&&fu(g,a,t.history.location.pathname).active&&(g=null);let k;if(g)if(g.some(N=>N.route.lazy))k=!1;else if(!g.some(N=>N.route.loader))k=!0;else if(f.v7_partialHydration){let N=t.hydrationData?t.hydrationData.loaderData:null,C=t.hydrationData?t.hydrationData.errors:null;if(C){let T=g.findIndex(z=>C[z.route.id]!==void 0);k=g.slice(0,T+1).every(z=>!Ih(z.route,N,C))}else k=g.every(T=>!Ih(T.route,N,C))}else k=t.hydrationData!=null;else if(k=!1,g=[],f.v7_partialHydration){let N=fu(null,a,t.history.location.pathname);N.active&&N.matches&&(g=N.matches)}let E,b={historyAction:t.history.action,location:t.history.location,matches:g,initialized:k,navigation:vf,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||x,fetchers:new Map,blockers:new Map},A=kt.Pop,P=!1,L,F=!1,K=new Map,D=null,$=!1,I=!1,se=[],we=new Set,ue=new Map,B=0,X=-1,ae=new Map,de=new Set,Se=new Map,W=new Map,$e=new Set,it=new Map,rt=new Map,U;function _e(){if(h=t.history.listen(N=>{let{action:C,location:T,delta:z}=N;if(U){U(),U=void 0;return}Fa(rt.size===0||z!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let re=Ym({currentLocation:b.location,nextLocation:T,historyAction:C});if(re&&z!=null){let fe=new Promise(ke=>{U=ke});t.history.go(z*-1),du(re,{state:"blocked",location:T,proceed(){du(re,{state:"proceeding",proceed:void 0,reset:void 0,location:T}),fe.then(()=>t.history.go(z))},reset(){let ke=new Map(b.blockers);ke.set(re,vo),xe({blockers:ke})}});return}return bt(C,T)}),r){wj(e,K);let N=()=>bj(e,K);e.addEventListener("pagehide",N),D=()=>e.removeEventListener("pagehide",N)}return b.initialized||bt(kt.Pop,b.location,{initialHydration:!0}),E}function Pe(){h&&h(),D&&D(),p.clear(),L&&L.abort(),b.fetchers.forEach((N,C)=>Jn(C)),b.blockers.forEach((N,C)=>Jm(C))}function ft(N){return p.add(N),()=>p.delete(N)}function xe(N,C){C===void 0&&(C={}),b=at({},b,N);let T=[],z=[];f.v7_fetcherPersist&&b.fetchers.forEach((re,fe)=>{re.state==="idle"&&($e.has(fe)?z.push(fe):T.push(fe))}),[...p].forEach(re=>re(b,{deletedFetchers:z,viewTransitionOpts:C.viewTransitionOpts,flushSync:C.flushSync===!0})),f.v7_fetcherPersist&&(T.forEach(re=>b.fetchers.delete(re)),z.forEach(re=>Jn(re)))}function $t(N,C,T){var z,re;let{flushSync:fe}=T===void 0?{}:T,ke=b.actionData!=null&&b.navigation.formMethod!=null&&Kr(b.navigation.formMethod)&&b.navigation.state==="loading"&&((z=N.state)==null?void 0:z._isRedirect)!==!0,ie;C.actionData?Object.keys(C.actionData).length>0?ie=C.actionData:ie=null:ke?ie=b.actionData:ie=null;let oe=C.loaderData?S0(b.loaderData,C.loaderData,C.matches||[],C.errors):b.loaderData,ne=b.blockers;ne.size>0&&(ne=new Map(ne),ne.forEach((Be,Dt)=>ne.set(Dt,vo)));let he=P===!0||b.navigation.formMethod!=null&&Kr(b.navigation.formMethod)&&((re=N.state)==null?void 0:re._isRedirect)!==!0;o&&(a=o,o=void 0),$||A===kt.Pop||(A===kt.Push?t.history.push(N,N.state):A===kt.Replace&&t.history.replace(N,N.state));let Le;if(A===kt.Pop){let Be=K.get(b.location.pathname);Be&&Be.has(N.pathname)?Le={currentLocation:b.location,nextLocation:N}:K.has(N.pathname)&&(Le={currentLocation:N,nextLocation:b.location})}else if(F){let Be=K.get(b.location.pathname);Be?Be.add(N.pathname):(Be=new Set([N.pathname]),K.set(b.location.pathname,Be)),Le={currentLocation:b.location,nextLocation:N}}xe(at({},C,{actionData:ie,loaderData:oe,historyAction:A,location:N,initialized:!0,navigation:vf,revalidation:"idle",restoreScrollPosition:eg(N,C.matches||b.matches),preventScrollReset:he,blockers:ne}),{viewTransitionOpts:Le,flushSync:fe===!0}),A=kt.Pop,P=!1,F=!1,$=!1,I=!1,se=[]}async function Je(N,C){if(typeof N=="number"){t.history.go(N);return}let T=Dh(b.location,b.matches,l,f.v7_prependBasename,N,f.v7_relativeSplatPath,C==null?void 0:C.fromRouteId,C==null?void 0:C.relative),{path:z,submission:re,error:fe}=g0(f.v7_normalizeFormMethod,!1,T,C),ke=b.location,ie=wl(b.location,z,C&&C.state);ie=at({},ie,t.history.encodeLocation(ie));let oe=C&&C.replace!=null?C.replace:void 0,ne=kt.Push;oe===!0?ne=kt.Replace:oe===!1||re!=null&&Kr(re.formMethod)&&re.formAction===b.location.pathname+b.location.search&&(ne=kt.Replace);let he=C&&"preventScrollReset"in C?C.preventScrollReset===!0:void 0,Le=(C&&C.flushSync)===!0,Be=Ym({currentLocation:ke,nextLocation:ie,historyAction:ne});if(Be){du(Be,{state:"blocked",location:ie,proceed(){du(Be,{state:"proceeding",proceed:void 0,reset:void 0,location:ie}),Je(N,C)},reset(){let Dt=new Map(b.blockers);Dt.set(Be,vo),xe({blockers:Dt})}});return}return await bt(ne,ie,{submission:re,pendingError:fe,preventScrollReset:he,replace:C&&C.replace,enableViewTransition:C&&C.viewTransition,flushSync:Le})}function Kt(){if(ht(),xe({revalidation:"loading"}),b.navigation.state!=="submitting"){if(b.navigation.state==="idle"){bt(b.historyAction,b.location,{startUninterruptedRevalidation:!0});return}bt(A||b.historyAction,b.navigation.location,{overrideNavigation:b.navigation,enableViewTransition:F===!0})}}async function bt(N,C,T){L&&L.abort(),L=null,A=N,$=(T&&T.startUninterruptedRevalidation)===!0,K_(b.location,b.matches),P=(T&&T.preventScrollReset)===!0,F=(T&&T.enableViewTransition)===!0;let z=o||a,re=T&&T.overrideNavigation,fe=Js(z,C,l),ke=(T&&T.flushSync)===!0,ie=fu(fe,z,C.pathname);if(ie.active&&ie.matches&&(fe=ie.matches),!fe){let{error:Xe,notFoundMatches:We,route:pt}=Ud(C.pathname);$t(C,{matches:We,loaderData:{},errors:{[pt.id]:Xe}},{flushSync:ke});return}if(b.initialized&&!I&&fj(b.location,C)&&!(T&&T.submission&&Kr(T.submission.formMethod))){$t(C,{matches:fe},{flushSync:ke});return}L=new AbortController;let oe=Fi(t.history,C,L.signal,T&&T.submission),ne;if(T&&T.pendingError)ne=[Ys(fe).route.id,{type:Ge.error,error:T.pendingError}];else if(T&&T.submission&&Kr(T.submission.formMethod)){let Xe=await Zm(oe,C,T.submission,fe,ie.active,{replace:T.replace,flushSync:ke});if(Xe.shortCircuited)return;if(Xe.pendingActionResult){let[We,pt]=Xe.pendingActionResult;if(xr(pt)&&_d(pt.error)&&pt.error.status===404){L=null,$t(C,{matches:Xe.matches,loaderData:{},errors:{[We]:pt.error}});return}}fe=Xe.matches||fe,ne=Xe.pendingActionResult,re=xf(C,T.submission),ke=!1,ie.active=!1,oe=Fi(t.history,oe.url,oe.signal)}let{shortCircuited:he,matches:Le,loaderData:Be,errors:Dt}=await Gm(oe,C,fe,ie.active,re,T&&T.submission,T&&T.fetcherSubmission,T&&T.replace,T&&T.initialHydration===!0,ke,ne);he||(L=null,$t(C,at({matches:Le||fe},j0(ne),{loaderData:Be,errors:Dt})))}async function Zm(N,C,T,z,re,fe){fe===void 0&&(fe={}),ht();let ke=vj(C,T);if(xe({navigation:ke},{flushSync:fe.flushSync===!0}),re){let ne=await hu(z,C.pathname,N.signal);if(ne.type==="aborted")return{shortCircuited:!0};if(ne.type==="error"){let he=Ys(ne.partialMatches).route.id;return{matches:ne.partialMatches,pendingActionResult:[he,{type:Ge.error,error:ne.error}]}}else if(ne.matches)z=ne.matches;else{let{notFoundMatches:he,error:Le,route:Be}=Ud(C.pathname);return{matches:he,pendingActionResult:[Be.id,{type:Ge.error,error:Le}]}}}let ie,oe=Oo(z,C);if(!oe.route.action&&!oe.route.lazy)ie={type:Ge.error,error:ir(405,{method:N.method,pathname:C.pathname,routeId:oe.route.id})};else if(ie=(await le("action",b,N,[oe],z,null))[oe.route.id],N.signal.aborted)return{shortCircuited:!0};if(ni(ie)){let ne;return fe&&fe.replace!=null?ne=fe.replace:ne=b0(ie.response.headers.get("Location"),new URL(N.url),l)===b.location.pathname+b.location.search,await V(N,ie,!0,{submission:T,replace:ne}),{shortCircuited:!0}}if(Ss(ie))throw ir(400,{type:"defer-action"});if(xr(ie)){let ne=Ys(z,oe.route.id);return(fe&&fe.replace)!==!0&&(A=kt.Push),{matches:z,pendingActionResult:[ne.route.id,ie]}}return{matches:z,pendingActionResult:[oe.route.id,ie]}}async function Gm(N,C,T,z,re,fe,ke,ie,oe,ne,he){let Le=re||xf(C,fe),Be=fe||ke||C0(Le),Dt=!$&&(!f.v7_partialHydration||!oe);if(z){if(Dt){let mt=j(he);xe(at({navigation:Le},mt!==void 0?{actionData:mt}:{}),{flushSync:ne})}let He=await hu(T,C.pathname,N.signal);if(He.type==="aborted")return{shortCircuited:!0};if(He.type==="error"){let mt=Ys(He.partialMatches).route.id;return{matches:He.partialMatches,loaderData:{},errors:{[mt]:He.error}}}else if(He.matches)T=He.matches;else{let{error:mt,notFoundMatches:Di,route:lo}=Ud(C.pathname);return{matches:Di,loaderData:{},errors:{[lo.id]:mt}}}}let Xe=o||a,[We,pt]=v0(t.history,b,T,Be,C,f.v7_partialHydration&&oe===!0,f.v7_skipActionErrorRevalidation,I,se,we,$e,Se,de,Xe,l,he);if(zd(He=>!(T&&T.some(mt=>mt.route.id===He))||We&&We.some(mt=>mt.route.id===He)),X=++B,We.length===0&&pt.length===0){let He=cu();return $t(C,at({matches:T,loaderData:{},errors:he&&xr(he[1])?{[he[0]]:he[1].error}:null},j0(he),He?{fetchers:new Map(b.fetchers)}:{}),{flushSync:ne}),{shortCircuited:!0}}if(Dt){let He={};if(!z){He.navigation=Le;let mt=j(he);mt!==void 0&&(He.actionData=mt)}pt.length>0&&(He.fetchers=R(pt)),xe(He,{flushSync:ne})}pt.forEach(He=>{an(He.key),He.controller&&ue.set(He.key,He.controller)});let Li=()=>pt.forEach(He=>an(He.key));L&&L.signal.addEventListener("abort",Li);let{loaderResults:ao,fetcherResults:Nn}=await ze(b,T,We,pt,N);if(N.signal.aborted)return{shortCircuited:!0};L&&L.signal.removeEventListener("abort",Li),pt.forEach(He=>ue.delete(He.key));let on=Lu(ao);if(on)return await V(N,on.result,!0,{replace:ie}),{shortCircuited:!0};if(on=Lu(Nn),on)return de.add(on.key),await V(N,on.result,!0,{replace:ie}),{shortCircuited:!0};let{loaderData:Bd,errors:oo}=k0(b,T,ao,he,pt,Nn,it);it.forEach((He,mt)=>{He.subscribe(Di=>{(Di||He.done)&&it.delete(mt)})}),f.v7_partialHydration&&oe&&b.errors&&(oo=at({},b.errors,oo));let Ws=cu(),pu=io(X),mu=Ws||pu||pt.length>0;return at({matches:T,loaderData:Bd,errors:oo},mu?{fetchers:new Map(b.fetchers)}:{})}function j(N){if(N&&!xr(N[1]))return{[N[0]]:N[1].data};if(b.actionData)return Object.keys(b.actionData).length===0?null:b.actionData}function R(N){return N.forEach(C=>{let T=b.fetchers.get(C.key),z=xo(void 0,T?T.data:void 0);b.fetchers.set(C.key,z)}),new Map(b.fetchers)}function M(N,C,T,z){if(n)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");an(N);let re=(z&&z.flushSync)===!0,fe=o||a,ke=Dh(b.location,b.matches,l,f.v7_prependBasename,T,f.v7_relativeSplatPath,C,z==null?void 0:z.relative),ie=Js(fe,ke,l),oe=fu(ie,fe,ke);if(oe.active&&oe.matches&&(ie=oe.matches),!ie){Lt(N,C,ir(404,{pathname:ke}),{flushSync:re});return}let{path:ne,submission:he,error:Le}=g0(f.v7_normalizeFormMethod,!0,ke,z);if(Le){Lt(N,C,Le,{flushSync:re});return}let Be=Oo(ie,ne),Dt=(z&&z.preventScrollReset)===!0;if(he&&Kr(he.formMethod)){Z(N,C,ne,Be,ie,oe.active,re,Dt,he);return}Se.set(N,{routeId:C,path:ne}),Q(N,C,ne,Be,ie,oe.active,re,Dt,he)}async function Z(N,C,T,z,re,fe,ke,ie,oe){ht(),Se.delete(N);function ne(_t){if(!_t.route.action&&!_t.route.lazy){let Ii=ir(405,{method:oe.formMethod,pathname:T,routeId:C});return Lt(N,C,Ii,{flushSync:ke}),!0}return!1}if(!fe&&ne(z))return;let he=b.fetchers.get(N);Ye(N,xj(oe,he),{flushSync:ke});let Le=new AbortController,Be=Fi(t.history,T,Le.signal,oe);if(fe){let _t=await hu(re,T,Be.signal);if(_t.type==="aborted")return;if(_t.type==="error"){Lt(N,C,_t.error,{flushSync:ke});return}else if(_t.matches){if(re=_t.matches,z=Oo(re,T),ne(z))return}else{Lt(N,C,ir(404,{pathname:T}),{flushSync:ke});return}}ue.set(N,Le);let Dt=B,We=(await le("action",b,Be,[z],re,N))[z.route.id];if(Be.signal.aborted){ue.get(N)===Le&&ue.delete(N);return}if(f.v7_fetcherPersist&&$e.has(N)){if(ni(We)||xr(We)){Ye(N,es(void 0));return}}else{if(ni(We))if(ue.delete(N),X>Dt){Ye(N,es(void 0));return}else return de.add(N),Ye(N,xo(oe)),V(Be,We,!1,{fetcherSubmission:oe,preventScrollReset:ie});if(xr(We)){Lt(N,C,We.error);return}}if(Ss(We))throw ir(400,{type:"defer-action"});let pt=b.navigation.location||b.location,Li=Fi(t.history,pt,Le.signal),ao=o||a,Nn=b.navigation.state!=="idle"?Js(ao,b.navigation.location,l):b.matches;Oe(Nn,"Didn't find any matches after fetcher action");let on=++B;ae.set(N,on);let Bd=xo(oe,We.data);b.fetchers.set(N,Bd);let[oo,Ws]=v0(t.history,b,Nn,oe,pt,!1,f.v7_skipActionErrorRevalidation,I,se,we,$e,Se,de,ao,l,[z.route.id,We]);Ws.filter(_t=>_t.key!==N).forEach(_t=>{let Ii=_t.key,tg=b.fetchers.get(Ii),G_=xo(void 0,tg?tg.data:void 0);b.fetchers.set(Ii,G_),an(Ii),_t.controller&&ue.set(Ii,_t.controller)}),xe({fetchers:new Map(b.fetchers)});let pu=()=>Ws.forEach(_t=>an(_t.key));Le.signal.addEventListener("abort",pu);let{loaderResults:mu,fetcherResults:He}=await ze(b,Nn,oo,Ws,Li);if(Le.signal.aborted)return;Le.signal.removeEventListener("abort",pu),ae.delete(N),ue.delete(N),Ws.forEach(_t=>ue.delete(_t.key));let mt=Lu(mu);if(mt)return V(Li,mt.result,!1,{preventScrollReset:ie});if(mt=Lu(He),mt)return de.add(mt.key),V(Li,mt.result,!1,{preventScrollReset:ie});let{loaderData:Di,errors:lo}=k0(b,Nn,mu,void 0,Ws,He,it);if(b.fetchers.has(N)){let _t=es(We.data);b.fetchers.set(N,_t)}io(on),b.navigation.state==="loading"&&on>X?(Oe(A,"Expected pending action"),L&&L.abort(),$t(b.navigation.location,{matches:Nn,loaderData:Di,errors:lo,fetchers:new Map(b.fetchers)})):(xe({errors:lo,loaderData:S0(b.loaderData,Di,Nn,lo),fetchers:new Map(b.fetchers)}),I=!1)}async function Q(N,C,T,z,re,fe,ke,ie,oe){let ne=b.fetchers.get(N);Ye(N,xo(oe,ne?ne.data:void 0),{flushSync:ke});let he=new AbortController,Le=Fi(t.history,T,he.signal);if(fe){let We=await hu(re,T,Le.signal);if(We.type==="aborted")return;if(We.type==="error"){Lt(N,C,We.error,{flushSync:ke});return}else if(We.matches)re=We.matches,z=Oo(re,T);else{Lt(N,C,ir(404,{pathname:T}),{flushSync:ke});return}}ue.set(N,he);let Be=B,Xe=(await le("loader",b,Le,[z],re,N))[z.route.id];if(Ss(Xe)&&(Xe=await _m(Xe,Le.signal,!0)||Xe),ue.get(N)===he&&ue.delete(N),!Le.signal.aborted){if($e.has(N)){Ye(N,es(void 0));return}if(ni(Xe))if(X>Be){Ye(N,es(void 0));return}else{de.add(N),await V(Le,Xe,!1,{preventScrollReset:ie});return}if(xr(Xe)){Lt(N,C,Xe.error);return}Oe(!Ss(Xe),"Unhandled fetcher deferred data"),Ye(N,es(Xe.data))}}async function V(N,C,T,z){let{submission:re,fetcherSubmission:fe,preventScrollReset:ke,replace:ie}=z===void 0?{}:z;C.response.headers.has("X-Remix-Revalidate")&&(I=!0);let oe=C.response.headers.get("Location");Oe(oe,"Expected a Location header on the redirect Response"),oe=b0(oe,new URL(N.url),l);let ne=wl(b.location,oe,{_isRedirect:!0});if(r){let We=!1;if(C.response.headers.has("X-Remix-Reload-Document"))We=!0;else if(bm.test(oe)){const pt=t.history.createURL(oe);We=pt.origin!==e.location.origin||Ga(pt.pathname,l)==null}if(We){ie?e.location.replace(oe):e.location.assign(oe);return}}L=null;let he=ie===!0||C.response.headers.has("X-Remix-Replace")?kt.Replace:kt.Push,{formMethod:Le,formAction:Be,formEncType:Dt}=b.navigation;!re&&!fe&&Le&&Be&&Dt&&(re=C0(b.navigation));let Xe=re||fe;if(XS.has(C.response.status)&&Xe&&Kr(Xe.formMethod))await bt(he,ne,{submission:at({},Xe,{formAction:oe}),preventScrollReset:ke||P,enableViewTransition:T?F:void 0});else{let We=xf(ne,re);await bt(he,ne,{overrideNavigation:We,fetcherSubmission:fe,preventScrollReset:ke||P,enableViewTransition:T?F:void 0})}}async function le(N,C,T,z,re,fe){let ke,ie={};try{ke=await oj(c,N,C,T,z,re,fe,i,s)}catch(oe){return z.forEach(ne=>{ie[ne.route.id]={type:Ge.error,error:oe}}),ie}for(let[oe,ne]of Object.entries(ke))if(hj(ne)){let he=ne.result;ie[oe]={type:Ge.redirect,response:cj(he,T,oe,re,l,f.v7_relativeSplatPath)}}else ie[oe]=await uj(ne);return ie}async function ze(N,C,T,z,re){let fe=N.matches,ke=le("loader",N,re,T,C,null),ie=Promise.all(z.map(async he=>{if(he.matches&&he.match&&he.controller){let Be=(await le("loader",N,Fi(t.history,he.path,he.controller.signal),[he.match],he.matches,he.key))[he.match.route.id];return{[he.key]:Be}}else return Promise.resolve({[he.key]:{type:Ge.error,error:ir(404,{pathname:he.path})}})})),oe=await ke,ne=(await ie).reduce((he,Le)=>Object.assign(he,Le),{});return await Promise.all([gj(C,oe,re.signal,fe,N.loaderData),yj(C,ne,z)]),{loaderResults:oe,fetcherResults:ne}}function ht(){I=!0,se.push(...zd()),Se.forEach((N,C)=>{ue.has(C)&&we.add(C),an(C)})}function Ye(N,C,T){T===void 0&&(T={}),b.fetchers.set(N,C),xe({fetchers:new Map(b.fetchers)},{flushSync:(T&&T.flushSync)===!0})}function Lt(N,C,T,z){z===void 0&&(z={});let re=Ys(b.matches,C);Jn(N),xe({errors:{[re.route.id]:T},fetchers:new Map(b.fetchers)},{flushSync:(z&&z.flushSync)===!0})}function uu(N){return f.v7_fetcherPersist&&(W.set(N,(W.get(N)||0)+1),$e.has(N)&&$e.delete(N)),b.fetchers.get(N)||ej}function Jn(N){let C=b.fetchers.get(N);ue.has(N)&&!(C&&C.state==="loading"&&ae.has(N))&&an(N),Se.delete(N),ae.delete(N),de.delete(N),$e.delete(N),we.delete(N),b.fetchers.delete(N)}function no(N){if(f.v7_fetcherPersist){let C=(W.get(N)||0)-1;C<=0?(W.delete(N),$e.add(N)):W.set(N,C)}else Jn(N);xe({fetchers:new Map(b.fetchers)})}function an(N){let C=ue.get(N);C&&(C.abort(),ue.delete(N))}function so(N){for(let C of N){let T=uu(C),z=es(T.data);b.fetchers.set(C,z)}}function cu(){let N=[],C=!1;for(let T of de){let z=b.fetchers.get(T);Oe(z,"Expected fetcher: "+T),z.state==="loading"&&(de.delete(T),N.push(T),C=!0)}return so(N),C}function io(N){let C=[];for(let[T,z]of ae)if(z<N){let re=b.fetchers.get(T);Oe(re,"Expected fetcher: "+T),re.state==="loading"&&(an(T),ae.delete(T),C.push(T))}return so(C),C.length>0}function q_(N,C){let T=b.blockers.get(N)||vo;return rt.get(N)!==C&&rt.set(N,C),T}function Jm(N){b.blockers.delete(N),rt.delete(N)}function du(N,C){let T=b.blockers.get(N)||vo;Oe(T.state==="unblocked"&&C.state==="blocked"||T.state==="blocked"&&C.state==="blocked"||T.state==="blocked"&&C.state==="proceeding"||T.state==="blocked"&&C.state==="unblocked"||T.state==="proceeding"&&C.state==="unblocked","Invalid blocker state transition: "+T.state+" -> "+C.state);let z=new Map(b.blockers);z.set(N,C),xe({blockers:z})}function Ym(N){let{currentLocation:C,nextLocation:T,historyAction:z}=N;if(rt.size===0)return;rt.size>1&&Fa(!1,"A router only supports one blocker at a time");let re=Array.from(rt.entries()),[fe,ke]=re[re.length-1],ie=b.blockers.get(fe);if(!(ie&&ie.state==="proceeding")&&ke({currentLocation:C,nextLocation:T,historyAction:z}))return fe}function Ud(N){let C=ir(404,{pathname:N}),T=o||a,{matches:z,route:re}=N0(T);return zd(),{notFoundMatches:z,route:re,error:C}}function zd(N){let C=[];return it.forEach((T,z)=>{(!N||N(z))&&(T.cancel(),C.push(z),it.delete(z))}),C}function W_(N,C,T){if(m=N,w=C,y=T||null,!v&&b.navigation===vf){v=!0;let z=eg(b.location,b.matches);z!=null&&xe({restoreScrollPosition:z})}return()=>{m=null,w=null,y=null}}function Xm(N,C){return y&&y(N,C.map(z=>TS(z,b.loaderData)))||N.key}function K_(N,C){if(m&&w){let T=Xm(N,C);m[T]=w()}}function eg(N,C){if(m){let T=Xm(N,C),z=m[T];if(typeof z=="number")return z}return null}function fu(N,C,T){if(d)if(N){if(Object.keys(N[0].params).length>0)return{active:!0,matches:tc(C,T,l,!0)}}else return{active:!0,matches:tc(C,T,l,!0)||[]};return{active:!1,matches:null}}async function hu(N,C,T){if(!d)return{type:"success",matches:N};let z=N;for(;;){let re=o==null,fe=o||a,ke=i;try{await d({path:C,matches:z,patch:(ne,he)=>{T.aborted||w0(ne,he,fe,ke,s)}})}catch(ne){return{type:"error",error:ne,partialMatches:z}}finally{re&&!T.aborted&&(a=[...a])}if(T.aborted)return{type:"aborted"};let ie=Js(fe,C,l);if(ie)return{type:"success",matches:ie};let oe=tc(fe,C,l,!0);if(!oe||z.length===oe.length&&z.every((ne,he)=>ne.route.id===oe[he].route.id))return{type:"success",matches:null};z=oe}}function Q_(N){i={},o=Lc(N,s,void 0,i)}function Z_(N,C){let T=o==null;w0(N,C,o||a,i,s),T&&(a=[...a],xe({}))}return E={get basename(){return l},get future(){return f},get state(){return b},get routes(){return a},get window(){return e},initialize:_e,subscribe:ft,enableScrollRestoration:W_,navigate:Je,fetch:M,revalidate:Kt,createHref:N=>t.history.createHref(N),encodeLocation:N=>t.history.encodeLocation(N),getFetcher:uu,deleteFetcher:no,dispose:Pe,getBlocker:q_,deleteBlocker:Jm,patchRoutes:Z_,_internalFetchControllers:ue,_internalActiveDeferreds:it,_internalSetRoutes:Q_},E}function nj(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Dh(t,e,r,n,s,i,a,o){let l,c;if(a){l=[];for(let f of e)if(l.push(f),f.route.id===a){c=f;break}}else l=e,c=e[e.length-1];let d=bd(s||".",wd(l,i),Ga(t.pathname,r)||t.pathname,o==="path");if(s==null&&(d.search=t.search,d.hash=t.hash),(s==null||s===""||s===".")&&c){let f=km(d.search);if(c.route.index&&!f)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&f){let h=new URLSearchParams(d.search),p=h.getAll("index");h.delete("index"),p.filter(y=>y).forEach(y=>h.append("index",y));let m=h.toString();d.search=m?"?"+m:""}}return n&&r!=="/"&&(d.pathname=d.pathname==="/"?r:Fn([r,d.pathname])),bi(d)}function g0(t,e,r,n){if(!n||!nj(n))return{path:r};if(n.formMethod&&!mj(n.formMethod))return{path:r,error:ir(405,{method:n.formMethod})};let s=()=>({path:r,error:ir(400,{type:"invalid-body"})}),i=n.formMethod||"get",a=t?i.toUpperCase():i.toLowerCase(),o=Iw(r);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Kr(a))return s();let h=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((p,m)=>{let[y,w]=m;return""+p+y+"="+w+`
`},""):String(n.body);return{path:r,submission:{formMethod:a,formAction:o,formEncType:n.formEncType,formData:void 0,json:void 0,text:h}}}else if(n.formEncType==="application/json"){if(!Kr(a))return s();try{let h=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:r,submission:{formMethod:a,formAction:o,formEncType:n.formEncType,formData:void 0,json:h,text:void 0}}}catch{return s()}}}Oe(typeof FormData=="function","FormData is not available in this environment");let l,c;if(n.formData)l=Mh(n.formData),c=n.formData;else if(n.body instanceof FormData)l=Mh(n.body),c=n.body;else if(n.body instanceof URLSearchParams)l=n.body,c=_0(l);else if(n.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(n.body),c=_0(l)}catch{return s()}let d={formMethod:a,formAction:o,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Kr(d.formMethod))return{path:r,submission:d};let f=Vs(r);return e&&f.search&&km(f.search)&&l.append("index",""),f.search="?"+l,{path:bi(f),submission:d}}function y0(t,e,r){r===void 0&&(r=!1);let n=t.findIndex(s=>s.route.id===e);return n>=0?t.slice(0,r?n+1:n):t}function v0(t,e,r,n,s,i,a,o,l,c,d,f,h,p,m,y){let w=y?xr(y[1])?y[1].error:y[1].data:void 0,v=t.createURL(e.location),g=t.createURL(s),x=r;i&&e.errors?x=y0(r,Object.keys(e.errors)[0],!0):y&&xr(y[1])&&(x=y0(r,y[0]));let k=y?y[1].statusCode:void 0,E=a&&k&&k>=400,b=x.filter((P,L)=>{let{route:F}=P;if(F.lazy)return!0;if(F.loader==null)return!1;if(i)return Ih(F,e.loaderData,e.errors);if(sj(e.loaderData,e.matches[L],P)||l.some($=>$===P.route.id))return!0;let K=e.matches[L],D=P;return x0(P,at({currentUrl:v,currentParams:K.params,nextUrl:g,nextParams:D.params},n,{actionResult:w,actionStatus:k,defaultShouldRevalidate:E?!1:o||v.pathname+v.search===g.pathname+g.search||v.search!==g.search||Lw(K,D)}))}),A=[];return f.forEach((P,L)=>{if(i||!r.some(I=>I.route.id===P.routeId)||d.has(L))return;let F=Js(p,P.path,m);if(!F){A.push({key:L,routeId:P.routeId,path:P.path,matches:null,match:null,controller:null});return}let K=e.fetchers.get(L),D=Oo(F,P.path),$=!1;h.has(L)?$=!1:c.has(L)?(c.delete(L),$=!0):K&&K.state!=="idle"&&K.data===void 0?$=o:$=x0(D,at({currentUrl:v,currentParams:e.matches[e.matches.length-1].params,nextUrl:g,nextParams:r[r.length-1].params},n,{actionResult:w,actionStatus:k,defaultShouldRevalidate:E?!1:o})),$&&A.push({key:L,routeId:P.routeId,path:P.path,matches:F,match:D,controller:new AbortController})}),[b,A]}function Ih(t,e,r){if(t.lazy)return!0;if(!t.loader)return!1;let n=e!=null&&e[t.id]!==void 0,s=r!=null&&r[t.id]!==void 0;return!n&&s?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!n&&!s}function sj(t,e,r){let n=!e||r.route.id!==e.route.id,s=t[r.route.id]===void 0;return n||s}function Lw(t,e){let r=t.route.path;return t.pathname!==e.pathname||r!=null&&r.endsWith("*")&&t.params["*"]!==e.params["*"]}function x0(t,e){if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate(e);if(typeof r=="boolean")return r}return e.defaultShouldRevalidate}function w0(t,e,r,n,s){var i;let a;if(t){let c=n[t];Oe(c,"No route found to patch children into: routeId = "+t),c.children||(c.children=[]),a=c.children}else a=r;let o=e.filter(c=>!a.some(d=>Dw(c,d))),l=Lc(o,s,[t||"_","patch",String(((i=a)==null?void 0:i.length)||"0")],n);a.push(...l)}function Dw(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((r,n)=>{var s;return(s=e.children)==null?void 0:s.some(i=>Dw(r,i))}):!1}async function ij(t,e,r){if(!t.lazy)return;let n=await t.lazy();if(!t.lazy)return;let s=r[t.id];Oe(s,"No route found in manifest");let i={};for(let a in n){let l=s[a]!==void 0&&a!=="hasErrorBoundary";Fa(!l,'Route "'+s.id+'" has a static property "'+a+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+a+'" will be ignored.')),!l&&!PS.has(a)&&(i[a]=n[a])}Object.assign(s,i),Object.assign(s,at({},e(s),{lazy:void 0}))}async function aj(t){let{matches:e}=t,r=e.filter(s=>s.shouldLoad);return(await Promise.all(r.map(s=>s.resolve()))).reduce((s,i,a)=>Object.assign(s,{[r[a].route.id]:i}),{})}async function oj(t,e,r,n,s,i,a,o,l,c){let d=i.map(p=>p.route.lazy?ij(p.route,l,o):void 0),f=i.map((p,m)=>{let y=d[m],w=s.some(g=>g.route.id===p.route.id);return at({},p,{shouldLoad:w,resolve:async g=>(g&&n.method==="GET"&&(p.route.lazy||p.route.loader)&&(w=!0),w?lj(e,n,p,y,g,c):Promise.resolve({type:Ge.data,result:void 0}))})}),h=await t({matches:f,request:n,params:i[0].params,fetcherKey:a,context:c});try{await Promise.all(d)}catch{}return h}async function lj(t,e,r,n,s,i){let a,o,l=c=>{let d,f=new Promise((m,y)=>d=y);o=()=>d(),e.signal.addEventListener("abort",o);let h=m=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+r.route.id+"]"))):c({request:e,params:r.params,context:i},...m!==void 0?[m]:[]),p=(async()=>{try{return{type:"data",result:await(s?s(y=>h(y)):h())}}catch(m){return{type:"error",result:m}}})();return Promise.race([p,f])};try{let c=r.route[t];if(n)if(c){let d,[f]=await Promise.all([l(c).catch(h=>{d=h}),n]);if(d!==void 0)throw d;a=f}else if(await n,c=r.route[t],c)a=await l(c);else if(t==="action"){let d=new URL(e.url),f=d.pathname+d.search;throw ir(405,{method:e.method,pathname:f,routeId:r.route.id})}else return{type:Ge.data,result:void 0};else if(c)a=await l(c);else{let d=new URL(e.url),f=d.pathname+d.search;throw ir(404,{pathname:f})}Oe(a.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:Ge.error,result:c}}finally{o&&e.signal.removeEventListener("abort",o)}return a}async function uj(t){let{result:e,type:r}=t;if(Mw(e)){let c;try{let d=e.headers.get("Content-Type");d&&/\bapplication\/json\b/.test(d)?e.body==null?c=null:c=await e.json():c=await e.text()}catch(d){return{type:Ge.error,error:d}}return r===Ge.error?{type:Ge.error,error:new Dc(e.status,e.statusText,c),statusCode:e.status,headers:e.headers}:{type:Ge.data,data:c,statusCode:e.status,headers:e.headers}}if(r===Ge.error){if(E0(e)){var n;if(e.data instanceof Error){var s;return{type:Ge.error,error:e.data,statusCode:(s=e.init)==null?void 0:s.status}}e=new Dc(((n=e.init)==null?void 0:n.status)||500,void 0,e.data)}return{type:Ge.error,error:e,statusCode:_d(e)?e.status:void 0}}if(pj(e)){var i,a;return{type:Ge.deferred,deferredData:e,statusCode:(i=e.init)==null?void 0:i.status,headers:((a=e.init)==null?void 0:a.headers)&&new Headers(e.init.headers)}}if(E0(e)){var o,l;return{type:Ge.data,data:e.data,statusCode:(o=e.init)==null?void 0:o.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:Ge.data,data:e}}function cj(t,e,r,n,s,i){let a=t.headers.get("Location");if(Oe(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!bm.test(a)){let o=n.slice(0,n.findIndex(l=>l.route.id===r)+1);a=Dh(new URL(e.url),o,s,!0,a,i),t.headers.set("Location",a)}return t}function b0(t,e,r){if(bm.test(t)){let n=t,s=n.startsWith("//")?new URL(e.protocol+n):new URL(n),i=Ga(s.pathname,r)!=null;if(s.origin===e.origin&&i)return s.pathname+s.search+s.hash}return t}function Fi(t,e,r,n){let s=t.createURL(Iw(e)).toString(),i={signal:r};if(n&&Kr(n.formMethod)){let{formMethod:a,formEncType:o}=n;i.method=a.toUpperCase(),o==="application/json"?(i.headers=new Headers({"Content-Type":o}),i.body=JSON.stringify(n.json)):o==="text/plain"?i.body=n.text:o==="application/x-www-form-urlencoded"&&n.formData?i.body=Mh(n.formData):i.body=n.formData}return new Request(s,i)}function Mh(t){let e=new URLSearchParams;for(let[r,n]of t.entries())e.append(r,typeof n=="string"?n:n.name);return e}function _0(t){let e=new FormData;for(let[r,n]of t.entries())e.append(r,n);return e}function dj(t,e,r,n,s){let i={},a=null,o,l=!1,c={},d=r&&xr(r[1])?r[1].error:void 0;return t.forEach(f=>{if(!(f.route.id in e))return;let h=f.route.id,p=e[h];if(Oe(!ni(p),"Cannot handle redirect results in processLoaderData"),xr(p)){let m=p.error;d!==void 0&&(m=d,d=void 0),a=a||{};{let y=Ys(t,h);a[y.route.id]==null&&(a[y.route.id]=m)}i[h]=void 0,l||(l=!0,o=_d(p.error)?p.error.status:500),p.headers&&(c[h]=p.headers)}else Ss(p)?(n.set(h,p.deferredData),i[h]=p.deferredData.data,p.statusCode!=null&&p.statusCode!==200&&!l&&(o=p.statusCode),p.headers&&(c[h]=p.headers)):(i[h]=p.data,p.statusCode&&p.statusCode!==200&&!l&&(o=p.statusCode),p.headers&&(c[h]=p.headers))}),d!==void 0&&r&&(a={[r[0]]:d},i[r[0]]=void 0),{loaderData:i,errors:a,statusCode:o||200,loaderHeaders:c}}function k0(t,e,r,n,s,i,a){let{loaderData:o,errors:l}=dj(e,r,n,a);return s.forEach(c=>{let{key:d,match:f,controller:h}=c,p=i[d];if(Oe(p,"Did not find corresponding fetcher result"),!(h&&h.signal.aborted))if(xr(p)){let m=Ys(t.matches,f==null?void 0:f.route.id);l&&l[m.route.id]||(l=at({},l,{[m.route.id]:p.error})),t.fetchers.delete(d)}else if(ni(p))Oe(!1,"Unhandled fetcher revalidation redirect");else if(Ss(p))Oe(!1,"Unhandled fetcher deferred data");else{let m=es(p.data);t.fetchers.set(d,m)}}),{loaderData:o,errors:l}}function S0(t,e,r,n){let s=at({},e);for(let i of r){let a=i.route.id;if(e.hasOwnProperty(a)?e[a]!==void 0&&(s[a]=e[a]):t[a]!==void 0&&i.route.loader&&(s[a]=t[a]),n&&n.hasOwnProperty(a))break}return s}function j0(t){return t?xr(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Ys(t,e){return(e?t.slice(0,t.findIndex(n=>n.route.id===e)+1):[...t]).reverse().find(n=>n.route.hasErrorBoundary===!0)||t[0]}function N0(t){let e=t.length===1?t[0]:t.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ir(t,e){let{pathname:r,routeId:n,method:s,type:i,message:a}=e===void 0?{}:e,o="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(o="Bad Request",s&&r&&n?l="You made a "+s+' request to "'+r+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":i==="defer-action"?l="defer() is not supported in actions":i==="invalid-body"&&(l="Unable to encode submission body")):t===403?(o="Forbidden",l='Route "'+n+'" does not match URL "'+r+'"'):t===404?(o="Not Found",l='No route matches URL "'+r+'"'):t===405&&(o="Method Not Allowed",s&&r&&n?l="You made a "+s.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":s&&(l='Invalid request method "'+s.toUpperCase()+'"')),new Dc(t||500,o,new Error(l),!0)}function Lu(t){let e=Object.entries(t);for(let r=e.length-1;r>=0;r--){let[n,s]=e[r];if(ni(s))return{key:n,result:s}}}function Iw(t){let e=typeof t=="string"?Vs(t):t;return bi(at({},e,{hash:""}))}function fj(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function hj(t){return Mw(t.result)&&YS.has(t.result.status)}function Ss(t){return t.type===Ge.deferred}function xr(t){return t.type===Ge.error}function ni(t){return(t&&t.type)===Ge.redirect}function E0(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function pj(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function Mw(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function mj(t){return JS.has(t.toLowerCase())}function Kr(t){return ZS.has(t.toLowerCase())}async function gj(t,e,r,n,s){let i=Object.entries(e);for(let a=0;a<i.length;a++){let[o,l]=i[a],c=t.find(h=>(h==null?void 0:h.route.id)===o);if(!c)continue;let d=n.find(h=>h.route.id===c.route.id),f=d!=null&&!Lw(d,c)&&(s&&s[c.route.id])!==void 0;Ss(l)&&f&&await _m(l,r,!1).then(h=>{h&&(e[o]=h)})}}async function yj(t,e,r){for(let n=0;n<r.length;n++){let{key:s,routeId:i,controller:a}=r[n],o=e[s];t.find(c=>(c==null?void 0:c.route.id)===i)&&Ss(o)&&(Oe(a,"Expected an AbortController for revalidating fetcher deferred result"),await _m(o,a.signal,!0).then(c=>{c&&(e[s]=c)}))}}async function _m(t,e,r){if(r===void 0&&(r=!1),!await t.deferredData.resolveData(e)){if(r)try{return{type:Ge.data,data:t.deferredData.unwrappedData}}catch(s){return{type:Ge.error,error:s}}return{type:Ge.data,data:t.deferredData.data}}}function km(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Oo(t,e){let r=typeof e=="string"?Vs(e).search:e.search;if(t[t.length-1].route.index&&km(r||""))return t[t.length-1];let n=Tw(t);return n[n.length-1]}function C0(t){let{formMethod:e,formAction:r,formEncType:n,text:s,formData:i,json:a}=t;if(!(!e||!r||!n)){if(s!=null)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:void 0,text:s};if(i!=null)return{formMethod:e,formAction:r,formEncType:n,formData:i,json:void 0,text:void 0};if(a!==void 0)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:a,text:void 0}}}function xf(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function vj(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function xo(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function xj(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function es(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function wj(t,e){try{let r=t.sessionStorage.getItem(Aw);if(r){let n=JSON.parse(r);for(let[s,i]of Object.entries(n||{}))i&&Array.isArray(i)&&e.set(s,new Set(i||[]))}}catch{}}function bj(t,e){if(e.size>0){let r={};for(let[n,s]of e)r[n]=[...s];try{t.sessionStorage.setItem(Aw,JSON.stringify(r))}catch(n){Fa(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ic(){return Ic=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ic.apply(this,arguments)}const kd=_.createContext(null),Fw=_.createContext(null),Hs=_.createContext(null),Sm=_.createContext(null),Qn=_.createContext({outlet:null,matches:[],isDataRoute:!1}),$w=_.createContext(null);function _j(t,e){let{relative:r}=e===void 0?{}:e;Ja()||Oe(!1);let{basename:n,navigator:s}=_.useContext(Hs),{hash:i,pathname:a,search:o}=zw(t,{relative:r}),l=a;return n!=="/"&&(l=a==="/"?n:Fn([n,a])),s.createHref({pathname:l,search:o,hash:i})}function Ja(){return _.useContext(Sm)!=null}function Zn(){return Ja()||Oe(!1),_.useContext(Sm).location}function Uw(t){_.useContext(Hs).static||_.useLayoutEffect(t)}function Ri(){let{isDataRoute:t}=_.useContext(Qn);return t?Ij():kj()}function kj(){Ja()||Oe(!1);let t=_.useContext(kd),{basename:e,future:r,navigator:n}=_.useContext(Hs),{matches:s}=_.useContext(Qn),{pathname:i}=Zn(),a=JSON.stringify(wd(s,r.v7_relativeSplatPath)),o=_.useRef(!1);return Uw(()=>{o.current=!0}),_.useCallback(function(c,d){if(d===void 0&&(d={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let f=bd(c,JSON.parse(a),i,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Fn([e,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[e,n,a,i,t])}const Sj=_.createContext(null);function jj(t){let e=_.useContext(Qn).outlet;return e&&_.createElement(Sj.Provider,{value:t},e)}function zw(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=_.useContext(Hs),{matches:s}=_.useContext(Qn),{pathname:i}=Zn(),a=JSON.stringify(wd(s,n.v7_relativeSplatPath));return _.useMemo(()=>bd(t,JSON.parse(a),i,r==="path"),[t,a,i,r])}function Nj(t,e,r,n){Ja()||Oe(!1);let{navigator:s}=_.useContext(Hs),{matches:i}=_.useContext(Qn),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=Zn(),d;d=c;let f=d.pathname||"/",h=f;if(l!=="/"){let y=l.replace(/^\//,"").split("/");h="/"+f.replace(/^\//,"").split("/").slice(y.length).join("/")}let p=Js(t,{pathname:h});return Tj(p&&p.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:Fn([l,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:Fn([l,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,r,n)}function Ej(){let t=Dj(),e=_d(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),r?_.createElement("pre",{style:s},r):null,null)}const Cj=_.createElement(Ej,null);class Pj extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?_.createElement(Qn.Provider,{value:this.props.routeContext},_.createElement($w.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Rj(t){let{routeContext:e,match:r,children:n}=t,s=_.useContext(kd);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),_.createElement(Qn.Provider,{value:e},n)}function Tj(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,o=(s=r)==null?void 0:s.errors;if(o!=null){let d=a.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||Oe(!1),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:h,errors:p}=r,m=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||m){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,f,h)=>{let p,m=!1,y=null,w=null;r&&(p=o&&f.route.id?o[f.route.id]:void 0,y=f.route.errorElement||Cj,l&&(c<0&&h===0?(Mj("route-fallback"),m=!0,w=null):c===h&&(m=!0,w=f.route.hydrateFallbackElement||null)));let v=e.concat(a.slice(0,h+1)),g=()=>{let x;return p?x=y:m?x=w:f.route.Component?x=_.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=d,_.createElement(Rj,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:r!=null},children:x})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?_.createElement(Pj,{location:r.location,revalidation:r.revalidation,component:y,error:p,children:g(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):g()},null)}var Bw=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Bw||{}),Vw=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Vw||{});function Oj(t){let e=_.useContext(kd);return e||Oe(!1),e}function Aj(t){let e=_.useContext(Fw);return e||Oe(!1),e}function Lj(t){let e=_.useContext(Qn);return e||Oe(!1),e}function Hw(t){let e=Lj(),r=e.matches[e.matches.length-1];return r.route.id||Oe(!1),r.route.id}function Dj(){var t;let e=_.useContext($w),r=Aj(Vw.UseRouteError),n=Hw();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function Ij(){let{router:t}=Oj(Bw.UseNavigateStable),e=Hw(),r=_.useRef(!1);return Uw(()=>{r.current=!0}),_.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Ic({fromRouteId:e},i)))},[t,e])}const P0={};function Mj(t,e,r){P0[t]||(P0[t]=!0)}const R0={};function Fj(t,e){R0[e]||(R0[e]=!0,console.warn(e))}const $i=(t,e,r)=>Fj(t," React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+r+"."));function $j(t,e){t!=null&&t.v7_startTransition||$i("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(t!=null&&t.v7_relativeSplatPath)&&(!e||!e.v7_relativeSplatPath)&&$i("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath"),e&&(e.v7_fetcherPersist||$i("v7_fetcherPersist","The persistence behavior of fetchers is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist"),e.v7_normalizeFormMethod||$i("v7_normalizeFormMethod","Casing of `formMethod` fields is being normalized to uppercase in v7","https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod"),e.v7_partialHydration||$i("v7_partialHydration","`RouterProvider` hydration behavior is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_partialhydration"),e.v7_skipActionErrorRevalidation||$i("v7_skipActionErrorRevalidation","The revalidation behavior after 4xx/5xx `action` responses is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation"))}function Uj(t){let{to:e,replace:r,state:n,relative:s}=t;Ja()||Oe(!1);let{future:i,static:a}=_.useContext(Hs),{matches:o}=_.useContext(Qn),{pathname:l}=Zn(),c=Ri(),d=bd(e,wd(o,i.v7_relativeSplatPath),l,s==="path"),f=JSON.stringify(d);return _.useEffect(()=>c(JSON.parse(f),{replace:r,state:n,relative:s}),[c,f,s,r,n]),null}function T0(t){return jj(t.context)}function zj(t){let{basename:e="/",children:r=null,location:n,navigationType:s=kt.Pop,navigator:i,static:a=!1,future:o}=t;Ja()&&Oe(!1);let l=e.replace(/^\/*/,"/"),c=_.useMemo(()=>({basename:l,navigator:i,static:a,future:Ic({v7_relativeSplatPath:!1},o)}),[l,o,i,a]);typeof n=="string"&&(n=Vs(n));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:m="default"}=n,y=_.useMemo(()=>{let w=Ga(d,l);return w==null?null:{location:{pathname:w,search:f,hash:h,state:p,key:m},navigationType:s}},[l,d,f,h,p,m,s]);return y==null?null:_.createElement(Hs.Provider,{value:c},_.createElement(Sm.Provider,{children:r,value:y}))}new Promise(()=>{});function Bj(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:_.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:_.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:_.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bl(){return bl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bl.apply(this,arguments)}function Vj(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function Hj(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function qj(t,e){return t.button===0&&(!e||e==="_self")&&!Hj(t)}function Fh(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function Wj(t,e){let r=Fh(t);return e&&e.forEach((n,s)=>{r.has(s)||e.getAll(s).forEach(i=>{r.append(s,i)})}),r}const Kj=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Qj="6";try{window.__reactRouterVersion=Qj}catch{}function Zj(t,e){return rj({basename:void 0,future:bl({},void 0,{v7_prependBasename:!0}),history:NS({window:void 0}),hydrationData:Gj(),routes:t,mapRouteProperties:Bj,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function Gj(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=bl({},e,{errors:Jj(e.errors)})),e}function Jj(t){if(!t)return null;let e=Object.entries(t),r={};for(let[n,s]of e)if(s&&s.__type==="RouteErrorResponse")r[n]=new Dc(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let i=window[s.__subType];if(typeof i=="function")try{let a=new i(s.message);a.stack="",r[n]=a}catch{}}if(r[n]==null){let i=new Error(s.message);i.stack="",r[n]=i}}else r[n]=s;return r}const Yj=_.createContext({isTransitioning:!1}),Xj=_.createContext(new Map),e2="startTransition",O0=h1[e2],t2="flushSync",A0=jS[t2];function r2(t){O0?O0(t):t()}function wo(t){A0?A0(t):t()}let n2=class{constructor(){this.status="pending",this.promise=new Promise((e,r)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",r(n))}})}};function s2(t){let{fallbackElement:e,router:r,future:n}=t,[s,i]=_.useState(r.state),[a,o]=_.useState(),[l,c]=_.useState({isTransitioning:!1}),[d,f]=_.useState(),[h,p]=_.useState(),[m,y]=_.useState(),w=_.useRef(new Map),{v7_startTransition:v}=n||{},g=_.useCallback(P=>{v?r2(P):P()},[v]),x=_.useCallback((P,L)=>{let{deletedFetchers:F,flushSync:K,viewTransitionOpts:D}=L;F.forEach(I=>w.current.delete(I)),P.fetchers.forEach((I,se)=>{I.data!==void 0&&w.current.set(se,I.data)});let $=r.window==null||r.window.document==null||typeof r.window.document.startViewTransition!="function";if(!D||$){K?wo(()=>i(P)):g(()=>i(P));return}if(K){wo(()=>{h&&(d&&d.resolve(),h.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:D.currentLocation,nextLocation:D.nextLocation})});let I=r.window.document.startViewTransition(()=>{wo(()=>i(P))});I.finished.finally(()=>{wo(()=>{f(void 0),p(void 0),o(void 0),c({isTransitioning:!1})})}),wo(()=>p(I));return}h?(d&&d.resolve(),h.skipTransition(),y({state:P,currentLocation:D.currentLocation,nextLocation:D.nextLocation})):(o(P),c({isTransitioning:!0,flushSync:!1,currentLocation:D.currentLocation,nextLocation:D.nextLocation}))},[r.window,h,d,w,g]);_.useLayoutEffect(()=>r.subscribe(x),[r,x]),_.useEffect(()=>{l.isTransitioning&&!l.flushSync&&f(new n2)},[l]),_.useEffect(()=>{if(d&&a&&r.window){let P=a,L=d.promise,F=r.window.document.startViewTransition(async()=>{g(()=>i(P)),await L});F.finished.finally(()=>{f(void 0),p(void 0),o(void 0),c({isTransitioning:!1})}),p(F)}},[g,a,d,r.window]),_.useEffect(()=>{d&&a&&s.location.key===a.location.key&&d.resolve()},[d,h,s.location,a]),_.useEffect(()=>{!l.isTransitioning&&m&&(o(m.state),c({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),y(void 0))},[l.isTransitioning,m]),_.useEffect(()=>{},[]);let k=_.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:P=>r.navigate(P),push:(P,L,F)=>r.navigate(P,{state:L,preventScrollReset:F==null?void 0:F.preventScrollReset}),replace:(P,L,F)=>r.navigate(P,{replace:!0,state:L,preventScrollReset:F==null?void 0:F.preventScrollReset})}),[r]),E=r.basename||"/",b=_.useMemo(()=>({router:r,navigator:k,static:!1,basename:E}),[r,k,E]),A=_.useMemo(()=>({v7_relativeSplatPath:r.future.v7_relativeSplatPath}),[r.future.v7_relativeSplatPath]);return _.useEffect(()=>$j(n,r.future),[n,r.future]),_.createElement(_.Fragment,null,_.createElement(kd.Provider,{value:b},_.createElement(Fw.Provider,{value:s},_.createElement(Xj.Provider,{value:w.current},_.createElement(Yj.Provider,{value:l},_.createElement(zj,{basename:E,location:s.location,navigationType:s.historyAction,navigator:k,future:A},s.initialized||r.future.v7_partialHydration?_.createElement(i2,{routes:r.routes,future:r.future,state:s}):e))))),null)}const i2=_.memo(a2);function a2(t){let{routes:e,future:r,state:n}=t;return Nj(e,void 0,n,r)}const o2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",l2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jm=_.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:i,replace:a,state:o,target:l,to:c,preventScrollReset:d,viewTransition:f}=e,h=Vj(e,Kj),{basename:p}=_.useContext(Hs),m,y=!1;if(typeof c=="string"&&l2.test(c)&&(m=c,o2))try{let x=new URL(window.location.href),k=c.startsWith("//")?new URL(x.protocol+c):new URL(c),E=Ga(k.pathname,p);k.origin===x.origin&&E!=null?c=E+k.search+k.hash:y=!0}catch{}let w=_j(c,{relative:s}),v=u2(c,{replace:a,state:o,target:l,preventScrollReset:d,relative:s,viewTransition:f});function g(x){n&&n(x),x.defaultPrevented||v(x)}return _.createElement("a",bl({},h,{href:m||w,onClick:y||i?n:g,ref:r,target:l}))});var L0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(L0||(L0={}));var D0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(D0||(D0={}));function u2(t,e){let{target:r,replace:n,state:s,preventScrollReset:i,relative:a,viewTransition:o}=e===void 0?{}:e,l=Ri(),c=Zn(),d=zw(t,{relative:a});return _.useCallback(f=>{if(qj(f,r)){f.preventDefault();let h=n!==void 0?n:bi(c)===bi(d);l(t,{replace:h,state:s,preventScrollReset:i,relative:a,viewTransition:o})}},[c,l,d,n,s,r,t,i,a,o])}function qw(t){let e=_.useRef(Fh(t)),r=_.useRef(!1),n=Zn(),s=_.useMemo(()=>Wj(n.search,r.current?null:e.current),[n.search]),i=Ri(),a=_.useCallback((o,l)=>{const c=Fh(typeof o=="function"?o(s):o);r.current=!0,i("?"+c,l)},[i,s]);return[s,a]}var Ya=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},_i=typeof window>"u"||"Deno"in globalThis;function Or(){}function c2(t,e){return typeof t=="function"?t(e):t}function $h(t){return typeof t=="number"&&t>=0&&t!==1/0}function Ww(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ma(t,e){return typeof t=="function"?t(e):t}function Gr(t,e){return typeof t=="function"?t(e):t}function I0(t,e){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:a,stale:o}=t;if(a){if(n){if(e.queryHash!==Nm(a,e.options))return!1}else if(!_l(e.queryKey,a))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||s&&s!==e.state.fetchStatus||i&&!i(e))}function M0(t,e){const{exact:r,status:n,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(r){if(ki(e.options.mutationKey)!==ki(i))return!1}else if(!_l(e.options.mutationKey,i))return!1}return!(n&&e.state.status!==n||s&&!s(e))}function Nm(t,e){return((e==null?void 0:e.queryKeyHashFn)||ki)(t)}function ki(t){return JSON.stringify(t,(e,r)=>Uh(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function _l(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!_l(t[r],e[r])):!1}function Kw(t,e){if(t===e)return t;const r=F0(t)&&F0(e);if(r||Uh(t)&&Uh(e)){const n=r?t:Object.keys(t),s=n.length,i=r?e:Object.keys(e),a=i.length,o=r?[]:{};let l=0;for(let c=0;c<a;c++){const d=r?c:i[c];(!r&&n.includes(d)||r)&&t[d]===void 0&&e[d]===void 0?(o[d]=void 0,l++):(o[d]=Kw(t[d],e[d]),o[d]===t[d]&&t[d]!==void 0&&l++)}return s===a&&l===s?t:o}return e}function Mc(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function F0(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Uh(t){if(!$0(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!$0(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function $0(t){return Object.prototype.toString.call(t)==="[object Object]"}function d2(t){return new Promise(e=>{setTimeout(e,t)})}function zh(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?Kw(t,e):e}function f2(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function h2(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var Em=Symbol();function Qw(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Em?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var ii,hs,va,iv,p2=(iv=class extends Ya{constructor(){super();ge(this,ii);ge(this,hs);ge(this,va);J(this,va,e=>{if(!_i&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){S(this,hs)||this.setEventListener(S(this,va))}onUnsubscribe(){var e;this.hasListeners()||((e=S(this,hs))==null||e.call(this),J(this,hs,void 0))}setEventListener(e){var r;J(this,va,e),(r=S(this,hs))==null||r.call(this),J(this,hs,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){S(this,ii)!==e&&(J(this,ii,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof S(this,ii)=="boolean"?S(this,ii):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ii=new WeakMap,hs=new WeakMap,va=new WeakMap,iv),Cm=new p2,xa,ps,wa,av,m2=(av=class extends Ya{constructor(){super();ge(this,xa,!0);ge(this,ps);ge(this,wa);J(this,wa,e=>{if(!_i&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){S(this,ps)||this.setEventListener(S(this,wa))}onUnsubscribe(){var e;this.hasListeners()||((e=S(this,ps))==null||e.call(this),J(this,ps,void 0))}setEventListener(e){var r;J(this,wa,e),(r=S(this,ps))==null||r.call(this),J(this,ps,e(this.setOnline.bind(this)))}setOnline(e){S(this,xa)!==e&&(J(this,xa,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return S(this,xa)}},xa=new WeakMap,ps=new WeakMap,wa=new WeakMap,av),Fc=new m2;function Bh(){let t,e;const r=new Promise((s,i)=>{t=s,e=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),t(s)},r.reject=s=>{n({status:"rejected",reason:s}),e(s)},r}function g2(t){return Math.min(1e3*2**t,3e4)}function Zw(t){return(t??"online")==="online"?Fc.isOnline():!0}var Gw=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function wf(t){return t instanceof Gw}function Jw(t){let e=!1,r=0,n=!1,s;const i=Bh(),a=y=>{var w;n||(h(new Gw(y)),(w=t.abort)==null||w.call(t))},o=()=>{e=!0},l=()=>{e=!1},c=()=>Cm.isFocused()&&(t.networkMode==="always"||Fc.isOnline())&&t.canRun(),d=()=>Zw(t.networkMode)&&t.canRun(),f=y=>{var w;n||(n=!0,(w=t.onSuccess)==null||w.call(t,y),s==null||s(),i.resolve(y))},h=y=>{var w;n||(n=!0,(w=t.onError)==null||w.call(t,y),s==null||s(),i.reject(y))},p=()=>new Promise(y=>{var w;s=v=>{(n||c())&&y(v)},(w=t.onPause)==null||w.call(t)}).then(()=>{var y;s=void 0,n||(y=t.onContinue)==null||y.call(t)}),m=()=>{if(n)return;let y;const w=r===0?t.initialPromise:void 0;try{y=w??t.fn()}catch(v){y=Promise.reject(v)}Promise.resolve(y).then(f).catch(v=>{var b;if(n)return;const g=t.retry??(_i?0:3),x=t.retryDelay??g2,k=typeof x=="function"?x(r,v):x,E=g===!0||typeof g=="number"&&r<g||typeof g=="function"&&g(r,v);if(e||!E){h(v);return}r++,(b=t.onFail)==null||b.call(t,r,v),d2(k).then(()=>c()?void 0:p()).then(()=>{e?h(v):m()})})};return{promise:i,cancel:a,continue:()=>(s==null||s(),i),cancelRetry:o,continueRetry:l,canStart:d,start:()=>(d()?m():p().then(m),i)}}function y2(){let t=[],e=0,r=o=>{o()},n=o=>{o()},s=o=>setTimeout(o,0);const i=o=>{e?t.push(o):s(()=>{r(o)})},a=()=>{const o=t;t=[],o.length&&s(()=>{n(()=>{o.forEach(l=>{r(l)})})})};return{batch:o=>{let l;e++;try{l=o()}finally{e--,e||a()}return l},batchCalls:o=>(...l)=>{i(()=>{o(...l)})},schedule:i,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{s=o}}}var Ct=y2(),ai,ov,Yw=(ov=class{constructor(){ge(this,ai)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),$h(this.gcTime)&&J(this,ai,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(_i?1/0:5*60*1e3))}clearGcTimeout(){S(this,ai)&&(clearTimeout(S(this,ai)),J(this,ai,void 0))}},ai=new WeakMap,ov),ba,_a,Tr,Bt,Hl,oi,qr,Pn,lv,v2=(lv=class extends Yw{constructor(e){super();ge(this,qr);ge(this,ba);ge(this,_a);ge(this,Tr);ge(this,Bt);ge(this,Hl);ge(this,oi);J(this,oi,!1),J(this,Hl,e.defaultOptions),this.setOptions(e.options),this.observers=[],J(this,Tr,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,J(this,ba,x2(this.options)),this.state=e.state??S(this,ba),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=S(this,Bt))==null?void 0:e.promise}setOptions(e){this.options={...S(this,Hl),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&S(this,Tr).remove(this)}setData(e,r){const n=zh(this.state.data,e,this.options);return Ee(this,qr,Pn).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){Ee(this,qr,Pn).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,s;const r=(n=S(this,Bt))==null?void 0:n.promise;return(s=S(this,Bt))==null||s.cancel(e),r?r.then(Or).catch(Or):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(S(this,ba))}isActive(){return this.observers.some(e=>Gr(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Em||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!Ww(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=S(this,Bt))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=S(this,Bt))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),S(this,Tr).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(S(this,Bt)&&(S(this,oi)?S(this,Bt).cancel({revert:!0}):S(this,Bt).cancelRetry()),this.scheduleGc()),S(this,Tr).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ee(this,qr,Pn).call(this,{type:"invalidate"})}fetch(e,r){var l,c,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(S(this,Bt))return S(this,Bt).continueRetry(),S(this,Bt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(J(this,oi,!0),n.signal)})},i=()=>{const f=Qw(this.options,r),h={queryKey:this.queryKey,meta:this.meta};return s(h),J(this,oi,!1),this.options.persister?this.options.persister(f,h,this):f(h)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(a),(l=this.options.behavior)==null||l.onFetch(a,this),J(this,_a,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=a.fetchOptions)==null?void 0:c.meta))&&Ee(this,qr,Pn).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta});const o=f=>{var h,p,m,y;wf(f)&&f.silent||Ee(this,qr,Pn).call(this,{type:"error",error:f}),wf(f)||((p=(h=S(this,Tr).config).onError)==null||p.call(h,f,this),(y=(m=S(this,Tr).config).onSettled)==null||y.call(m,this.state.data,f,this)),this.scheduleGc()};return J(this,Bt,Jw({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{var h,p,m,y;if(f===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(w){o(w);return}(p=(h=S(this,Tr).config).onSuccess)==null||p.call(h,f,this),(y=(m=S(this,Tr).config).onSettled)==null||y.call(m,f,this.state.error,this),this.scheduleGc()},onError:o,onFail:(f,h)=>{Ee(this,qr,Pn).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{Ee(this,qr,Pn).call(this,{type:"pause"})},onContinue:()=>{Ee(this,qr,Pn).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),S(this,Bt).start()}},ba=new WeakMap,_a=new WeakMap,Tr=new WeakMap,Bt=new WeakMap,Hl=new WeakMap,oi=new WeakMap,qr=new WeakSet,Pn=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Xw(n.data,this.options),fetchMeta:e.meta??null};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return wf(s)&&s.revert&&S(this,_a)?{...S(this,_a),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),Ct.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),S(this,Tr).notify({query:this,type:"updated",action:e})})},lv);function Xw(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Zw(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function x2(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var dn,uv,w2=(uv=class extends Ya{constructor(e={}){super();ge(this,dn);this.config=e,J(this,dn,new Map)}build(e,r,n){const s=r.queryKey,i=r.queryHash??Nm(s,r);let a=this.get(i);return a||(a=new v2({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(a)),a}add(e){S(this,dn).has(e.queryHash)||(S(this,dn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=S(this,dn).get(e.queryHash);r&&(e.destroy(),r===e&&S(this,dn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ct.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return S(this,dn).get(e)}getAll(){return[...S(this,dn).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>I0(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>I0(e,n)):r}notify(e){Ct.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Ct.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ct.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},dn=new WeakMap,uv),fn,Qt,li,hn,ts,cv,b2=(cv=class extends Yw{constructor(e){super();ge(this,hn);ge(this,fn);ge(this,Qt);ge(this,li);this.mutationId=e.mutationId,J(this,Qt,e.mutationCache),J(this,fn,[]),this.state=e.state||eb(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){S(this,fn).includes(e)||(S(this,fn).push(e),this.clearGcTimeout(),S(this,Qt).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){J(this,fn,S(this,fn).filter(r=>r!==e)),this.scheduleGc(),S(this,Qt).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){S(this,fn).length||(this.state.status==="pending"?this.scheduleGc():S(this,Qt).remove(this))}continue(){var e;return((e=S(this,li))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,i,a,o,l,c,d,f,h,p,m,y,w,v,g,x,k,E,b,A;J(this,li,Jw({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(P,L)=>{Ee(this,hn,ts).call(this,{type:"failed",failureCount:P,error:L})},onPause:()=>{Ee(this,hn,ts).call(this,{type:"pause"})},onContinue:()=>{Ee(this,hn,ts).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>S(this,Qt).canRun(this)}));const r=this.state.status==="pending",n=!S(this,li).canStart();try{if(!r){Ee(this,hn,ts).call(this,{type:"pending",variables:e,isPaused:n}),await((i=(s=S(this,Qt).config).onMutate)==null?void 0:i.call(s,e,this));const L=await((o=(a=this.options).onMutate)==null?void 0:o.call(a,e));L!==this.state.context&&Ee(this,hn,ts).call(this,{type:"pending",context:L,variables:e,isPaused:n})}const P=await S(this,li).start();return await((c=(l=S(this,Qt).config).onSuccess)==null?void 0:c.call(l,P,e,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,P,e,this.state.context)),await((p=(h=S(this,Qt).config).onSettled)==null?void 0:p.call(h,P,null,this.state.variables,this.state.context,this)),await((y=(m=this.options).onSettled)==null?void 0:y.call(m,P,null,e,this.state.context)),Ee(this,hn,ts).call(this,{type:"success",data:P}),P}catch(P){try{throw await((v=(w=S(this,Qt).config).onError)==null?void 0:v.call(w,P,e,this.state.context,this)),await((x=(g=this.options).onError)==null?void 0:x.call(g,P,e,this.state.context)),await((E=(k=S(this,Qt).config).onSettled)==null?void 0:E.call(k,void 0,P,this.state.variables,this.state.context,this)),await((A=(b=this.options).onSettled)==null?void 0:A.call(b,void 0,P,e,this.state.context)),P}finally{Ee(this,hn,ts).call(this,{type:"error",error:P})}}finally{S(this,Qt).runNext(this)}}},fn=new WeakMap,Qt=new WeakMap,li=new WeakMap,hn=new WeakSet,ts=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ct.batch(()=>{S(this,fn).forEach(n=>{n.onMutationUpdate(e)}),S(this,Qt).notify({mutation:this,type:"updated",action:e})})},cv);function eb(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var mr,ql,dv,_2=(dv=class extends Ya{constructor(e={}){super();ge(this,mr);ge(this,ql);this.config=e,J(this,mr,new Map),J(this,ql,Date.now())}build(e,r,n){const s=new b2({mutationCache:this,mutationId:++gu(this,ql)._,options:e.defaultMutationOptions(r),state:n});return this.add(s),s}add(e){const r=Du(e),n=S(this,mr).get(r)??[];n.push(e),S(this,mr).set(r,n),this.notify({type:"added",mutation:e})}remove(e){var n;const r=Du(e);if(S(this,mr).has(r)){const s=(n=S(this,mr).get(r))==null?void 0:n.filter(i=>i!==e);s&&(s.length===0?S(this,mr).delete(r):S(this,mr).set(r,s))}this.notify({type:"removed",mutation:e})}canRun(e){var n;const r=(n=S(this,mr).get(Du(e)))==null?void 0:n.find(s=>s.state.status==="pending");return!r||r===e}runNext(e){var n;const r=(n=S(this,mr).get(Du(e)))==null?void 0:n.find(s=>s!==e&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){Ct.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...S(this,mr).values()].flat()}find(e){const r={exact:!0,...e};return this.getAll().find(n=>M0(r,n))}findAll(e={}){return this.getAll().filter(r=>M0(e,r))}notify(e){Ct.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return Ct.batch(()=>Promise.all(e.map(r=>r.continue().catch(Or))))}},mr=new WeakMap,ql=new WeakMap,dv);function Du(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function U0(t){return{onFetch:(e,r)=>{var d,f,h,p,m;const n=e.options,s=(h=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((p=e.state.data)==null?void 0:p.pages)||[],a=((m=e.state.data)==null?void 0:m.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const c=async()=>{let y=!1;const w=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},v=Qw(e.options,e.fetchOptions),g=async(x,k,E)=>{if(y)return Promise.reject();if(k==null&&x.pages.length)return Promise.resolve(x);const b={queryKey:e.queryKey,pageParam:k,direction:E?"backward":"forward",meta:e.options.meta};w(b);const A=await v(b),{maxPages:P}=e.options,L=E?h2:f2;return{pages:L(x.pages,A,P),pageParams:L(x.pageParams,k,P)}};if(s&&i.length){const x=s==="backward",k=x?k2:z0,E={pages:i,pageParams:a},b=k(n,E);o=await g(E,b,x)}else{const x=t??i.length;do{const k=l===0?a[0]??n.initialPageParam:z0(n,o);if(l>0&&k==null)break;o=await g(o,k),l++}while(l<x)}return o};e.options.persister?e.fetchFn=()=>{var y,w;return(w=(y=e.options).persister)==null?void 0:w.call(y,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=c}}}function z0(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function k2(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var gt,ms,gs,ka,Sa,ys,ja,Na,fv,S2=(fv=class{constructor(t={}){ge(this,gt);ge(this,ms);ge(this,gs);ge(this,ka);ge(this,Sa);ge(this,ys);ge(this,ja);ge(this,Na);J(this,gt,t.queryCache||new w2),J(this,ms,t.mutationCache||new _2),J(this,gs,t.defaultOptions||{}),J(this,ka,new Map),J(this,Sa,new Map),J(this,ys,0)}mount(){gu(this,ys)._++,S(this,ys)===1&&(J(this,ja,Cm.subscribe(async t=>{t&&(await this.resumePausedMutations(),S(this,gt).onFocus())})),J(this,Na,Fc.subscribe(async t=>{t&&(await this.resumePausedMutations(),S(this,gt).onOnline())})))}unmount(){var t,e;gu(this,ys)._--,S(this,ys)===0&&((t=S(this,ja))==null||t.call(this),J(this,ja,void 0),(e=S(this,Na))==null||e.call(this),J(this,Na,void 0))}isFetching(t){return S(this,gt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return S(this,ms).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=S(this,gt).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const r=this.defaultQueryOptions(t),n=S(this,gt).build(this,r);return t.revalidateIfStale&&n.isStaleByTime(ma(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(e)}}getQueriesData(t){return S(this,gt).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),s=S(this,gt).get(n.queryHash),i=s==null?void 0:s.state.data,a=c2(e,i);if(a!==void 0)return S(this,gt).build(this,n).setData(a,{...r,manual:!0})}setQueriesData(t,e,r){return Ct.batch(()=>S(this,gt).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=S(this,gt).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=S(this,gt);Ct.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=S(this,gt),n={type:"active",...t};return Ct.batch(()=>(r.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(n,e)))}cancelQueries(t={},e={}){const r={revert:!0,...e},n=Ct.batch(()=>S(this,gt).findAll(t).map(s=>s.cancel(r)));return Promise.all(n).then(Or).catch(Or)}invalidateQueries(t={},e={}){return Ct.batch(()=>{if(S(this,gt).findAll(t).forEach(n=>{n.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){const r={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},n=Ct.batch(()=>S(this,gt).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(Or)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Or)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=S(this,gt).build(this,e);return r.isStaleByTime(ma(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Or).catch(Or)}fetchInfiniteQuery(t){return t.behavior=U0(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Or).catch(Or)}ensureInfiniteQueryData(t){return t.behavior=U0(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Fc.isOnline()?S(this,ms).resumePausedMutations():Promise.resolve()}getQueryCache(){return S(this,gt)}getMutationCache(){return S(this,ms)}getDefaultOptions(){return S(this,gs)}setDefaultOptions(t){J(this,gs,t)}setQueryDefaults(t,e){S(this,ka).set(ki(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...S(this,ka).values()];let r={};return e.forEach(n=>{_l(t,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(t,e){S(this,Sa).set(ki(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...S(this,Sa).values()];let r={};return e.forEach(n=>{_l(t,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...S(this,gs).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Nm(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===Em&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...S(this,gs).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){S(this,gt).clear(),S(this,ms).clear()}},gt=new WeakMap,ms=new WeakMap,gs=new WeakMap,ka=new WeakMap,Sa=new WeakMap,ys=new WeakMap,ja=new WeakMap,Na=new WeakMap,fv),nr,De,Wl,Zt,ui,Ea,vs,pn,Kl,Ca,Pa,ci,di,xs,Ra,Ke,Ao,Vh,Hh,qh,Wh,Kh,Qh,Zh,tb,hv,j2=(hv=class extends Ya{constructor(e,r){super();ge(this,Ke);ge(this,nr);ge(this,De);ge(this,Wl);ge(this,Zt);ge(this,ui);ge(this,Ea);ge(this,vs);ge(this,pn);ge(this,Kl);ge(this,Ca);ge(this,Pa);ge(this,ci);ge(this,di);ge(this,xs);ge(this,Ra,new Set);this.options=r,J(this,nr,e),J(this,pn,null),J(this,vs,Bh()),this.options.experimental_prefetchInRender||S(this,vs).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(S(this,De).addObserver(this),B0(S(this,De),this.options)?Ee(this,Ke,Ao).call(this):this.updateResult(),Ee(this,Ke,Wh).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Gh(S(this,De),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Gh(S(this,De),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ee(this,Ke,Kh).call(this),Ee(this,Ke,Qh).call(this),S(this,De).removeObserver(this)}setOptions(e,r){const n=this.options,s=S(this,De);if(this.options=S(this,nr).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Gr(this.options.enabled,S(this,De))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ee(this,Ke,Zh).call(this),S(this,De).setOptions(this.options),n._defaulted&&!Mc(this.options,n)&&S(this,nr).getQueryCache().notify({type:"observerOptionsUpdated",query:S(this,De),observer:this});const i=this.hasListeners();i&&V0(S(this,De),s,this.options,n)&&Ee(this,Ke,Ao).call(this),this.updateResult(r),i&&(S(this,De)!==s||Gr(this.options.enabled,S(this,De))!==Gr(n.enabled,S(this,De))||ma(this.options.staleTime,S(this,De))!==ma(n.staleTime,S(this,De)))&&Ee(this,Ke,Vh).call(this);const a=Ee(this,Ke,Hh).call(this);i&&(S(this,De)!==s||Gr(this.options.enabled,S(this,De))!==Gr(n.enabled,S(this,De))||a!==S(this,xs))&&Ee(this,Ke,qh).call(this,a)}getOptimisticResult(e){const r=S(this,nr).getQueryCache().build(S(this,nr),e),n=this.createResult(r,e);return E2(this,n)&&(J(this,Zt,n),J(this,Ea,this.options),J(this,ui,S(this,De).state)),n}getCurrentResult(){return S(this,Zt)}trackResult(e,r){const n={};return Object.keys(e).forEach(s=>{Object.defineProperty(n,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),r==null||r(s),e[s])})}),n}trackProp(e){S(this,Ra).add(e)}getCurrentQuery(){return S(this,De)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=S(this,nr).defaultQueryOptions(e),n=S(this,nr).getQueryCache().build(S(this,nr),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return Ee(this,Ke,Ao).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),S(this,Zt)))}createResult(e,r){var P;const n=S(this,De),s=this.options,i=S(this,Zt),a=S(this,ui),o=S(this,Ea),c=e!==n?e.state:S(this,Wl),{state:d}=e;let f={...d},h=!1,p;if(r._optimisticResults){const L=this.hasListeners(),F=!L&&B0(e,r),K=L&&V0(e,n,r,s);(F||K)&&(f={...f,...Xw(d.data,e.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:m,errorUpdatedAt:y,status:w}=f;if(r.select&&f.data!==void 0)if(i&&f.data===(a==null?void 0:a.data)&&r.select===S(this,Kl))p=S(this,Ca);else try{J(this,Kl,r.select),p=r.select(f.data),p=zh(i==null?void 0:i.data,p,r),J(this,Ca,p),J(this,pn,null)}catch(L){J(this,pn,L)}else p=f.data;if(r.placeholderData!==void 0&&p===void 0&&w==="pending"){let L;if(i!=null&&i.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData))L=i.data;else if(L=typeof r.placeholderData=="function"?r.placeholderData((P=S(this,Pa))==null?void 0:P.state.data,S(this,Pa)):r.placeholderData,r.select&&L!==void 0)try{L=r.select(L),J(this,pn,null)}catch(F){J(this,pn,F)}L!==void 0&&(w="success",p=zh(i==null?void 0:i.data,L,r),h=!0)}S(this,pn)&&(m=S(this,pn),p=S(this,Ca),y=Date.now(),w="error");const v=f.fetchStatus==="fetching",g=w==="pending",x=w==="error",k=g&&v,E=p!==void 0,A={status:w,fetchStatus:f.fetchStatus,isPending:g,isSuccess:w==="success",isError:x,isInitialLoading:k,isLoading:k,data:p,dataUpdatedAt:f.dataUpdatedAt,error:m,errorUpdatedAt:y,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>c.dataUpdateCount||f.errorUpdateCount>c.errorUpdateCount,isFetching:v,isRefetching:v&&!g,isLoadingError:x&&!E,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:x&&E,isStale:Pm(e,r),refetch:this.refetch,promise:S(this,vs)};if(this.options.experimental_prefetchInRender){const L=D=>{A.status==="error"?D.reject(A.error):A.data!==void 0&&D.resolve(A.data)},F=()=>{const D=J(this,vs,A.promise=Bh());L(D)},K=S(this,vs);switch(K.status){case"pending":e.queryHash===n.queryHash&&L(K);break;case"fulfilled":(A.status==="error"||A.data!==K.value)&&F();break;case"rejected":(A.status!=="error"||A.error!==K.reason)&&F();break}}return A}updateResult(e){const r=S(this,Zt),n=this.createResult(S(this,De),this.options);if(J(this,ui,S(this,De).state),J(this,Ea,this.options),S(this,ui).data!==void 0&&J(this,Pa,S(this,De)),Mc(n,r))return;J(this,Zt,n);const s={},i=()=>{if(!r)return!0;const{notifyOnChangeProps:a}=this.options,o=typeof a=="function"?a():a;if(o==="all"||!o&&!S(this,Ra).size)return!0;const l=new Set(o??S(this,Ra));return this.options.throwOnError&&l.add("error"),Object.keys(S(this,Zt)).some(c=>{const d=c;return S(this,Zt)[d]!==r[d]&&l.has(d)})};(e==null?void 0:e.listeners)!==!1&&i()&&(s.listeners=!0),Ee(this,Ke,tb).call(this,{...s,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ee(this,Ke,Wh).call(this)}},nr=new WeakMap,De=new WeakMap,Wl=new WeakMap,Zt=new WeakMap,ui=new WeakMap,Ea=new WeakMap,vs=new WeakMap,pn=new WeakMap,Kl=new WeakMap,Ca=new WeakMap,Pa=new WeakMap,ci=new WeakMap,di=new WeakMap,xs=new WeakMap,Ra=new WeakMap,Ke=new WeakSet,Ao=function(e){Ee(this,Ke,Zh).call(this);let r=S(this,De).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(Or)),r},Vh=function(){Ee(this,Ke,Kh).call(this);const e=ma(this.options.staleTime,S(this,De));if(_i||S(this,Zt).isStale||!$h(e))return;const n=Ww(S(this,Zt).dataUpdatedAt,e)+1;J(this,ci,setTimeout(()=>{S(this,Zt).isStale||this.updateResult()},n))},Hh=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(S(this,De)):this.options.refetchInterval)??!1},qh=function(e){Ee(this,Ke,Qh).call(this),J(this,xs,e),!(_i||Gr(this.options.enabled,S(this,De))===!1||!$h(S(this,xs))||S(this,xs)===0)&&J(this,di,setInterval(()=>{(this.options.refetchIntervalInBackground||Cm.isFocused())&&Ee(this,Ke,Ao).call(this)},S(this,xs)))},Wh=function(){Ee(this,Ke,Vh).call(this),Ee(this,Ke,qh).call(this,Ee(this,Ke,Hh).call(this))},Kh=function(){S(this,ci)&&(clearTimeout(S(this,ci)),J(this,ci,void 0))},Qh=function(){S(this,di)&&(clearInterval(S(this,di)),J(this,di,void 0))},Zh=function(){const e=S(this,nr).getQueryCache().build(S(this,nr),this.options);if(e===S(this,De))return;const r=S(this,De);J(this,De,e),J(this,Wl,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},tb=function(e){Ct.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(S(this,Zt))}),S(this,nr).getQueryCache().notify({query:S(this,De),type:"observerResultsUpdated"})})},hv);function N2(t,e){return Gr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function B0(t,e){return N2(t,e)||t.state.data!==void 0&&Gh(t,e,e.refetchOnMount)}function Gh(t,e,r){if(Gr(e.enabled,t)!==!1){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&Pm(t,e)}return!1}function V0(t,e,r,n){return(t!==e||Gr(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&Pm(t,r)}function Pm(t,e){return Gr(e.enabled,t)!==!1&&t.isStaleByTime(ma(e.staleTime,t))}function E2(t,e){return!Mc(t.getCurrentResult(),e)}var ws,bs,sr,An,Un,rc,Jh,pv,C2=(pv=class extends Ya{constructor(r,n){super();ge(this,Un);ge(this,ws);ge(this,bs);ge(this,sr);ge(this,An);J(this,ws,r),this.setOptions(n),this.bindMethods(),Ee(this,Un,rc).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=S(this,ws).defaultMutationOptions(r),Mc(this.options,n)||S(this,ws).getMutationCache().notify({type:"observerOptionsUpdated",mutation:S(this,sr),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&ki(n.mutationKey)!==ki(this.options.mutationKey)?this.reset():((s=S(this,sr))==null?void 0:s.state.status)==="pending"&&S(this,sr).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=S(this,sr))==null||r.removeObserver(this)}onMutationUpdate(r){Ee(this,Un,rc).call(this),Ee(this,Un,Jh).call(this,r)}getCurrentResult(){return S(this,bs)}reset(){var r;(r=S(this,sr))==null||r.removeObserver(this),J(this,sr,void 0),Ee(this,Un,rc).call(this),Ee(this,Un,Jh).call(this)}mutate(r,n){var s;return J(this,An,n),(s=S(this,sr))==null||s.removeObserver(this),J(this,sr,S(this,ws).getMutationCache().build(S(this,ws),this.options)),S(this,sr).addObserver(this),S(this,sr).execute(r)}},ws=new WeakMap,bs=new WeakMap,sr=new WeakMap,An=new WeakMap,Un=new WeakSet,rc=function(){var n;const r=((n=S(this,sr))==null?void 0:n.state)??eb();J(this,bs,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Jh=function(r){Ct.batch(()=>{var n,s,i,a,o,l,c,d;if(S(this,An)&&this.hasListeners()){const f=S(this,bs).variables,h=S(this,bs).context;(r==null?void 0:r.type)==="success"?((s=(n=S(this,An)).onSuccess)==null||s.call(n,r.data,f,h),(a=(i=S(this,An)).onSettled)==null||a.call(i,r.data,null,f,h)):(r==null?void 0:r.type)==="error"&&((l=(o=S(this,An)).onError)==null||l.call(o,r.error,f,h),(d=(c=S(this,An)).onSettled)==null||d.call(c,void 0,r.error,f,h))}this.listeners.forEach(f=>{f(S(this,bs))})})},pv),rb=_.createContext(void 0),Xl=t=>{const e=_.useContext(rb);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},P2=({client:t,children:e})=>(_.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),u.jsx(rb.Provider,{value:t,children:e})),nb=_.createContext(!1),R2=()=>_.useContext(nb);nb.Provider;function T2(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var O2=_.createContext(T2()),A2=()=>_.useContext(O2);function sb(t,e){return typeof t=="function"?t(...e):!!t}function Yh(){}var L2=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},D2=t=>{_.useEffect(()=>{t.clearReset()},[t])},I2=({result:t,errorResetBoundary:e,throwOnError:r,query:n})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&sb(r,[t.error,n]),M2=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},F2=(t,e)=>t.isLoading&&t.isFetching&&!e,$2=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,H0=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function U2(t,e,r){var d,f,h,p,m;const n=Xl(),s=R2(),i=A2(),a=n.defaultQueryOptions(t);(f=(d=n.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||f.call(d,a),a._optimisticResults=s?"isRestoring":"optimistic",M2(a),L2(a,i),D2(i);const o=!n.getQueryCache().get(a.queryHash),[l]=_.useState(()=>new e(n,a)),c=l.getOptimisticResult(a);if(_.useSyncExternalStore(_.useCallback(y=>{const w=s?Yh:l.subscribe(Ct.batchCalls(y));return l.updateResult(),w},[l,s]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),_.useEffect(()=>{l.setOptions(a,{listeners:!1})},[a,l]),$2(a,c))throw H0(a,l,i);if(I2({result:c,errorResetBoundary:i,throwOnError:a.throwOnError,query:n.getQueryCache().get(a.queryHash)}))throw c.error;if((p=(h=n.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||p.call(h,a,c),a.experimental_prefetchInRender&&!_i&&F2(c,s)){const y=o?H0(a,l,i):(m=n.getQueryCache().get(a.queryHash))==null?void 0:m.promise;y==null||y.catch(Yh).finally(()=>{l.updateResult()})}return a.notifyOnChangeProps?c:l.trackResult(c)}function wn(t,e){return U2(t,j2)}function bf(t,e){const r=Xl(),[n]=_.useState(()=>new C2(r,t));_.useEffect(()=>{n.setOptions(t)},[n,t]);const s=_.useSyncExternalStore(_.useCallback(a=>n.subscribe(Ct.batchCalls(a)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=_.useCallback((a,o)=>{n.mutate(a,o).catch(Yh)},[n]);if(s.error&&sb(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}let z2={data:""},B2=t=>{if(typeof window=="object"){let e=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(t||document.head).appendChild(e),e.firstChild}return t||z2},V2=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,H2=/\/\*[^]*?\*\/|  +/g,q0=/\n+/g,us=(t,e)=>{let r="",n="",s="";for(let i in t){let a=t[i];i[0]=="@"?i[1]=="i"?r=i+" "+a+";":n+=i[1]=="f"?us(a,i):i+"{"+us(a,i[1]=="k"?"":e)+"}":typeof a=="object"?n+=us(a,e?e.replace(/([^,])+/g,o=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,o):o?o+" "+l:l)):i):a!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=us.p?us.p(i,a):i+":"+a+";")}return r+(e&&s?e+"{"+s+"}":s)+n},En={},ib=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+ib(t[r]);return e}return t},q2=(t,e,r,n,s)=>{let i=ib(t),a=En[i]||(En[i]=(l=>{let c=0,d=11;for(;c<l.length;)d=101*d+l.charCodeAt(c++)>>>0;return"go"+d})(i));if(!En[a]){let l=i!==t?t:(c=>{let d,f,h=[{}];for(;d=V2.exec(c.replace(H2,""));)d[4]?h.shift():d[3]?(f=d[3].replace(q0," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][d[1]]=d[2].replace(q0," ").trim();return h[0]})(t);En[a]=us(s?{["@keyframes "+a]:l}:l,r?"":"."+a)}let o=r&&En.g?En.g:null;return r&&(En.g=En[a]),((l,c,d,f)=>{f?c.data=c.data.replace(f,l):c.data.indexOf(l)===-1&&(c.data=d?l+c.data:c.data+l)})(En[a],e,n,o),a},W2=(t,e,r)=>t.reduce((n,s,i)=>{let a=e[i];if(a&&a.call){let o=a(r),l=o&&o.props&&o.props.className||/^go/.test(o)&&o;a=l?"."+l:o&&typeof o=="object"?o.props?"":us(o,""):o===!1?"":o}return n+s+(a??"")},"");function Sd(t){let e=this||{},r=t.call?t(e.p):t;return q2(r.unshift?r.raw?W2(r,[].slice.call(arguments,1),e.p):r.reduce((n,s)=>Object.assign(n,s&&s.call?s(e.p):s),{}):r,B2(e.target),e.g,e.o,e.k)}let ab,Xh,ep;Sd.bind({g:1});let qn=Sd.bind({k:1});function K2(t,e,r,n){us.p=e,ab=t,Xh=r,ep=n}function qs(t,e){let r=this||{};return function(){let n=arguments;function s(i,a){let o=Object.assign({},i),l=o.className||s.className;r.p=Object.assign({theme:Xh&&Xh()},o),r.o=/ *go\d+/.test(l),o.className=Sd.apply(r,n)+(l?" "+l:"");let c=t;return t[0]&&(c=o.as||t,delete o.as),ep&&c[0]&&ep(o),ab(c,o)}return s}}var Q2=t=>typeof t=="function",$c=(t,e)=>Q2(t)?t(e):t,Z2=(()=>{let t=0;return()=>(++t).toString()})(),ob=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),G2=20,nc=new Map,J2=1e3,W0=t=>{if(nc.has(t))return;let e=setTimeout(()=>{nc.delete(t),Ti({type:4,toastId:t})},J2);nc.set(t,e)},Y2=t=>{let e=nc.get(t);e&&clearTimeout(e)},tp=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,G2)};case 1:return e.toast.id&&Y2(e.toast.id),{...t,toasts:t.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:r}=e;return t.toasts.find(i=>i.id===r.id)?tp(t,{type:1,toast:r}):tp(t,{type:0,toast:r});case 3:let{toastId:n}=e;return n?W0(n):t.toasts.forEach(i=>{W0(i.id)}),{...t,toasts:t.toasts.map(i=>i.id===n||n===void 0?{...i,visible:!1}:i)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},sc=[],ic={toasts:[],pausedAt:void 0},Ti=t=>{ic=tp(ic,t),sc.forEach(e=>{e(ic)})},X2={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},eN=(t={})=>{let[e,r]=_.useState(ic);_.useEffect(()=>(sc.push(r),()=>{let s=sc.indexOf(r);s>-1&&sc.splice(s,1)}),[e]);let n=e.toasts.map(s=>{var i,a;return{...t,...t[s.type],...s,duration:s.duration||((i=t[s.type])==null?void 0:i.duration)||(t==null?void 0:t.duration)||X2[s.type],style:{...t.style,...(a=t[s.type])==null?void 0:a.style,...s.style}}});return{...e,toasts:n}},tN=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||Z2()}),eu=t=>(e,r)=>{let n=tN(e,t,r);return Ti({type:2,toast:n}),n.id},kr=(t,e)=>eu("blank")(t,e);kr.error=eu("error");kr.success=eu("success");kr.loading=eu("loading");kr.custom=eu("custom");kr.dismiss=t=>{Ti({type:3,toastId:t})};kr.remove=t=>Ti({type:4,toastId:t});kr.promise=(t,e,r)=>{let n=kr.loading(e.loading,{...r,...r==null?void 0:r.loading});return t.then(s=>(kr.success($c(e.success,s),{id:n,...r,...r==null?void 0:r.success}),s)).catch(s=>{kr.error($c(e.error,s),{id:n,...r,...r==null?void 0:r.error})}),t};var rN=(t,e)=>{Ti({type:1,toast:{id:t,height:e}})},nN=()=>{Ti({type:5,time:Date.now()})},sN=t=>{let{toasts:e,pausedAt:r}=eN(t);_.useEffect(()=>{if(r)return;let i=Date.now(),a=e.map(o=>{if(o.duration===1/0)return;let l=(o.duration||0)+o.pauseDuration-(i-o.createdAt);if(l<0){o.visible&&kr.dismiss(o.id);return}return setTimeout(()=>kr.dismiss(o.id),l)});return()=>{a.forEach(o=>o&&clearTimeout(o))}},[e,r]);let n=_.useCallback(()=>{r&&Ti({type:6,time:Date.now()})},[r]),s=_.useCallback((i,a)=>{let{reverseOrder:o=!1,gutter:l=8,defaultPosition:c}=a||{},d=e.filter(p=>(p.position||c)===(i.position||c)&&p.height),f=d.findIndex(p=>p.id===i.id),h=d.filter((p,m)=>m<f&&p.visible).length;return d.filter(p=>p.visible).slice(...o?[h+1]:[0,h]).reduce((p,m)=>p+(m.height||0)+l,0)},[e]);return{toasts:e,handlers:{updateHeight:rN,startPause:nN,endPause:n,calculateOffset:s}}},iN=qn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,aN=qn`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,oN=qn`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,lN=qs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${iN} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${aN} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${oN} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,uN=qn`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,cN=qs("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${uN} 1s linear infinite;
`,dN=qn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,fN=qn`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,hN=qs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${dN} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${fN} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,pN=qs("div")`
  position: absolute;
`,mN=qs("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,gN=qn`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,yN=qs("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${gN} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,vN=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?_.createElement(yN,null,e):e:r==="blank"?null:_.createElement(mN,null,_.createElement(cN,{...n}),r!=="loading"&&_.createElement(pN,null,r==="error"?_.createElement(lN,{...n}):_.createElement(hN,{...n})))},xN=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,wN=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,bN="0%{opacity:0;} 100%{opacity:1;}",_N="0%{opacity:1;} 100%{opacity:0;}",kN=qs("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,SN=qs("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,jN=(t,e)=>{let r=t.includes("top")?1:-1,[n,s]=ob()?[bN,_N]:[xN(r),wN(r)];return{animation:e?`${qn(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${qn(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},NN=_.memo(({toast:t,position:e,style:r,children:n})=>{let s=t.height?jN(t.position||e||"top-center",t.visible):{opacity:0},i=_.createElement(vN,{toast:t}),a=_.createElement(SN,{...t.ariaProps},$c(t.message,t));return _.createElement(kN,{className:t.className,style:{...s,...r,...t.style}},typeof n=="function"?n({icon:i,message:a}):_.createElement(_.Fragment,null,i,a))});K2(_.createElement);var EN=({id:t,className:e,style:r,onHeightUpdate:n,children:s})=>{let i=_.useCallback(a=>{if(a){let o=()=>{let l=a.getBoundingClientRect().height;n(t,l)};o(),new MutationObserver(o).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return _.createElement("div",{ref:i,className:e,style:r},s)},CN=(t,e)=>{let r=t.includes("top"),n=r?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:ob()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...n,...s}},PN=Sd`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Iu=16,RN=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:n,children:s,containerStyle:i,containerClassName:a})=>{let{toasts:o,handlers:l}=sN(r);return _.createElement("div",{style:{position:"fixed",zIndex:9999,top:Iu,left:Iu,right:Iu,bottom:Iu,pointerEvents:"none",...i},className:a,onMouseEnter:l.startPause,onMouseLeave:l.endPause},o.map(c=>{let d=c.position||e,f=l.calculateOffset(c,{reverseOrder:t,gutter:n,defaultPosition:e}),h=CN(d,f);return _.createElement(EN,{id:c.id,key:c.id,onHeightUpdate:l.updateHeight,className:c.visible?PN:"",style:h},c.type==="custom"?$c(c.message,c):s?s(c):_.createElement(NN,{toast:c,position:d}))}))},me=kr;const be=t=>typeof t=="string",bo=()=>{let t,e;const r=new Promise((n,s)=>{t=n,e=s});return r.resolve=t,r.reject=e,r},K0=t=>t==null?"":""+t,TN=(t,e,r)=>{t.forEach(n=>{e[n]&&(r[n]=e[n])})},ON=/###/g,Q0=t=>t&&t.indexOf("###")>-1?t.replace(ON,"."):t,Z0=t=>!t||be(t),Zo=(t,e,r)=>{const n=be(e)?e.split("."):e;let s=0;for(;s<n.length-1;){if(Z0(t))return{};const i=Q0(n[s]);!t[i]&&r&&(t[i]=new r),Object.prototype.hasOwnProperty.call(t,i)?t=t[i]:t={},++s}return Z0(t)?{}:{obj:t,k:Q0(n[s])}},G0=(t,e,r)=>{const{obj:n,k:s}=Zo(t,e,Object);if(n!==void 0||e.length===1){n[s]=r;return}let i=e[e.length-1],a=e.slice(0,e.length-1),o=Zo(t,a,Object);for(;o.obj===void 0&&a.length;)i=`${a[a.length-1]}.${i}`,a=a.slice(0,a.length-1),o=Zo(t,a,Object),o!=null&&o.obj&&typeof o.obj[`${o.k}.${i}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${i}`]=r},AN=(t,e,r,n)=>{const{obj:s,k:i}=Zo(t,e,Object);s[i]=s[i]||[],s[i].push(r)},Uc=(t,e)=>{const{obj:r,k:n}=Zo(t,e);if(r&&Object.prototype.hasOwnProperty.call(r,n))return r[n]},LN=(t,e,r)=>{const n=Uc(t,r);return n!==void 0?n:Uc(e,r)},lb=(t,e,r)=>{for(const n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?be(t[n])||t[n]instanceof String||be(e[n])||e[n]instanceof String?r&&(t[n]=e[n]):lb(t[n],e[n],r):t[n]=e[n]);return t},Ui=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var DN={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const IN=t=>be(t)?t.replace(/[&<>"'\/]/g,e=>DN[e]):t;class MN{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const r=this.regExpMap.get(e);if(r!==void 0)return r;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}const FN=[" ",",","?","!",";"],$N=new MN(20),UN=(t,e,r)=>{e=e||"",r=r||"";const n=FN.filter(a=>e.indexOf(a)<0&&r.indexOf(a)<0);if(n.length===0)return!0;const s=$N.getRegExp(`(${n.map(a=>a==="?"?"\\?":a).join("|")})`);let i=!s.test(t);if(!i){const a=t.indexOf(r);a>0&&!s.test(t.substring(0,a))&&(i=!0)}return i},rp=(t,e,r=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const n=e.split(r);let s=t;for(let i=0;i<n.length;){if(!s||typeof s!="object")return;let a,o="";for(let l=i;l<n.length;++l)if(l!==i&&(o+=r),o+=n[l],a=s[o],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&l<n.length-1)continue;i+=l-i+1;break}s=a}return s},kl=t=>t==null?void 0:t.replace("_","-"),zN={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){var r,n;(n=(r=console==null?void 0:console[t])==null?void 0:r.apply)==null||n.call(r,console,e)}};class zc{constructor(e,r={}){this.init(e,r)}init(e,r={}){this.prefix=r.prefix||"i18next:",this.logger=e||zN,this.options=r,this.debug=r.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,r,n,s){return s&&!this.debug?null:(be(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[r](e))}create(e){return new zc(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new zc(this.logger,e)}}var gn=new zc;class jd{constructor(){this.observers={}}on(e,r){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const s=this.observers[n].get(r)||0;this.observers[n].set(r,s+1)}),this}off(e,r){if(this.observers[e]){if(!r){delete this.observers[e];return}this.observers[e].delete(r)}}emit(e,...r){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([s,i])=>{for(let a=0;a<i;a++)s(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([s,i])=>{for(let a=0;a<i;a++)s.apply(s,[e,...r])})}}class J0 extends jd{constructor(e,r={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const r=this.options.ns.indexOf(e);r>-1&&this.options.ns.splice(r,1)}getResource(e,r,n,s={}){var c,d;const i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,a=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;e.indexOf(".")>-1?o=e.split("."):(o=[e,r],n&&(Array.isArray(n)?o.push(...n):be(n)&&i?o.push(...n.split(i)):o.push(n)));const l=Uc(this.data,o);return!l&&!r&&!n&&e.indexOf(".")>-1&&(e=o[0],r=o[1],n=o.slice(2).join(".")),l||!a||!be(n)?l:rp((d=(c=this.data)==null?void 0:c[e])==null?void 0:d[r],n,i)}addResource(e,r,n,s,i={silent:!1}){const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let o=[e,r];n&&(o=o.concat(a?n.split(a):n)),e.indexOf(".")>-1&&(o=e.split("."),s=r,r=o[1]),this.addNamespaces(r),G0(this.data,o,s),i.silent||this.emit("added",e,r,n,s)}addResources(e,r,n,s={silent:!1}){for(const i in n)(be(n[i])||Array.isArray(n[i]))&&this.addResource(e,r,i,n[i],{silent:!0});s.silent||this.emit("added",e,r,n)}addResourceBundle(e,r,n,s,i,a={silent:!1,skipCopy:!1}){let o=[e,r];e.indexOf(".")>-1&&(o=e.split("."),s=n,n=r,r=o[1]),this.addNamespaces(r);let l=Uc(this.data,o)||{};a.skipCopy||(n=JSON.parse(JSON.stringify(n))),s?lb(l,n,i):l={...l,...n},G0(this.data,o,l),a.silent||this.emit("added",e,r,n)}removeResourceBundle(e,r){this.hasResourceBundle(e,r)&&delete this.data[e][r],this.removeNamespaces(r),this.emit("removed",e,r)}hasResourceBundle(e,r){return this.getResource(e,r)!==void 0}getResourceBundle(e,r){return r||(r=this.options.defaultNS),this.getResource(e,r)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const r=this.getDataByLanguage(e);return!!(r&&Object.keys(r)||[]).find(s=>r[s]&&Object.keys(r[s]).length>0)}toJSON(){return this.data}}var ub={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,r,n,s){return t.forEach(i=>{var a;e=((a=this.processors[i])==null?void 0:a.process(e,r,n,s))??e}),e}};const cb=Symbol("i18next/PATH_KEY");function BN(){const t=[],e=Object.create(null);let r;return e.get=(n,s)=>{var i;return(i=r==null?void 0:r.revoke)==null||i.call(r),s===cb?t:(t.push(s),r=Proxy.revocable(n,e),r.proxy)},Proxy.revocable(Object.create(null),e).proxy}function np(t,e){const{[cb]:r}=t(BN());return r.join((e==null?void 0:e.keySeparator)??".")}const Y0={},_f=t=>!be(t)&&typeof t!="boolean"&&typeof t!="number";class Bc extends jd{constructor(e,r={}){super(),TN(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=gn.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,r={interpolation:{}}){const n={...r};if(e==null)return!1;const s=this.resolve(e,n);if((s==null?void 0:s.res)===void 0)return!1;const i=_f(s.res);return!(n.returnObjects===!1&&i)}extractFromKey(e,r){let n=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const s=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let i=r.ns||this.options.defaultNS||[];const a=n&&e.indexOf(n)>-1,o=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!UN(e,n,s);if(a&&!o){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:be(i)?[i]:i};const c=e.split(n);(n!==s||n===s&&this.options.ns.indexOf(c[0])>-1)&&(i=c.shift()),e=c.join(s)}return{key:e,namespaces:be(i)?[i]:i}}translate(e,r,n){let s=typeof r=="object"?{...r}:r;if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof s=="object"&&(s={...s}),s||(s={}),e==null)return"";typeof e=="function"&&(e=np(e,{...this.options,...s})),Array.isArray(e)||(e=[String(e)]);const i=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:o,namespaces:l}=this.extractFromKey(e[e.length-1],s),c=l[l.length-1];let d=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;d===void 0&&(d=":");const f=s.lng||this.language,h=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((f==null?void 0:f.toLowerCase())==="cimode")return h?i?{res:`${c}${d}${o}`,usedKey:o,exactUsedKey:o,usedLng:f,usedNS:c,usedParams:this.getUsedParamsDetails(s)}:`${c}${d}${o}`:i?{res:o,usedKey:o,exactUsedKey:o,usedLng:f,usedNS:c,usedParams:this.getUsedParamsDetails(s)}:o;const p=this.resolve(e,s);let m=p==null?void 0:p.res;const y=(p==null?void 0:p.usedKey)||o,w=(p==null?void 0:p.exactUsedKey)||o,v=["[object Number]","[object Function]","[object RegExp]"],g=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,x=!this.i18nFormat||this.i18nFormat.handleAsObject,k=s.count!==void 0&&!be(s.count),E=Bc.hasDefaultValue(s),b=k?this.pluralResolver.getSuffix(f,s.count,s):"",A=s.ordinal&&k?this.pluralResolver.getSuffix(f,s.count,{ordinal:!1}):"",P=k&&!s.ordinal&&s.count===0,L=P&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${b}`]||s[`defaultValue${A}`]||s.defaultValue;let F=m;x&&!m&&E&&(F=L);const K=_f(F),D=Object.prototype.toString.apply(F);if(x&&F&&K&&v.indexOf(D)<0&&!(be(g)&&Array.isArray(F))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const $=this.options.returnedObjectHandler?this.options.returnedObjectHandler(y,F,{...s,ns:l}):`key '${o} (${this.language})' returned an object instead of string.`;return i?(p.res=$,p.usedParams=this.getUsedParamsDetails(s),p):$}if(a){const $=Array.isArray(F),I=$?[]:{},se=$?w:y;for(const we in F)if(Object.prototype.hasOwnProperty.call(F,we)){const ue=`${se}${a}${we}`;E&&!m?I[we]=this.translate(ue,{...s,defaultValue:_f(L)?L[we]:void 0,joinArrays:!1,ns:l}):I[we]=this.translate(ue,{...s,joinArrays:!1,ns:l}),I[we]===ue&&(I[we]=F[we])}m=I}}else if(x&&be(g)&&Array.isArray(m))m=m.join(g),m&&(m=this.extendTranslation(m,e,s,n));else{let $=!1,I=!1;!this.isValidLookup(m)&&E&&($=!0,m=L),this.isValidLookup(m)||(I=!0,m=o);const we=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&I?void 0:m,ue=E&&L!==m&&this.options.updateMissing;if(I||$||ue){if(this.logger.log(ue?"updateKey":"missingKey",f,c,o,ue?L:m),a){const de=this.resolve(o,{...s,keySeparator:!1});de&&de.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let B=[];const X=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&X&&X[0])for(let de=0;de<X.length;de++)B.push(X[de]);else this.options.saveMissingTo==="all"?B=this.languageUtils.toResolveHierarchy(s.lng||this.language):B.push(s.lng||this.language);const ae=(de,Se,W)=>{var it;const $e=E&&W!==m?W:we;this.options.missingKeyHandler?this.options.missingKeyHandler(de,c,Se,$e,ue,s):(it=this.backendConnector)!=null&&it.saveMissing&&this.backendConnector.saveMissing(de,c,Se,$e,ue,s),this.emit("missingKey",de,c,Se,m)};this.options.saveMissing&&(this.options.saveMissingPlurals&&k?B.forEach(de=>{const Se=this.pluralResolver.getSuffixes(de,s);P&&s[`defaultValue${this.options.pluralSeparator}zero`]&&Se.indexOf(`${this.options.pluralSeparator}zero`)<0&&Se.push(`${this.options.pluralSeparator}zero`),Se.forEach(W=>{ae([de],o+W,s[`defaultValue${W}`]||L)})}):ae(B,o,L))}m=this.extendTranslation(m,e,s,p,n),I&&m===o&&this.options.appendNamespaceToMissingKey&&(m=`${c}${d}${o}`),(I||$)&&this.options.parseMissingKeyHandler&&(m=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}${d}${o}`:o,$?m:void 0,s))}return i?(p.res=m,p.usedParams=this.getUsedParamsDetails(s),p):m}extendTranslation(e,r,n,s,i){var l,c;if((l=this.i18nFormat)!=null&&l.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const d=be(e)&&(((c=n==null?void 0:n.interpolation)==null?void 0:c.skipOnVariables)!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let f;if(d){const p=e.match(this.interpolator.nestingRegexp);f=p&&p.length}let h=n.replace&&!be(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),e=this.interpolator.interpolate(e,h,n.lng||this.language||s.usedLng,n),d){const p=e.match(this.interpolator.nestingRegexp),m=p&&p.length;f<m&&(n.nest=!1)}!n.lng&&s&&s.res&&(n.lng=this.language||s.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,(...p)=>(i==null?void 0:i[0])===p[0]&&!n.context?(this.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${r[0]}`),null):this.translate(...p,r),n)),n.interpolation&&this.interpolator.reset()}const a=n.postProcess||this.options.postProcess,o=be(a)?[a]:a;return e!=null&&(o!=null&&o.length)&&n.applyPostProcessor!==!1&&(e=ub.handle(o,e,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e,r={}){let n,s,i,a,o;return be(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(n))return;const c=this.extractFromKey(l,r),d=c.key;s=d;let f=c.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const h=r.count!==void 0&&!be(r.count),p=h&&!r.ordinal&&r.count===0,m=r.context!==void 0&&(be(r.context)||typeof r.context=="number")&&r.context!=="",y=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);f.forEach(w=>{var v,g;this.isValidLookup(n)||(o=w,!Y0[`${y[0]}-${w}`]&&((v=this.utils)!=null&&v.hasLoadedNamespace)&&!((g=this.utils)!=null&&g.hasLoadedNamespace(o))&&(Y0[`${y[0]}-${w}`]=!0,this.logger.warn(`key "${s}" for languages "${y.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),y.forEach(x=>{var b;if(this.isValidLookup(n))return;a=x;const k=[d];if((b=this.i18nFormat)!=null&&b.addLookupKeys)this.i18nFormat.addLookupKeys(k,d,x,w,r);else{let A;h&&(A=this.pluralResolver.getSuffix(x,r.count,r));const P=`${this.options.pluralSeparator}zero`,L=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(r.ordinal&&A.indexOf(L)===0&&k.push(d+A.replace(L,this.options.pluralSeparator)),k.push(d+A),p&&k.push(d+P)),m){const F=`${d}${this.options.contextSeparator||"_"}${r.context}`;k.push(F),h&&(r.ordinal&&A.indexOf(L)===0&&k.push(F+A.replace(L,this.options.pluralSeparator)),k.push(F+A),p&&k.push(F+P))}}let E;for(;E=k.pop();)this.isValidLookup(n)||(i=E,n=this.getResource(x,w,E,r))}))})}),{res:n,usedKey:s,exactUsedKey:i,usedLng:a,usedNS:o}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,r,n,s={}){var i;return(i=this.i18nFormat)!=null&&i.getResource?this.i18nFormat.getResource(e,r,n,s):this.resourceStore.getResource(e,r,n,s)}getUsedParamsDetails(e={}){const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!be(e.replace);let s=n?e.replace:e;if(n&&typeof e.count<"u"&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!n){s={...s};for(const i of r)delete s[i]}return s}static hasDefaultValue(e){const r="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&r===n.substring(0,r.length)&&e[n]!==void 0)return!0;return!1}}class X0{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=gn.create("languageUtils")}getScriptPartFromCode(e){if(e=kl(e),!e||e.indexOf("-")<0)return null;const r=e.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(e){if(e=kl(e),!e||e.indexOf("-")<0)return e;const r=e.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(e){if(be(e)&&e.indexOf("-")>-1){let r;try{r=Intl.getCanonicalLocales(e)[0]}catch{}return r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let r;return e.forEach(n=>{if(r)return;const s=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(s))&&(r=s)}),!r&&this.options.supportedLngs&&e.forEach(n=>{if(r)return;const s=this.getScriptPartFromCode(n);if(this.isSupportedCode(s))return r=s;const i=this.getLanguagePartFromCode(n);if(this.isSupportedCode(i))return r=i;r=this.options.supportedLngs.find(a=>{if(a===i)return a;if(!(a.indexOf("-")<0&&i.indexOf("-")<0)&&(a.indexOf("-")>0&&i.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===i||a.indexOf(i)===0&&i.length>1))return a})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(e,r){if(!e)return[];if(typeof e=="function"&&(e=e(r)),be(e)&&(e=[e]),Array.isArray(e))return e;if(!r)return e.default||[];let n=e[r];return n||(n=e[this.getScriptPartFromCode(r)]),n||(n=e[this.formatLanguageCode(r)]),n||(n=e[this.getLanguagePartFromCode(r)]),n||(n=e.default),n||[]}toResolveHierarchy(e,r){const n=this.getFallbackCodes((r===!1?[]:r)||this.options.fallbackLng||[],e),s=[],i=a=>{a&&(this.isSupportedCode(a)?s.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return be(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(e))):be(e)&&i(this.formatLanguageCode(e)),n.forEach(a=>{s.indexOf(a)<0&&i(this.formatLanguageCode(a))}),s}}const ey={zero:0,one:1,two:2,few:3,many:4,other:5},ty={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class VN{constructor(e,r={}){this.languageUtils=e,this.options=r,this.logger=gn.create("pluralResolver"),this.pluralRulesCache={}}clearCache(){this.pluralRulesCache={}}getRule(e,r={}){const n=kl(e==="dev"?"en":e),s=r.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:n,type:s});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let a;try{a=new Intl.PluralRules(n,{type:s})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),ty;if(!e.match(/-|_/))return ty;const l=this.languageUtils.getLanguagePartFromCode(e);a=this.getRule(l,r)}return this.pluralRulesCache[i]=a,a}needsPlural(e,r={}){let n=this.getRule(e,r);return n||(n=this.getRule("dev",r)),(n==null?void 0:n.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,r,n={}){return this.getSuffixes(e,n).map(s=>`${r}${s}`)}getSuffixes(e,r={}){let n=this.getRule(e,r);return n||(n=this.getRule("dev",r)),n?n.resolvedOptions().pluralCategories.sort((s,i)=>ey[s]-ey[i]).map(s=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s}`):[]}getSuffix(e,r,n={}){const s=this.getRule(e,n);return s?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s.select(r)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",r,n))}}const ry=(t,e,r,n=".",s=!0)=>{let i=LN(t,e,r);return!i&&s&&be(r)&&(i=rp(t,r,n),i===void 0&&(i=rp(e,r,n))),i},kf=t=>t.replace(/\$/g,"$$$$");class ny{constructor(e={}){var r;this.logger=gn.create("interpolator"),this.options=e,this.format=((r=e==null?void 0:e.interpolation)==null?void 0:r.format)||(n=>n),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:r,escapeValue:n,useRawValueToEscape:s,prefix:i,prefixEscaped:a,suffix:o,suffixEscaped:l,formatSeparator:c,unescapeSuffix:d,unescapePrefix:f,nestingPrefix:h,nestingPrefixEscaped:p,nestingSuffix:m,nestingSuffixEscaped:y,nestingOptionsSeparator:w,maxReplaces:v,alwaysFormat:g}=e.interpolation;this.escape=r!==void 0?r:IN,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=i?Ui(i):a||"{{",this.suffix=o?Ui(o):l||"}}",this.formatSeparator=c||",",this.unescapePrefix=d?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=h?Ui(h):p||Ui("$t("),this.nestingSuffix=m?Ui(m):y||Ui(")"),this.nestingOptionsSeparator=w||",",this.maxReplaces=v||1e3,this.alwaysFormat=g!==void 0?g:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(r,n)=>(r==null?void 0:r.source)===n?(r.lastIndex=0,r):new RegExp(n,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,r,n,s){var p;let i,a,o;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=m=>{if(m.indexOf(this.formatSeparator)<0){const g=ry(r,l,m,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(g,void 0,n,{...s,...r,interpolationkey:m}):g}const y=m.split(this.formatSeparator),w=y.shift().trim(),v=y.join(this.formatSeparator).trim();return this.format(ry(r,l,w,this.options.keySeparator,this.options.ignoreJSONStructure),v,n,{...s,...r,interpolationkey:w})};this.resetRegExp();const d=(s==null?void 0:s.missingInterpolationHandler)||this.options.missingInterpolationHandler,f=((p=s==null?void 0:s.interpolation)==null?void 0:p.skipOnVariables)!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:m=>kf(m)},{regex:this.regexp,safeValue:m=>this.escapeValue?kf(this.escape(m)):kf(m)}].forEach(m=>{for(o=0;i=m.regex.exec(e);){const y=i[1].trim();if(a=c(y),a===void 0)if(typeof d=="function"){const v=d(e,i,s);a=be(v)?v:""}else if(s&&Object.prototype.hasOwnProperty.call(s,y))a="";else if(f){a=i[0];continue}else this.logger.warn(`missed to pass in variable ${y} for interpolating ${e}`),a="";else!be(a)&&!this.useRawValueToEscape&&(a=K0(a));const w=m.safeValue(a);if(e=e.replace(i[0],w),f?(m.regex.lastIndex+=a.length,m.regex.lastIndex-=i[0].length):m.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),e}nest(e,r,n={}){let s,i,a;const o=(l,c)=>{const d=this.nestingOptionsSeparator;if(l.indexOf(d)<0)return l;const f=l.split(new RegExp(`${d}[ ]*{`));let h=`{${f[1]}`;l=f[0],h=this.interpolate(h,a);const p=h.match(/'/g),m=h.match(/"/g);(((p==null?void 0:p.length)??0)%2===0&&!m||m.length%2!==0)&&(h=h.replace(/'/g,'"'));try{a=JSON.parse(h),c&&(a={...c,...a})}catch(y){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,y),`${l}${d}${h}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,l};for(;s=this.nestingRegexp.exec(e);){let l=[];a={...n},a=a.replace&&!be(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;const c=/{.*}/.test(s[1])?s[1].lastIndexOf("}")+1:s[1].indexOf(this.formatSeparator);if(c!==-1&&(l=s[1].slice(c).split(this.formatSeparator).map(d=>d.trim()).filter(Boolean),s[1]=s[1].slice(0,c)),i=r(o.call(this,s[1].trim(),a),a),i&&s[0]===e&&!be(i))return i;be(i)||(i=K0(i)),i||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${e}`),i=""),l.length&&(i=l.reduce((d,f)=>this.format(d,f,n.lng,{...n,interpolationkey:s[1].trim()}),i.trim())),e=e.replace(s[0],i),this.regexp.lastIndex=0}return e}}const HN=t=>{let e=t.toLowerCase().trim();const r={};if(t.indexOf("(")>-1){const n=t.split("(");e=n[0].toLowerCase().trim();const s=n[1].substring(0,n[1].length-1);e==="currency"&&s.indexOf(":")<0?r.currency||(r.currency=s.trim()):e==="relativetime"&&s.indexOf(":")<0?r.range||(r.range=s.trim()):s.split(";").forEach(a=>{if(a){const[o,...l]=a.split(":"),c=l.join(":").trim().replace(/^'+|'+$/g,""),d=o.trim();r[d]||(r[d]=c),c==="false"&&(r[d]=!1),c==="true"&&(r[d]=!0),isNaN(c)||(r[d]=parseInt(c,10))}})}return{formatName:e,formatOptions:r}},sy=t=>{const e={};return(r,n,s)=>{let i=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(i={...i,[s.interpolationkey]:void 0});const a=n+JSON.stringify(i);let o=e[a];return o||(o=t(kl(n),s),e[a]=o),o(r)}},qN=t=>(e,r,n)=>t(kl(r),n)(e);class WN{constructor(e={}){this.logger=gn.create("formatter"),this.options=e,this.init(e)}init(e,r={interpolation:{}}){this.formatSeparator=r.interpolation.formatSeparator||",";const n=r.cacheInBuiltFormats?sy:qN;this.formats={number:n((s,i)=>{const a=new Intl.NumberFormat(s,{...i});return o=>a.format(o)}),currency:n((s,i)=>{const a=new Intl.NumberFormat(s,{...i,style:"currency"});return o=>a.format(o)}),datetime:n((s,i)=>{const a=new Intl.DateTimeFormat(s,{...i});return o=>a.format(o)}),relativetime:n((s,i)=>{const a=new Intl.RelativeTimeFormat(s,{...i});return o=>a.format(o,i.range||"day")}),list:n((s,i)=>{const a=new Intl.ListFormat(s,{...i});return o=>a.format(o)})}}add(e,r){this.formats[e.toLowerCase().trim()]=r}addCached(e,r){this.formats[e.toLowerCase().trim()]=sy(r)}format(e,r,n,s={}){const i=r.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(o=>o.indexOf(")")>-1)){const o=i.findIndex(l=>l.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,o)].join(this.formatSeparator)}return i.reduce((o,l)=>{var f;const{formatName:c,formatOptions:d}=HN(l);if(this.formats[c]){let h=o;try{const p=((f=s==null?void 0:s.formatParams)==null?void 0:f[s.interpolationkey])||{},m=p.locale||p.lng||s.locale||s.lng||n;h=this.formats[c](o,m,{...d,...s,...p})}catch(p){this.logger.warn(p)}return h}else this.logger.warn(`there was no format function for ${c}`);return o},e)}}const KN=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class QN extends jd{constructor(e,r,n,s={}){var i,a;super(),this.backend=e,this.store=r,this.services=n,this.languageUtils=n.languageUtils,this.options=s,this.logger=gn.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],(a=(i=this.backend)==null?void 0:i.init)==null||a.call(i,n,s.backend,s)}queueLoad(e,r,n,s){const i={},a={},o={},l={};return e.forEach(c=>{let d=!0;r.forEach(f=>{const h=`${c}|${f}`;!n.reload&&this.store.hasResourceBundle(c,f)?this.state[h]=2:this.state[h]<0||(this.state[h]===1?a[h]===void 0&&(a[h]=!0):(this.state[h]=1,d=!1,a[h]===void 0&&(a[h]=!0),i[h]===void 0&&(i[h]=!0),l[f]===void 0&&(l[f]=!0)))}),d||(o[c]=!0)}),(Object.keys(i).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(i),pending:Object.keys(a),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(l)}}loaded(e,r,n){const s=e.split("|"),i=s[0],a=s[1];r&&this.emit("failedLoading",i,a,r),!r&&n&&this.store.addResourceBundle(i,a,n,void 0,void 0,{skipCopy:!0}),this.state[e]=r?-1:2,r&&n&&(this.state[e]=0);const o={};this.queue.forEach(l=>{AN(l.loaded,[i],a),KN(l,e),r&&l.errors.push(r),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(c=>{o[c]||(o[c]={});const d=l.loaded[c];d.length&&d.forEach(f=>{o[c][f]===void 0&&(o[c][f]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(l=>!l.done)}read(e,r,n,s=0,i=this.retryTimeout,a){if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:r,fcName:n,tried:s,wait:i,callback:a});return}this.readingCalls++;const o=(c,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(c&&d&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,e,r,n,s+1,i*2,a)},i);return}a(c,d)},l=this.backend[n].bind(this.backend);if(l.length===2){try{const c=l(e,r);c&&typeof c.then=="function"?c.then(d=>o(null,d)).catch(o):o(null,c)}catch(c){o(c)}return}return l(e,r,o)}prepareLoading(e,r,n={},s){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();be(e)&&(e=this.languageUtils.toResolveHierarchy(e)),be(r)&&(r=[r]);const i=this.queueLoad(e,r,n,s);if(!i.toLoad.length)return i.pending.length||s(),null;i.toLoad.forEach(a=>{this.loadOne(a)})}load(e,r,n){this.prepareLoading(e,r,{},n)}reload(e,r,n){this.prepareLoading(e,r,{reload:!0},n)}loadOne(e,r=""){const n=e.split("|"),s=n[0],i=n[1];this.read(s,i,"read",void 0,void 0,(a,o)=>{a&&this.logger.warn(`${r}loading namespace ${i} for language ${s} failed`,a),!a&&o&&this.logger.log(`${r}loaded namespace ${i} for language ${s}`,o),this.loaded(e,a,o)})}saveMissing(e,r,n,s,i,a={},o=()=>{}){var l,c,d,f,h;if((c=(l=this.services)==null?void 0:l.utils)!=null&&c.hasLoadedNamespace&&!((f=(d=this.services)==null?void 0:d.utils)!=null&&f.hasLoadedNamespace(r))){this.logger.warn(`did not save key "${n}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if((h=this.backend)!=null&&h.create){const p={...a,isUpdate:i},m=this.backend.create.bind(this.backend);if(m.length<6)try{let y;m.length===5?y=m(e,r,n,s,p):y=m(e,r,n,s),y&&typeof y.then=="function"?y.then(w=>o(null,w)).catch(o):o(null,y)}catch(y){o(y)}else m(e,r,n,s,o,p)}!e||!e[0]||this.store.addResource(e[0],r,n,s)}}}const Sf=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),be(t[1])&&(e.defaultValue=t[1]),be(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const r=t[3]||t[2];Object.keys(r).forEach(n=>{e[n]=r[n]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),iy=t=>{var e,r;return be(t.ns)&&(t.ns=[t.ns]),be(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),be(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),((r=(e=t.supportedLngs)==null?void 0:e.indexOf)==null?void 0:r.call(e,"cimode"))<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t},Mu=()=>{},ZN=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(r=>{typeof t[r]=="function"&&(t[r]=t[r].bind(t))})};class Go extends jd{constructor(e={},r){if(super(),this.options=iy(e),this.services={},this.logger=gn,this.modules={external:[]},ZN(this),r&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,r),this;setTimeout(()=>{this.init(e,r)},0)}}init(e={},r){this.isInitializing=!0,typeof e=="function"&&(r=e,e={}),e.defaultNS==null&&e.ns&&(be(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const n=Sf();this.options={...n,...this.options,...iy(e)},this.options.interpolation={...n.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=n.overloadTranslationOptionHandler);const s=c=>c?typeof c=="function"?new c:c:null;if(!this.options.isClone){this.modules.logger?gn.init(s(this.modules.logger),this.options):gn.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:c=WN;const d=new X0(this.options);this.store=new J0(this.options.resources,this.options);const f=this.services;f.logger=gn,f.resourceStore=this.store,f.languageUtils=d,f.pluralResolver=new VN(d,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),c&&(!this.options.interpolation.format||this.options.interpolation.format===n.interpolation.format)&&(f.formatter=s(c),f.formatter.init&&f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new ny(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new QN(s(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",(p,...m)=>{this.emit(p,...m)}),this.modules.languageDetector&&(f.languageDetector=s(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=s(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new Bc(this.services,this.options),this.translator.on("*",(p,...m)=>{this.emit(p,...m)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,r||(r=Mu),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=(...d)=>this.store[c](...d)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=(...d)=>(this.store[c](...d),this)});const o=bo(),l=()=>{const c=(d,f)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),o.resolve(f),r(d,f)};if(this.languages&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)};return this.options.resources||!this.options.initAsync?l():setTimeout(l,0),o}loadResources(e,r=Mu){var i,a;let n=r;const s=be(e)?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if((s==null?void 0:s.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const o=[],l=c=>{if(!c||c==="cimode")return;this.services.languageUtils.toResolveHierarchy(c).forEach(f=>{f!=="cimode"&&o.indexOf(f)<0&&o.push(f)})};s?l(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>l(d)),(a=(i=this.options.preload)==null?void 0:i.forEach)==null||a.call(i,c=>l(c)),this.services.backendConnector.load(o,this.options.ns,c=>{!c&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(c)})}else n(null)}reloadResources(e,r,n){const s=bo();return typeof e=="function"&&(n=e,e=void 0),typeof r=="function"&&(n=r,r=void 0),e||(e=this.languages),r||(r=this.options.ns),n||(n=Mu),this.services.backendConnector.reload(e,r,i=>{s.resolve(),n(i)}),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&ub.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let r=0;r<this.languages.length;r++){const n=this.languages[r];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,r){this.isLanguageChangingTo=e;const n=bo();this.emit("languageChanging",e);const s=o=>{this.language=o,this.languages=this.services.languageUtils.toResolveHierarchy(o),this.resolvedLanguage=void 0,this.setResolvedLanguage(o)},i=(o,l)=>{l?this.isLanguageChangingTo===e&&(s(l),this.translator.changeLanguage(l),this.isLanguageChangingTo=void 0,this.emit("languageChanged",l),this.logger.log("languageChanged",l)):this.isLanguageChangingTo=void 0,n.resolve((...c)=>this.t(...c)),r&&r(o,(...c)=>this.t(...c))},a=o=>{var d,f;!e&&!o&&this.services.languageDetector&&(o=[]);const l=be(o)?o:o&&o[0],c=this.store.hasLanguageSomeTranslations(l)?l:this.services.languageUtils.getBestMatchFromCodes(be(o)?[o]:o);c&&(this.language||s(c),this.translator.language||this.translator.changeLanguage(c),(f=(d=this.services.languageDetector)==null?void 0:d.cacheUserLanguage)==null||f.call(d,c)),this.loadResources(c,h=>{i(h,c)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),n}getFixedT(e,r,n){const s=(i,a,...o)=>{let l;typeof a!="object"?l=this.options.overloadTranslationOptionHandler([i,a].concat(o)):l={...a},l.lng=l.lng||s.lng,l.lngs=l.lngs||s.lngs,l.ns=l.ns||s.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||n||s.keyPrefix);const c=this.options.keySeparator||".";let d;return l.keyPrefix&&Array.isArray(i)?d=i.map(f=>(typeof f=="function"&&(f=np(f,{...this.options,...a})),`${l.keyPrefix}${c}${f}`)):(typeof i=="function"&&(i=np(i,{...this.options,...a})),d=l.keyPrefix?`${l.keyPrefix}${c}${i}`:i),this.t(d,l)};return be(e)?s.lng=e:s.lngs=e,s.ns=r,s.keyPrefix=n,s}t(...e){var r;return(r=this.translator)==null?void 0:r.translate(...e)}exists(...e){var r;return(r=this.translator)==null?void 0:r.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,r={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=r.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const a=(o,l)=>{const c=this.services.backendConnector.state[`${o}|${l}`];return c===-1||c===0||c===2};if(r.precheck){const o=r.precheck(this,a);if(o!==void 0)return o}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(n,e)&&(!s||a(i,e)))}loadNamespaces(e,r){const n=bo();return this.options.ns?(be(e)&&(e=[e]),e.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{n.resolve(),r&&r(s)}),n):(r&&r(),Promise.resolve())}loadLanguages(e,r){const n=bo();be(e)&&(e=[e]);const s=this.options.preload||[],i=e.filter(a=>s.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return i.length?(this.options.preload=s.concat(i),this.loadResources(a=>{n.resolve(),r&&r(a)}),n):(r&&r(),Promise.resolve())}dir(e){var s,i;if(e||(e=this.resolvedLanguage||(((s=this.languages)==null?void 0:s.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const a=new Intl.Locale(e);if(a&&a.getTextInfo){const o=a.getTextInfo();if(o&&o.direction)return o.direction}}catch{}const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=((i=this.services)==null?void 0:i.languageUtils)||new X0(Sf());return e.toLowerCase().indexOf("-latn")>1?"ltr":r.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},r){const n=new Go(e,r);return n.createInstance=Go.createInstance,n}cloneInstance(e={},r=Mu){const n=e.forkResourceStore;n&&delete e.forkResourceStore;const s={...this.options,...e,isClone:!0},i=new Go(s);if((e.debug!==void 0||e.prefix!==void 0)&&(i.logger=i.logger.clone(e)),["store","services","language"].forEach(o=>{i[o]=this[o]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},n){const o=Object.keys(this.store.data).reduce((l,c)=>(l[c]={...this.store.data[c]},l[c]=Object.keys(l[c]).reduce((d,f)=>(d[f]={...l[c][f]},d),l[c]),l),{});i.store=new J0(o,s),i.services.resourceStore=i.store}if(e.interpolation){const l={...Sf().interpolation,...this.options.interpolation,...e.interpolation},c={...s,interpolation:l};i.services.interpolator=new ny(c)}return i.translator=new Bc(i.services,s),i.translator.on("*",(o,...l)=>{i.emit(o,...l)}),i.init(s,r),i.translator.options=s,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Wt=Go.createInstance();Wt.createInstance;Wt.dir;Wt.init;Wt.loadResources;Wt.reloadResources;Wt.use;Wt.changeLanguage;Wt.getFixedT;Wt.t;Wt.exists;Wt.setDefaultNamespace;Wt.hasLoadedNamespace;Wt.loadNamespaces;Wt.loadLanguages;const GN=(t,e,r,n)=>{var i,a,o,l;const s=[r,{code:e,...n||{}}];if((a=(i=t==null?void 0:t.services)==null?void 0:i.logger)!=null&&a.forward)return t.services.logger.forward(s,"warn","react-i18next::",!0);Si(s[0])&&(s[0]=`react-i18next:: ${s[0]}`),(l=(o=t==null?void 0:t.services)==null?void 0:o.logger)!=null&&l.warn?t.services.logger.warn(...s):console!=null&&console.warn&&console.warn(...s)},ay={},db=(t,e,r,n)=>{Si(r)&&ay[r]||(Si(r)&&(ay[r]=new Date),GN(t,e,r,n))},fb=(t,e)=>()=>{if(t.isInitialized)e();else{const r=()=>{setTimeout(()=>{t.off("initialized",r)},0),e()};t.on("initialized",r)}},sp=(t,e,r)=>{t.loadNamespaces(e,fb(t,r))},oy=(t,e,r,n)=>{if(Si(r)&&(r=[r]),t.options.preload&&t.options.preload.indexOf(e)>-1)return sp(t,r,n);r.forEach(s=>{t.options.ns.indexOf(s)<0&&t.options.ns.push(s)}),t.loadLanguages(e,fb(t,n))},JN=(t,e,r={})=>!e.languages||!e.languages.length?(db(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:r.lng,precheck:(n,s)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!s(n.isLanguageChangingTo,t))return!1}}),Si=t=>typeof t=="string",YN=t=>typeof t=="object"&&t!==null,XN=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,eE={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},tE=t=>eE[t],rE=t=>t.replace(XN,tE);let ip={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:rE,transDefaultProps:void 0};const nE=(t={})=>{ip={...ip,...t}},sE=()=>ip;let hb;const iE=t=>{hb=t},aE=()=>hb,oE={type:"3rdParty",init(t){nE(t.options.react),iE(t)}},lE=_.createContext();class uE{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var pb={exports:{}},mb={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $a=_;function cE(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var dE=typeof Object.is=="function"?Object.is:cE,fE=$a.useState,hE=$a.useEffect,pE=$a.useLayoutEffect,mE=$a.useDebugValue;function gE(t,e){var r=e(),n=fE({inst:{value:r,getSnapshot:e}}),s=n[0].inst,i=n[1];return pE(function(){s.value=r,s.getSnapshot=e,jf(s)&&i({inst:s})},[t,r,e]),hE(function(){return jf(s)&&i({inst:s}),t(function(){jf(s)&&i({inst:s})})},[t]),mE(r),r}function jf(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!dE(t,r)}catch{return!0}}function yE(t,e){return e()}var vE=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?yE:gE;mb.useSyncExternalStore=$a.useSyncExternalStore!==void 0?$a.useSyncExternalStore:vE;pb.exports=mb;var xE=pb.exports;const wE=(t,e)=>Si(e)?e:YN(e)&&Si(e.defaultValue)?e.defaultValue:Array.isArray(t)?t[t.length-1]:t,bE={t:wE,ready:!1},_E=()=>()=>{},jn=(t,e={})=>{var L,F,K;const{i18n:r}=e,{i18n:n,defaultNS:s}=_.useContext(lE)||{},i=r||n||aE();i&&!i.reportNamespaces&&(i.reportNamespaces=new uE),i||db(i,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const a=_.useMemo(()=>{var D;return{...sE(),...(D=i==null?void 0:i.options)==null?void 0:D.react,...e}},[i,e]),{useSuspense:o,keyPrefix:l}=a,c=s||((L=i==null?void 0:i.options)==null?void 0:L.defaultNS),d=Si(c)?[c]:c||["translation"],f=_.useMemo(()=>d,d);(K=(F=i==null?void 0:i.reportNamespaces)==null?void 0:F.addUsedNamespaces)==null||K.call(F,f);const h=_.useRef(0),p=_.useCallback(D=>{if(!i)return _E;const{bindI18n:$,bindI18nStore:I}=a,se=()=>{h.current+=1,D()};return $&&i.on($,se),I&&i.store.on(I,se),()=>{$&&$.split(" ").forEach(we=>i.off(we,se)),I&&I.split(" ").forEach(we=>i.store.off(we,se))}},[i,a]),m=_.useRef(),y=_.useCallback(()=>{if(!i)return bE;const D=!!(i.isInitialized||i.initializedStoreOnce)&&f.every(B=>JN(B,i,a)),$=e.lng||i.language,I=h.current,se=m.current;if(se&&se.ready===D&&se.lng===$&&se.keyPrefix===l&&se.revision===I)return se;const ue={t:i.getFixedT($,a.nsMode==="fallback"?f:f[0],l),ready:D,lng:$,keyPrefix:l,revision:I};return m.current=ue,ue},[i,f,l,a,e.lng]),[w,v]=_.useState(0),{t:g,ready:x}=xE.useSyncExternalStore(p,y,y);_.useEffect(()=>{if(i&&!x&&!o){const D=()=>v($=>$+1);e.lng?oy(i,e.lng,f,D):sp(i,f,D)}},[i,e.lng,f,x,o,w]);const k=i||{},E=_.useRef(null),b=_.useRef(),A=D=>{const $=Object.getOwnPropertyDescriptors(D);$.__original&&delete $.__original;const I=Object.create(Object.getPrototypeOf(D),$);if(!Object.prototype.hasOwnProperty.call(I,"__original"))try{Object.defineProperty(I,"__original",{value:D,writable:!1,enumerable:!1,configurable:!1})}catch{}return I},P=_.useMemo(()=>{const D=k,$=D==null?void 0:D.language;let I=D;D&&(E.current&&E.current.__original===D?b.current!==$?(I=A(D),E.current=I,b.current=$):I=E.current:(I=A(D),E.current=I,b.current=$));const se=[g,I,x];return se.t=g,se.i18n=I,se.ready=x,se},[g,k,x,k.resolvedLanguage,k.language,k.languages]);if(i&&o&&!x)throw new Promise(D=>{const $=()=>D();e.lng?oy(i,e.lng,f,$):sp(i,f,$)});return P},kE={translation:{app_name:"Kash-Flow",loading:"Loading...",save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",add:"Add",search:"Search",actions:"Actions",confirm:"Confirm",close:"Close",yes:"Yes",no:"No",nav:{products:"Products",sell:"Sell",reports:"Reports",analytics:"Analytics",billing:"Billing",profile:"Profile & Settings",sign_out:"Sign out",light_mode:"Light Mode",dark_mode:"Dark Mode"},profile:{title:"Profile & Settings",subtitle:"Manage your account and preferences",account_info:"Account Information",subscription:"Subscription",manage_plan:"Manage your plan and billing",security:"Security",security_desc:"Manage your password and security settings",preferences:"Preferences",danger_zone:"Danger Zone",danger_desc:"Irreversible and destructive actions"},auth:{sign_in:"Sign In",sign_up:"Create Account",sign_out:"Sign Out",email:"Email",password:"Password",confirm_password:"Confirm Password",store_name:"Store Name",forgot_password:"Forgot password?",no_account:"Don't have an account? Create one",have_account:"Already have an account? Sign in",welcome_back:"Welcome back! Sign in to continue",create_account:"Create your account to get started",check_email:"Check your email",email_sent:"We've sent a confirmation link to",reset_sent:"We've sent a password reset link to",click_to_activate:"Click the link in the email to activate your account.",click_to_reset:"Click the link in the email to reset your password.",back_to_signin:"Back to Sign In",send_reset_link:"Send Reset Link",update_password:"Update Password",new_password:"New Password",confirm_new_password:"Confirm New Password",session_trouble:"Having trouble? Clear session and try again",powered_by:"Powered by FastAPI + React + Supabase"},products:{title:"Products",add_product:"Add Product",edit_product:"Edit Product",product_name:"Product Name",product_code:"Product Code",price:"Price",quantity:"Quantity",cost_price:"Cost Price",no_products:"No products found",delete_confirm:"Are you sure you want to delete this product?",search_placeholder:"Search products...",low_stock:"Low Stock",out_of_stock:"Out of Stock",in_stock:"In Stock"},sell:{title:"Sell",select_product:"Select Product",quantity:"Quantity",total:"Total",complete_sale:"Complete Sale",sale_success:"Sale completed successfully!",insufficient_stock:"Insufficient stock",recent_sales:"Recent Sales"},reports:{title:"Reports",daily_report:"Daily Report",select_date:"Select Date",total_sales:"Total Sales",total_revenue:"Total Revenue",total_profit:"Total Profit",transactions:"Transactions",no_transactions:"No transactions for this date",export_csv:"Export CSV"},analytics:{title:"Analytics",period:"Period",days:"days",revenue:"Revenue",profit:"Profit",sales_count:"Sales Count",avg_transaction:"Avg Transaction",profit_margin:"Profit Margin",best_day:"Best Day",worst_day:"Worst Day",top_products:"Top Products",sales_trends:"Sales Trends",hourly_breakdown:"Hourly Breakdown"},billing:{title:"Choose Your Plan",subtitle:"Start with a 7-day free trial. No credit card required to start.",current_plan:"Current Plan",trial_days_left:"Trial: {{days}} days left",active:"Active",payment_failed:"Payment Failed",canceled:"Canceled",no_active_plan:"No Active Plan",manage_subscription:"Manage Subscription",start_trial:"Start Free Trial",switch_plan:"Switch Plan",current:"Current",most_popular:"Most Popular",whats_included:"What's included:",contact_sales:"Need a custom plan for your enterprise?",contact_team:"Contact our sales team",next_billing:"Next billing date",trial_ends:"Trial ends",pro:{name:"Pro",price:"R250",period:"/month",description:"For growing businesses",features:["Unlimited products","Up to 3 users","Advanced analytics","Low stock alerts","CSV export","Priority support"]},business:{name:"Business",price:"R350",period:"/month",description:"For larger operations",features:["Everything in Pro","Unlimited users","Role-based access","Audit logs","API access","Dedicated support"]}},alerts:{low_stock_title:"Low Stock Alerts",threshold:"Threshold",items_below:"items below threshold"},errors:{generic:"Something went wrong",network:"Network error. Please try again.",unauthorized:"Please sign in to continue",forbidden:"You do not have permission to do this",not_found:"Not found"},success:{saved:"Saved successfully",deleted:"Deleted successfully",updated:"Updated successfully"}}},SE={translation:{app_name:" POS",loading:" ...",save:"",cancel:"",delete:"",edit:"",add:"",search:"",actions:"",confirm:"",close:"",yes:"",no:"",nav:{products:"",sell:"",reports:"",analytics:"",billing:"",profile:"  ",sign_out:"",light_mode:" ",dark_mode:" "},profile:{title:"  ",subtitle:"   ",account_info:" ",subscription:"",manage_plan:"   ",security:"",security_desc:"     ",preferences:"",danger_zone:" ",danger_desc:"   "},auth:{sign_in:"",sign_up:"",sign_out:"",email:"",password:" ",confirm_password:"  ",store_name:" ",forgot_password:"  ?",no_account:" ?  ",have_account:" ? ",welcome_back:"  !  ",create_account:"  ",check_email:" ",email_sent:"   ",reset_sent:"      ",click_to_activate:"      ",click_to_reset:"        ",back_to_signin:"  ",send_reset_link:"   ",update_password:"  ",new_password:"  ",confirm_new_password:"   ",session_trouble:" ?      ",powered_by:" FastAPI + React + Supabase "},products:{title:"",add_product:" ",edit_product:" ",product_name:" ",product_code:" ",price:"",quantity:"",cost_price:" ",no_products:"  ",delete_confirm:"     ?",search_placeholder:" ...",low_stock:" ",out_of_stock:"",in_stock:" "},sell:{title:"",select_product:" ",quantity:"",total:"",complete_sale:" ",sale_success:"   !",insufficient_stock:"  ",recent_sales:"  "},reports:{title:"",daily_report:" ",select_date:" ",total_sales:" ",total_revenue:" ",total_profit:" ",transactions:"",no_transactions:"    ",export_csv:"CSV "},analytics:{title:"",period:"",days:"",revenue:"",profit:"",sales_count:" ",avg_transaction:" ",profit_margin:" ",best_day:" ",worst_day:" ",top_products:" ",sales_trends:" ",hourly_breakdown:" "},billing:{title:" ",subtitle:"7        ",current_plan:" ",trial_days_left:" {{days}}  ",active:"",payment_failed:" ",canceled:"",no_active_plan:"  ",manage_subscription:" ",start_trial:"  ",switch_plan:" ",current:"",most_popular:" ",whats_included:"",contact_sales:"   ?",contact_team:"  ",next_billing:"  ",trial_ends:" ",pro:{name:"",price:" 250",period:"/",description:" ",features:[" "," 3 "," ","  ","CSV   "," "]},business:{name:"",price:" 350",period:"/",description:" ",features:["   "," ","- ","  "," API "," "]}},alerts:{low_stock_title:"  ",threshold:"",items_below:"   "},errors:{generic:"  ",network:"     ",unauthorized:"  ",forbidden:"   ",not_found:""},success:{saved:"  ",deleted:"  ",updated:"  "}}},jE=()=>{if(typeof window<"u"){const t=localStorage.getItem("language");if(t)return t;const e=navigator.language||navigator.userLanguage;if(e!=null&&e.startsWith("am"))return"am"}return"en"};Wt.use(oE).init({resources:{en:kE,am:SE},lng:jE(),fallbackLng:"en",interpolation:{escapeValue:!1}});const NE=t=>{Wt.changeLanguage(t),typeof window<"u"&&localStorage.setItem("language",t)},EE="modulepreload",CE=function(t){return"/"+t},ly={},Ua=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(l=>{if(l=CE(l),l in ly)return;ly[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":EE,c||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),c)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return e().catch(i)})},PE=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ua(async()=>{const{default:n}=await Promise.resolve().then(()=>Xa);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class Rm extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class RE extends Rm{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class TE extends Rm{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class OE extends Rm{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ap;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(ap||(ap={}));var AE=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(f){a(f)}}function l(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):s(d.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};class LE{constructor(e,{headers:r={},customFetch:n,region:s=ap.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=PE(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return AE(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:a}=r;let o={},{region:l}=r;l||(l=this.region),l&&l!=="any"&&(o["x-region"]=l);let c;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",c=a):typeof a=="string"?(o["Content-Type"]="text/plain",c=a):typeof FormData<"u"&&a instanceof FormData?c=a:(o["Content-Type"]="application/json",c=JSON.stringify(a)));const d=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),s),body:c}).catch(m=>{throw new RE(m)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new TE(d);if(!d.ok)throw new OE(d);let h=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return h==="application/json"?p=yield d.json():h==="application/octet-stream"?p=yield d.blob():h==="text/event-stream"?p=d:h==="multipart/form-data"?p=yield d.formData():p=yield d.text(),{data:p,error:null}}catch(s){return{data:null,error:s}}})}}var Dr={},Tm={},Nd={},tu={},Ed={},Cd={},DE=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},za=DE();const IE=za.fetch,gb=za.fetch.bind(za),yb=za.Headers,ME=za.Request,FE=za.Response,Xa=Object.freeze(Object.defineProperty({__proto__:null,Headers:yb,Request:ME,Response:FE,default:gb,fetch:IE},Symbol.toStringTag,{value:"Module"})),$E=J_(Xa);var Om={};Object.defineProperty(Om,"__esModule",{value:!0});class UE extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}Om.default=UE;var vb=$r&&$r.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Cd,"__esModule",{value:!0});const zE=vb($E),BE=vb(Om);let VE=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=zE.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,o,l;let c=null,d=null,f=null,h=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const v=await i.text();v===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=v:d=JSON.parse(v))}const y=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),w=(o=i.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");y&&w&&w.length>1&&(f=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const y=await i.text();try{c=JSON.parse(y),Array.isArray(c)&&i.status===404&&(d=[],c=null,h=200,p="OK")}catch{i.status===404&&y===""?(h=204,p="No Content"):c={message:y}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,h=200,p="OK"),c&&this.shouldThrowOnError)throw new BE.default(c)}return{error:c,data:d,count:f,status:h,statusText:p}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,o,l;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}};Cd.default=VE;var HE=$r&&$r.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ed,"__esModule",{value:!0});const qE=HE(Cd);let WE=class extends qE.default{select(e){let r=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var o;const l=[e?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${c}"; options=${l};`,a==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Ed.default=WE;var KE=$r&&$r.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(tu,"__esModule",{value:!0});const QE=KE(Ed);let ZE=class extends QE.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${a}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};tu.default=ZE;var GE=$r&&$r.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Nd,"__esModule",{value:!0});const _o=GE(tu);let JE=class{constructor(e,{headers:r={},schema:n,fetch:s}){this.url=e,this.headers=r,this.schema=n,this.fetch=s}select(e,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new _o.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const a=e.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(a.length>0){const o=[...new Set(a)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new _o.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const a="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&o.push(this.headers.Prefer),s&&o.push(`count=${s}`),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const l=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new _o.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new _o.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new _o.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Nd.default=JE;var Pd={},Rd={};Object.defineProperty(Rd,"__esModule",{value:!0});Rd.version=void 0;Rd.version="0.0.0-automated";Object.defineProperty(Pd,"__esModule",{value:!0});Pd.DEFAULT_HEADERS=void 0;const YE=Rd;Pd.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${YE.version}`};var xb=$r&&$r.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Tm,"__esModule",{value:!0});const XE=xb(Nd),eC=xb(tu),tC=Pd;let rC=class wb{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},tC.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(e){const r=new URL(`${this.url}/${e}`);return new XE.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new wb(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){let a;const o=new URL(`${this.url}/rpc/${e}`);let l;n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{o.searchParams.append(d,f)})):(a="POST",l=r);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new eC.default({method:a,url:o,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Tm.default=rC;var ru=$r&&$r.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Dr,"__esModule",{value:!0});Dr.PostgrestBuilder=Dr.PostgrestTransformBuilder=Dr.PostgrestFilterBuilder=Dr.PostgrestQueryBuilder=Dr.PostgrestClient=void 0;const bb=ru(Tm);Dr.PostgrestClient=bb.default;const _b=ru(Nd);Dr.PostgrestQueryBuilder=_b.default;const kb=ru(tu);Dr.PostgrestFilterBuilder=kb.default;const Sb=ru(Ed);Dr.PostgrestTransformBuilder=Sb.default;const jb=ru(Cd);Dr.PostgrestBuilder=jb.default;var nC=Dr.default={PostgrestClient:bb.default,PostgrestQueryBuilder:_b.default,PostgrestFilterBuilder:kb.default,PostgrestTransformBuilder:Sb.default,PostgrestBuilder:jb.default};const{PostgrestClient:sC,PostgrestQueryBuilder:z4,PostgrestFilterBuilder:B4,PostgrestTransformBuilder:V4,PostgrestBuilder:H4}=nC,iC="2.10.2",aC={"X-Client-Info":`realtime-js/${iC}`},oC="1.0.0",Nb=1e4,lC=1e3;var ga;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(ga||(ga={}));var pr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(pr||(pr={}));var Qr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Qr||(Qr={}));var op;(function(t){t.websocket="websocket"})(op||(op={}));var Xs;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Xs||(Xs={}));class uC{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let a=this.HEADER_LENGTH+2;const o=n.decode(e.slice(a,a+s));a=a+s;const l=n.decode(e.slice(a,a+i));a=a+i;const c=JSON.parse(n.decode(e.slice(a,e.byteLength)));return{ref:null,topic:o,event:l,payload:c}}}class Eb{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var et;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(et||(et={}));const uy=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,a)=>(i[a]=cC(a,t,e,s),i),{})},cC=(t,e,r,n)=>{const s=e.find(o=>o.name===t),i=s==null?void 0:s.type,a=r[t];return i&&!n.includes(i)?Cb(i,a):lp(a)},Cb=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return pC(e,r)}switch(t){case et.bool:return dC(e);case et.float4:case et.float8:case et.int2:case et.int4:case et.int8:case et.numeric:case et.oid:return fC(e);case et.json:case et.jsonb:return hC(e);case et.timestamp:return mC(e);case et.abstime:case et.date:case et.daterange:case et.int4range:case et.int8range:case et.money:case et.reltime:case et.text:case et.time:case et.timestamptz:case et.timetz:case et.tsrange:case et.tstzrange:return lp(e);default:return lp(e)}},lp=t=>t,dC=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},fC=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},hC=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},pC=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const a=t.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>Cb(e,o))}return t},mC=t=>typeof t=="string"?t.replace(" ","T"):t,Pb=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Nf{constructor(e,r,n={},s=Nb){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var cy;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(cy||(cy={}));class Jo{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Jo.syncState(this.state,s,i,a),this.pendingDiffs.forEach(l=>{this.state=Jo.syncDiff(this.state,l,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Jo.syncDiff(this.state,s,i,a),o())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),a=this.transformState(r),o={},l={};return this.map(i,(c,d)=>{a[c]||(l[c]=d)}),this.map(a,(c,d)=>{const f=i[c];if(f){const h=d.map(w=>w.presence_ref),p=f.map(w=>w.presence_ref),m=d.filter(w=>p.indexOf(w.presence_ref)<0),y=f.filter(w=>h.indexOf(w.presence_ref)<0);m.length>0&&(o[c]=m),y.length>0&&(l[c]=y)}else o[c]=d}),this.syncDiff(i,{joins:o,leaves:l},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(o,l)=>{var c;const d=(c=e[o])!==null&&c!==void 0?c:[];if(e[o]=this.cloneDeep(l),d.length>0){const f=e[o].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);e[o].unshift(...h)}n(o,d,l)}),this.map(a,(o,l)=>{let c=e[o];if(!c)return;const d=l.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),e[o]=c,s(o,c,l),c.length===0&&delete e[o]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var dy;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(dy||(dy={}));var fy;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes"})(fy||(fy={}));var hy;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(hy||(hy={}));class Am{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=pr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Nf(this,Qr.join,this.params,this.timeout),this.rejoinTimer=new Eb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pr.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=pr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Qr.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Jo(this),this.broadcastEndpointURL=Pb(this.socket.endPoint)+"/api/broadcast"}subscribe(e,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:a,private:o}}=this.params;this._onError(d=>e&&e("CHANNEL_ERROR",d)),this._onClose(()=>e&&e("CLOSED"));const l={},c={broadcast:i,presence:a,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:o};this.socket.accessToken&&(l.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",({postgres_changes:d})=>{var f;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),d===void 0){e&&e("SUBSCRIBED");return}else{const h=this.bindings.postgres_changes,p=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,m=[];for(let y=0;y<p;y++){const w=h[y],{filter:{event:v,schema:g,table:x,filter:k}}=w,E=d&&d[y];if(E&&E.event===v&&E.schema===g&&E.table===x&&E.filter===k)m.push(Object.assign(Object.assign({},w),{id:E.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e("SUBSCRIBED");return}}).receive("error",d=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this._on(e,r,n)}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:a}=e,o={method:"POST",headers:{Authorization:this.socket.accessToken?`Bearer ${this.socket.accessToken}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a}]})};try{const l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=l.body)===null||s===void 0?void 0:s.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,l;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=pr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Qr.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new Nf(this,Qr.leave,{},e);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Nf(this,e,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const a=e.toLocaleLowerCase(),{close:o,error:l,leave:c,join:d}=Qr;if(n&&[o,l,c,d].indexOf(a)>=0&&n!==this._joinRef())return;let h=this._onMessage(a,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var m,y,w;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((w=(y=p.filter)===null||y===void 0?void 0:y.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===a}).map(p=>p.callback(h,n)):(i=this.bindings[a])===null||i===void 0||i.filter(p=>{var m,y,w,v,g,x;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in p){const k=p.id,E=(m=p.filter)===null||m===void 0?void 0:m.event;return k&&((y=r.ids)===null||y===void 0?void 0:y.includes(k))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const k=(g=(v=p==null?void 0:p.filter)===null||v===void 0?void 0:v.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return k==="*"||k===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===a}).map(p=>{if(typeof h=="object"&&"ids"in h){const m=h.data,{schema:y,table:w,commit_timestamp:v,type:g,errors:x}=m;h=Object.assign(Object.assign({},{schema:y,table:w,commit_timestamp:v,eventType:g,new:{},old:{},errors:x}),this._getPayloadRecords(m))}p.callback(h,n)})}_isClosed(){return this.state===pr.closed}_isJoined(){return this.state===pr.joined}_isJoining(){return this.state===pr.joining}_isLeaving(){return this.state===pr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Am.isEqual(s.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Qr.close,{},e)}_onError(e){this._on(Qr.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=uy(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=uy(e.columns,e.old_record)),r}}const gC=()=>{},yC=typeof WebSocket<"u";class vC{constructor(e,r){var n;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=aC,this.params={},this.timeout=Nb,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=gC,this.conn=null,this.sendBuffer=[],this.serializer=new uC,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>Ua(async()=>{const{default:l}=await Promise.resolve().then(()=>Xa);return{default:l}},void 0).then(({default:l})=>l(...o)):a=fetch,(...o)=>a(...o)},this.endPoint=`${e}/${op.websocket}`,this.httpEndpoint=Pb(e),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;s&&(this.accessToken=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,a)=>a(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Eb(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(yC){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new xC(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),Ua(async()=>{const{default:e}=await import("./browser-Cg25JL6L.js").then(r=>r.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ga.connecting:return Xs.Connecting;case ga.open:return Xs.Open;case ga.closing:return Xs.Closing;default:return Xs.Closed}}isConnected(){return this.connectionState()===Xs.Open}channel(e,r={config:{}}){const n=new Am(`realtime:${e}`,r,this);return this.channels.push(n),n}push(e){const{topic:r,event:n,payload:s,ref:i}=e,a=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}setAuth(e){this.accessToken=e,this.channels.forEach(r=>{e&&r.updateJoinPayload({access_token:e}),r.joinedOnce&&r._isJoined()&&r._push(Qr.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:oC}))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:s,payload:i,ref:a}=r;(a&&a===this.pendingHeartbeatRef||s===(i==null?void 0:i.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${a&&"("+a+")"||""}`,i),this.channels.filter(o=>o._isMember(n)).forEach(o=>o._trigger(s,i,a)),this.stateChangeCallbacks.message.forEach(o=>o(r))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Qr.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(lC,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class xC{constructor(e,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=ga.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class Lm extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Rt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class wC extends Lm{constructor(e,r){super(e),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class up extends Lm{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var bC=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(f){a(f)}}function l(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):s(d.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};const Rb=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ua(async()=>{const{default:n}=await Promise.resolve().then(()=>Xa);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},_C=()=>bC(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ua(()=>Promise.resolve().then(()=>Xa),void 0)).Response:Response}),cp=t=>{if(Array.isArray(t))return t.map(r=>cp(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=cp(n)}),e};var Oi=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(f){a(f)}}function l(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):s(d.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};const Ef=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),kC=(t,e,r)=>Oi(void 0,void 0,void 0,function*(){const n=yield _C();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{e(new wC(Ef(s),t.status||500))}).catch(s=>{e(new up(Ef(s),s))}):e(new up(Ef(t),t))}),SC=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function nu(t,e,r,n,s,i){return Oi(this,void 0,void 0,function*(){return new Promise((a,o)=>{t(r,SC(e,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>kC(l,o,n))})})}function Vc(t,e,r,n){return Oi(this,void 0,void 0,function*(){return nu(t,"GET",e,r,n)})}function as(t,e,r,n,s){return Oi(this,void 0,void 0,function*(){return nu(t,"POST",e,n,s,r)})}function jC(t,e,r,n,s){return Oi(this,void 0,void 0,function*(){return nu(t,"PUT",e,n,s,r)})}function NC(t,e,r,n){return Oi(this,void 0,void 0,function*(){return nu(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Tb(t,e,r,n,s){return Oi(this,void 0,void 0,function*(){return nu(t,"DELETE",e,n,s,r)})}var rr=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(f){a(f)}}function l(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):s(d.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};const EC={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},py={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class CC{constructor(e,r={},n,s){this.url=e,this.headers=r,this.bucketId=n,this.fetch=Rb(s)}uploadOrUpdate(e,r,n,s){return rr(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},py),s);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),i.append("",n),l&&i.append("metadata",this.encodeMetadata(l))):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(o=Object.assign(Object.assign({},o),s.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:i,headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{})),h=yield f.json();return f.ok?{data:{path:c,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(Rt(i))return{data:null,error:i};throw i}})}upload(e,r,n){return rr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return rr(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),a=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:py.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const f=yield this.fetch(o.toString(),{method:"PUT",body:l,headers:d}),h=yield f.json();return f.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(Rt(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return rr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield as(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+i.url),o=a.searchParams.get("token");if(!o)throw new Lm("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(n){if(Rt(n))return{data:null,error:n};throw n}})}update(e,r,n){return rr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return rr(this,void 0,void 0,function*(){try{return{data:yield as(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Rt(s))return{data:null,error:s};throw s}})}copy(e,r,n){return rr(this,void 0,void 0,function*(){try{return{data:{path:(yield as(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Rt(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return rr(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield as(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(Rt(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return rr(this,void 0,void 0,function*(){try{const s=yield as(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(Rt(s))return{data:null,error:s};throw s}})}download(e,r){return rr(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=i?`?${i}`:"";try{const o=this._getFinalPath(e);return{data:yield(yield Vc(this.fetch,`${this.url}/${s}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(Rt(o))return{data:null,error:o};throw o}})}info(e){return rr(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Vc(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:cp(n),error:null}}catch(n){if(Rt(n))return{data:null,error:n};throw n}})}exists(e){return rr(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield NC(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Rt(n)&&n instanceof up){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${c}`)}}}remove(e){return rr(this,void 0,void 0,function*(){try{return{data:yield Tb(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(Rt(r))return{data:null,error:r};throw r}})}list(e,r,n){return rr(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},EC),r),{prefix:e||""});return{data:yield as(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(Rt(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const PC="2.7.0",RC={"X-Client-Info":`storage-js/${PC}`};var zi=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(f){a(f)}}function l(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):s(d.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};class TC{constructor(e,r={},n){this.url=e,this.headers=Object.assign(Object.assign({},RC),r),this.fetch=Rb(n)}listBuckets(){return zi(this,void 0,void 0,function*(){try{return{data:yield Vc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Rt(e))return{data:null,error:e};throw e}})}getBucket(e){return zi(this,void 0,void 0,function*(){try{return{data:yield Vc(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(Rt(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return zi(this,void 0,void 0,function*(){try{return{data:yield as(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Rt(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return zi(this,void 0,void 0,function*(){try{return{data:yield jC(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Rt(n))return{data:null,error:n};throw n}})}emptyBucket(e){return zi(this,void 0,void 0,function*(){try{return{data:yield as(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Rt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return zi(this,void 0,void 0,function*(){try{return{data:yield Tb(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(Rt(r))return{data:null,error:r};throw r}})}}class OC extends TC{constructor(e,r={},n){super(e,r,n)}from(e){return new CC(this.url,this.headers,e,this.fetch)}}const AC="2.45.4";let Lo="";typeof Deno<"u"?Lo="deno":typeof document<"u"?Lo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Lo="react-native":Lo="node";const LC={"X-Client-Info":`supabase-js-${Lo}/${AC}`},DC={headers:LC},IC={schema:"public"},MC={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},FC={};var $C=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(f){a(f)}}function l(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):s(d.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};const UC=t=>{let e;return t?e=t:typeof fetch>"u"?e=gb:e=fetch,(...r)=>e(...r)},zC=()=>typeof Headers>"u"?yb:Headers,BC=(t,e,r)=>{const n=UC(r),s=zC();return(i,a)=>$C(void 0,void 0,void 0,function*(){var o;const l=(o=yield e())!==null&&o!==void 0?o:t;let c=new s(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},a),{headers:c}))})};var VC=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(f){a(f)}}function l(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):s(d.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};function HC(t){return t.replace(/\/$/,"")}function qC(t,e){const{db:r,auth:n,realtime:s,global:i}=t,{db:a,auth:o,realtime:l,global:c}=e,d={db:Object.assign(Object.assign({},a),r),auth:Object.assign(Object.assign({},o),n),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},c),i),accessToken:()=>VC(this,void 0,void 0,function*(){return""})};return t.accessToken?d.accessToken=t.accessToken:delete d.accessToken,d}const Ob="2.65.0",WC="http://localhost:9999",KC="supabase.auth.token",QC={"X-Client-Info":`gotrue-js/${Ob}`},my=10,dp="X-Supabase-Api-Version",Ab={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function ZC(t){return Math.round(Date.now()/1e3)+t}function GC(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Vr=()=>typeof document<"u",Ks={tested:!1,writable:!1},Yo=()=>{if(!Vr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ks.tested)return Ks.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ks.tested=!0,Ks.writable=!0}catch{Ks.tested=!0,Ks.writable=!1}return Ks.writable};function Cf(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const Lb=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ua(async()=>{const{default:n}=await Promise.resolve().then(()=>Xa);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},JC=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Db=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Fu=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},$u=async(t,e)=>{await t.removeItem(e)};function YC(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r="",n,s,i,a,o,l,c,d=0;for(t=t.replace("-","+").replace("_","/");d<t.length;)a=e.indexOf(t.charAt(d++)),o=e.indexOf(t.charAt(d++)),l=e.indexOf(t.charAt(d++)),c=e.indexOf(t.charAt(d++)),n=a<<2|o>>4,s=(o&15)<<4|l>>2,i=(l&3)<<6|c,r=r+String.fromCharCode(n),l!=64&&s!=0&&(r=r+String.fromCharCode(s)),c!=64&&i!=0&&(r=r+String.fromCharCode(i));return r}class Td{constructor(){this.promise=new Td.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Td.promiseConstructor=Promise;function gy(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,r=t.split(".");if(r.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(r[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=r[1];return JSON.parse(YC(n))}async function XC(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function eP(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await t(i);if(!e(i,null,a)){n(a);return}}catch(a){if(!e(i,a)){s(a);return}}})()})}function tP(t){return("0"+t.toString(16)).substr(-2)}function rP(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,tP).join("")}async function nP(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function sP(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function iP(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await nP(t);return sP(r)}async function Bi(t,e,r=!1){const n=rP();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Db(t,`${e}-code-verifier`,s);const i=await iP(n);return[i,n===i?"plain":"s256"]}const aP=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function oP(t){const e=t.headers.get(dp);if(!e||!e.match(aP))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class Dm extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Re(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class lP extends Dm{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function uP(t){return Re(t)&&t.name==="AuthApiError"}class Ib extends Dm{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Ai extends Dm{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class rs extends Ai{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function cP(t){return Re(t)&&t.name==="AuthSessionMissingError"}class Pf extends Ai{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Uu extends Ai{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class zu extends Ai{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class yy extends Ai{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class fp extends Ai{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Rf(t){return Re(t)&&t.name==="AuthRetryableFetchError"}class vy extends Ai{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}var dP=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const Gs=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),fP=[502,503,504];async function xy(t){var e;if(!JC(t))throw new fp(Gs(t),0);if(fP.includes(t.status))throw new fp(Gs(t),t.status);let r;try{r=await t.json()}catch(i){throw new Ib(Gs(i),i)}let n;const s=oP(t);if(s&&s.getTime()>=Ab["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new vy(Gs(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new rs}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new vy(Gs(r),t.status,r.weak_password.reasons);throw new lP(Gs(r),t.status||500,n)}const hP=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Ie(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[dp]||(i[dp]=Ab["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await pP(t,e,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function pP(t,e,r,n,s,i){const a=hP(e,n,s,i);let o;try{o=await t(r,Object.assign({},a))}catch(l){throw console.error(l),new fp(Gs(l),0)}if(o.ok||await xy(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await xy(l)}}function ns(t){var e;let r=null;vP(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=ZC(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function wy(t){const e=ns(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function cs(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function mP(t){return{data:t,error:null}}function gP(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,a=dP(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function yP(t){return t}function vP(t){return t.access_token&&t.refresh_token&&t.expires_in}var xP=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class wP{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Lb(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r="global"){try{return await Ie(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Re(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Ie(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:cs})}catch(n){if(Re(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=xP(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Ie(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:gP,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Re(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Ie(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:cs})}catch(r){if(Re(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,a,o,l;try{const c={nextPage:null,lastPage:0,total:0},d=await Ie(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:yP});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(m=>{const y=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(m.split(";")[1].split("=")[1]);c[`${w}Page`]=y}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(Re(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await Ie(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:cs})}catch(r){if(Re(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){try{return await Ie(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:cs})}catch(n){if(Re(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){try{return await Ie(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:cs})}catch(n){if(Re(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:r,error:n}=await Ie(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(Re(r))return{data:null,error:r};throw r}}async _deleteFactor(e){try{return{data:await Ie(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Re(r))return{data:null,error:r};throw r}}}const bP={getItem:t=>Yo()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Yo()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Yo()&&globalThis.localStorage.removeItem(t)}};function by(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function _P(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Vi={debug:!!(globalThis&&Yo()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Mb extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class kP extends Mb{}async function SP(t,e,r){Vi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Vi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Vi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{Vi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Vi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new kP(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Vi.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}})}_P();const jP={url:WC,storageKey:KC,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:QC,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},ko=30*1e3,_y=3;async function ky(t,e,r){return await r()}class Sl{constructor(e){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Sl.nextInstanceID,Sl.nextInstanceID+=1,this.instanceID>0&&Vr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},jP),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new wP({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Lb(s.fetch),this.lock=s.lock||ky,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Vr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=SP:this.lock=ky,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Yo()?this.storage=bP:(this.memoryStorage={},this.storage=by(this.memoryStorage)):(this.memoryStorage={},this.storage=by(this.memoryStorage)),Vr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ob}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const e=Vr()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:r,error:n}=await this._getSessionFromURL(e);if(n)return this._debug("#_initialize()","error detecting session from URL",n),(n==null?void 0:n.message)==="Identity is already linked"||(n==null?void 0:n.message)==="Identity is already linked to another user"?{error:n}:(await this._removeSession(),{error:n});const{session:s,redirectType:i}=r;return this._debug("#_initialize()","detected session in URL",s,"redirect type",i),await this._saveSession(s),setTimeout(async()=>{i==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return Re(e)?{error:e}:{error:new Ib("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await Ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:ns}),{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(Re(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:d,password:f,options:h}=e;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await Bi(this.storage,this.storageKey)),i=await Ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:m},xform:ns})}else if("phone"in e){const{phone:d,password:f,options:h}=e;i=await Ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:ns})}else throw new Uu("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(Re(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:a,options:o}=e;r=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:wy})}else if("phone"in e){const{phone:i,password:a,options:o}=e;r=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:wy})}else throw new Uu("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Pf}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(Re(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const r=await Fu(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:a}=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:ns});if(await $u(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Pf}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(Re(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=e,o=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ns}),{data:l,error:c}=o;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Pf}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(Re(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,i,a;try{if("email"in e){const{email:o,options:l}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Bi(this.storage,this.storageKey));const{error:f}=await Ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:o,options:l}=e,{data:c,error:d}=await Ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new Uu("You must provide either an email or phone number.")}catch(o){if(Re(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await Ie(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:ns});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,c=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(Re(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await Bi(this.storage,this.storageKey)),await Ie(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:mP})}catch(i){if(Re(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new rs;const{error:s}=await Ie(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(Re(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:a}=await Ie(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:a,error:o}=await Ie(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new Uu("You must provide either an email or phone number and a type")}catch(r){if(Re(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Fu(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,d)=>(!a&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:cs}):await this._useSession(async r=>{var n,s,i;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new rs}:await Ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:cs})})}catch(r){if(Re(r))return cP(r)&&(await this._removeSession(),await $u(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new rs;const a=s.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await Bi(this.storage,this.storageKey));const{data:c,error:d}=await Ie(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:cs});if(d)throw d;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(Re(n))return{data:{user:null},error:n};throw n}}_decodeJWT(e){return gy(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new rs;const r=Date.now()/1e3;let n=r,s=!0,i=null;const a=gy(e.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{session:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(Re(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:a,error:o}=r;if(o)throw o;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new rs;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Re(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e){try{if(!Vr())throw new zu("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new zu("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new yy("Not a valid PKCE flow url.");const r=Cf(window.location.href);if(e){if(!r.code)throw new yy("No code detected.");const{data:g,error:x}=await this._exchangeCodeForSession(r.code);if(x)throw x;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:g.session,redirectType:null},error:null}}if(r.error||r.error_description||r.error_code)throw new zu(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:l,token_type:c}=r;if(!i||!o||!a||!c)throw new zu("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(o);let h=d+f;l&&(h=parseInt(l));const p=h-d;p*1e3<=ko&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const m=h-f;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,d);const{data:y,error:w}=await this._getUser(i);if(w)throw w;const v={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:a,token_type:c,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:r.type},error:null}}catch(r){if(Re(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantFlow(){const e=Cf(window.location.href);return!!(Vr()&&(e.access_token||e.error_description))}async _isPKCEFlow(){const e=Cf(window.location.href),r=await Fu(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(uP(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await $u(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(e){const r=GC(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Bi(this.storage,this.storageKey,!0));try{return await Ie(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(Re(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(Re(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,o,l,c,d;const{data:f,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Ie(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Vr()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Re(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await Ie(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Re(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await eP(async s=>(s>0&&await XC(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Ie(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ns})),(s,i)=>{const a=200*Math.pow(2,s);return i&&Rf(i)&&Date.now()+a-n<ko})}catch(n){if(this._debug(r,"error",n),Re(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Vr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Fu(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),i=((e=n.expires_at)!==null&&e!==void 0?e:1/0)<s+my;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${my}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:a}=await this._callRefreshToken(n.refresh_token);a&&(console.error(a),Rf(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new rs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Td;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new rs;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),Re(i)){const a={session:null,error:i};return Rf(i)||(await this._removeSession(),await this._notifyAllSubscribers("SIGNED_OUT",null)),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Db(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await $u(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Vr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ko);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/ko);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ko}ms, refresh threshold is ${_y} ticks`),s<=_y&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Mb)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Vr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await Bi(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await Ie(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Re(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await Ie(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(e.factorType==="phone"&&delete l.totp,e.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(Re(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:a,error:o}=await Ie(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(r){if(Re(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await Ie(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Re(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],s=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const a=this._decodeJWT(s.access_token);let o=null;a.aal&&(o=a.aal);let l=o;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=a.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}}Sl.nextInstanceID=0;const NP=Sl;class EP extends NP{constructor(e){super(e)}}var CP=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(f){a(f)}}function l(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):s(d.value).then(o,l)}c((n=n.apply(t,e||[])).next())})};class PP{constructor(e,r,n){var s,i,a;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=HC(e);this.realtimeUrl=`${o}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${o}/auth/v1`,this.storageUrl=`${o}/storage/v1`,this.functionsUrl=`${o}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:IC,realtime:FC,auth:Object.assign(Object.assign({},MC),{storageKey:l}),global:DC},d=qC(n??{},c);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=d.auth)!==null&&a!==void 0?a:{},this.headers,d.global.fetch),this.fetch=BC(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},d.realtime)),this.rest=new sC(`${o}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new LE(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new OC(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return CP(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:a,lock:o,debug:l},c,d){var f;const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new EP({url:this.authUrl,headers:Object.assign(Object.assign({},h),c),storageKey:i,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,flowType:a,lock:o,debug:l,fetch:d,hasCustomAuthorizationHeader:(f="Authorization"in this.headers)!==null&&f!==void 0?f:!1})}_initRealtimeClient(e){return new vC(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.realtime.setAuth(n??null),this.changedAccessToken=n):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const RP=(t,e,r)=>new PP(t,e,r),TP="https://goofjdakbhtptnzmmwhb.supabase.co",OP="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imdvb2ZqZGFrYmh0cHRuem1td2hiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU2MzkxMTksImV4cCI6MjA4MTIxNTExOX0._kdZeEa8mflaCse3HTfUX74SZLhdfZ5uHVHxMa2U74E",Ir=RP(TP,OP,{auth:{persistSession:!0,autoRefreshToken:!0}}),Fb=_.createContext(null);function AP({children:t}){const[e,r]=_.useState(null),[n,s]=_.useState(null),[i,a]=_.useState(!0);_.useEffect(()=>{Ir.auth.getSession().then(({data:{session:d}})=>{s(d),r((d==null?void 0:d.user)??null),a(!1)});const{data:{subscription:c}}=Ir.auth.onAuthStateChange((d,f)=>{s(f),r((f==null?void 0:f.user)??null),a(!1)});return()=>{var d;return(d=c==null?void 0:c.unsubscribe)==null?void 0:d.call(c)}},[]);const l={user:e,session:n,loading:i,signOut:async()=>{await Ir.auth.signOut(),r(null),s(null)},isAuthenticated:!!e};return u.jsx(Fb.Provider,{value:l,children:t})}function eo(){const t=_.useContext(Fb);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}const $b=_.createContext();function LP({children:t}){const[e,r]=_.useState(()=>{if(typeof window<"u"){const s=localStorage.getItem("theme");return s||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}return"light"});_.useEffect(()=>{const s=document.documentElement;e==="dark"?s.classList.add("dark"):s.classList.remove("dark"),localStorage.setItem("theme",e)},[e]);const n=()=>{r(s=>s==="dark"?"light":"dark")};return u.jsx($b.Provider,{value:{theme:e,setTheme:r,toggleTheme:n},children:t})}function Od(){const t=_.useContext($b);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t}/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DP=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ub=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var IP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MP=_.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:a,...o},l)=>_.createElement("svg",{ref:l,...IP,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:Ub("lucide",s),...o},[...a.map(([c,d])=>_.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=(t,e)=>{const r=_.forwardRef(({className:n,...s},i)=>_.createElement(MP,{ref:i,iconNode:e,className:Ub(`lucide-${DP(t)}`,n),...s}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FP=pe("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=pe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sy=pe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=pe("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=pe("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=pe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=pe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=pe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Do=pe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=pe("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=pe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=pe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=pe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=pe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hp=pe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VP=pe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=pe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=pe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=pe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HP=pe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=pe("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=pe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=pe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=pe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=pe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=pe("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=pe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=pe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=pe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xo=pe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=pe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=pe("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jl=pe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=pe("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=pe("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=pe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cy=pe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kb=pe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=pe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=pe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=pe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const el=pe("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi=pe("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=pe("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nl=pe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=pe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=pe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=pe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tR=pe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rR=pe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nR=pe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=pe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pp=pe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function Zb(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=Zb(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Gn(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=Zb(t))&&(n&&(n+=" "),n+=e);return n}const sR={primary:"bg-blue-600 text-white hover:bg-blue-700 active:bg-blue-800 focus:ring-blue-500",secondary:"bg-slate-100 text-slate-700 hover:bg-slate-200 active:bg-slate-300 focus:ring-slate-400",success:"bg-emerald-600 text-white hover:bg-emerald-700 active:bg-emerald-800 focus:ring-emerald-500",danger:"bg-red-600 text-white hover:bg-red-700 active:bg-red-800 focus:ring-red-500",ghost:"bg-transparent hover:bg-slate-100 text-slate-700 focus:ring-slate-400",outline:"border-2 border-blue-600 text-blue-600 hover:bg-blue-50 active:bg-blue-100 focus:ring-blue-500"},iR={xs:"px-2 py-1 text-xs gap-1",sm:"px-3 py-1.5 text-sm gap-1.5",md:"px-4 py-2 gap-2",lg:"px-5 py-2.5 text-lg gap-2",xl:"px-6 py-3 text-xl gap-3"},Te=_.forwardRef(function({className:e,variant:r="primary",size:n="md",children:s,...i},a){return u.jsx("button",{ref:a,className:Gn("inline-flex items-center justify-center rounded-lg font-medium transition-all duration-200","disabled:opacity-50 disabled:cursor-not-allowed","focus:outline-none focus:ring-2 focus:ring-offset-2",sR[r],iR[n],e),...i,children:s})}),aR=[{code:"en",name:"English",flag:""},{code:"am",name:"",flag:""}];function Fm({compact:t=!1}){const{i18n:e}=jn(),r=e.language,n=s=>{NE(s)};return t?u.jsxs("button",{onClick:()=>n(r==="en"?"am":"en"),className:"flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-600 dark:text-slate-300 transition-colors",title:r==="en"?"Switch to ":"Switch to English",children:[u.jsx(Hb,{size:18}),u.jsx("span",{className:"text-sm font-medium",children:r==="en"?" ":" EN"})]}):u.jsx("div",{className:"flex items-center gap-1 p-1 bg-slate-100 dark:bg-slate-800 rounded-lg",children:aR.map(s=>u.jsxs("button",{onClick:()=>n(s.code),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-all ${r===s.code?"bg-white dark:bg-slate-700 text-slate-800 dark:text-white shadow-sm":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-300"}`,children:[u.jsx("span",{children:s.flag}),u.jsx("span",{children:s.code==="en"?"EN":""})]},s.code))})}function $m({size:t=40,showText:e=!0,className:r=""}){return u.jsxs("div",{className:`flex items-center gap-2 ${r}`,children:[u.jsxs("svg",{width:t,height:t,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"flex-shrink-0",children:[u.jsxs("defs",{children:[u.jsxs("linearGradient",{id:"logoGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[u.jsx("stop",{offset:"0%",stopColor:"#10b981"}),u.jsx("stop",{offset:"50%",stopColor:"#059669"}),u.jsx("stop",{offset:"100%",stopColor:"#047857"})]}),u.jsxs("linearGradient",{id:"flowGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[u.jsx("stop",{offset:"0%",stopColor:"#fbbf24"}),u.jsx("stop",{offset:"100%",stopColor:"#f59e0b"})]}),u.jsxs("linearGradient",{id:"coinGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[u.jsx("stop",{offset:"0%",stopColor:"#fcd34d"}),u.jsx("stop",{offset:"100%",stopColor:"#f59e0b"})]})]}),u.jsx("circle",{cx:"32",cy:"32",r:"30",fill:"url(#logoGradient)"}),u.jsx("path",{d:"M22 16V48M22 32L38 16M22 32L38 48",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsxs("g",{children:[u.jsx("circle",{cx:"44",cy:"20",r:"6",fill:"url(#coinGradient)"}),u.jsx("text",{x:"44",y:"23",textAnchor:"middle",fill:"#92400e",fontSize:"8",fontWeight:"bold",children:"$"}),u.jsx("circle",{cx:"50",cy:"32",r:"5",fill:"url(#coinGradient)",opacity:"0.9"}),u.jsx("text",{x:"50",y:"35",textAnchor:"middle",fill:"#92400e",fontSize:"7",fontWeight:"bold",children:"$"}),u.jsx("circle",{cx:"46",cy:"44",r:"4",fill:"url(#coinGradient)",opacity:"0.8"}),u.jsx("text",{x:"46",y:"46.5",textAnchor:"middle",fill:"#92400e",fontSize:"6",fontWeight:"bold",children:"$"})]}),u.jsx("path",{d:"M40 18 Q48 24 46 32 Q44 40 42 46",stroke:"url(#flowGradient)",strokeWidth:"2",strokeLinecap:"round",fill:"none",opacity:"0.6"})]}),e&&u.jsxs("div",{className:"flex flex-col leading-none",children:[u.jsxs("span",{className:"text-xl font-bold tracking-tight",children:[u.jsx("span",{className:"text-emerald-600 dark:text-emerald-400",children:"Kash"}),u.jsx("span",{className:"text-amber-500 dark:text-amber-400",children:"-Flow"})]}),u.jsx("span",{className:"text-[9px] text-slate-500 dark:text-slate-400 tracking-widest uppercase",children:"Point of Sale"})]})]})}function oR({size:t=32,className:e=""}){return u.jsxs("svg",{width:t,height:t,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:[u.jsxs("defs",{children:[u.jsxs("linearGradient",{id:"logoGradientIcon",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[u.jsx("stop",{offset:"0%",stopColor:"#10b981"}),u.jsx("stop",{offset:"50%",stopColor:"#059669"}),u.jsx("stop",{offset:"100%",stopColor:"#047857"})]}),u.jsxs("linearGradient",{id:"coinGradientIcon",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[u.jsx("stop",{offset:"0%",stopColor:"#fcd34d"}),u.jsx("stop",{offset:"100%",stopColor:"#f59e0b"})]})]}),u.jsx("circle",{cx:"32",cy:"32",r:"30",fill:"url(#logoGradientIcon)"}),u.jsx("path",{d:"M22 16V48M22 32L38 16M22 32L38 48",stroke:"white",strokeWidth:"5",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("circle",{cx:"44",cy:"20",r:"6",fill:"url(#coinGradientIcon)"}),u.jsx("text",{x:"44",y:"23",textAnchor:"middle",fill:"#92400e",fontSize:"8",fontWeight:"bold",children:"$"}),u.jsx("circle",{cx:"50",cy:"32",r:"5",fill:"url(#coinGradientIcon)",opacity:"0.9"}),u.jsx("circle",{cx:"46",cy:"44",r:"4",fill:"url(#coinGradientIcon)",opacity:"0.8"})]})}const lR=[{to:"/",icon:$n,labelKey:"nav.products"},{to:"/sell",icon:Wi,labelKey:"nav.sell"},{to:"/reports",icon:Do,labelKey:"nav.reports"},{to:"/analytics",icon:UP,labelKey:"nav.analytics"},{to:"/billing",icon:Ba,labelKey:"nav.billing"}];function uR({to:t,icon:e,labelKey:r,onClick:n}){const s=Zn(),{t:i}=jn(),a=s.pathname===t;return u.jsxs(jm,{to:t,onClick:n,className:Gn("flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-all duration-200",a?"bg-blue-600 text-white shadow-lg shadow-blue-600/30":"text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 hover:text-slate-900 dark:hover:text-white"),children:[u.jsx(e,{size:20}),u.jsx("span",{children:i(r)})]})}function Gb({compact:t=!1}){const{theme:e,toggleTheme:r}=Od(),{t:n}=jn();return t?u.jsx("button",{onClick:r,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg text-slate-600 dark:text-slate-300 transition-colors","aria-label":n(e==="dark"?"nav.light_mode":"nav.dark_mode"),children:e==="dark"?u.jsx(Nl,{size:20}):u.jsx(jl,{size:20})}):u.jsxs("button",{onClick:r,className:"flex items-center gap-3 w-full px-4 py-3 rounded-xl font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 transition-all duration-200","aria-label":n(e==="dark"?"nav.light_mode":"nav.dark_mode"),children:[e==="dark"?u.jsx(Nl,{size:20}):u.jsx(jl,{size:20}),u.jsx("span",{children:n(e==="dark"?"nav.light_mode":"nav.dark_mode")})]})}function cR(){var l;const{user:t,signOut:e}=eo(),r=Ri(),{t:n}=jn(),[s,i]=_.useState(!1),a=_.useRef(null);_.useEffect(()=>{const c=d=>{a.current&&!a.current.contains(d.target)&&i(!1)};return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[]);const o=async()=>{await e(),r("/auth")};return u.jsxs("div",{className:"relative",ref:a,children:[u.jsxs("button",{onClick:()=>i(!s),className:"flex items-center gap-2 px-3 py-2 rounded-xl hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:[u.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-full flex items-center justify-center text-white font-semibold text-sm shadow-sm",children:((l=t==null?void 0:t.email)==null?void 0:l.charAt(0).toUpperCase())||"U"}),u.jsx(zP,{size:16,className:Gn("text-slate-500 transition-transform",s&&"rotate-180")})]}),s&&u.jsxs("div",{className:"absolute right-0 top-full mt-2 w-64 bg-white dark:bg-slate-800 rounded-xl shadow-xl border border-slate-200 dark:border-slate-700 py-2 z-50",children:[u.jsxs("div",{className:"px-4 py-3 border-b border-slate-100 dark:border-slate-700",children:[u.jsx("p",{className:"text-sm font-medium text-slate-800 dark:text-white truncate",children:t==null?void 0:t.email}),u.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Store Owner"})]}),u.jsxs(jm,{to:"/profile",onClick:()=>i(!1),className:"flex items-center gap-3 px-4 py-2.5 text-sm text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[u.jsx(Qb,{size:16}),n("nav.profile","Profile & Settings")]}),u.jsxs("button",{onClick:o,className:"flex items-center gap-3 w-full px-4 py-2.5 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[u.jsx(Mm,{size:16}),n("nav.sign_out")]})]})]})}function Py({mobile:t,onClose:e}){const{t:r}=jn();return u.jsxs("aside",{className:Gn("flex flex-col bg-white dark:bg-slate-900 border-r border-slate-200 dark:border-slate-700",t?"w-full h-full":"w-64 min-h-screen"),children:[u.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-800",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx($m,{size:36}),t&&u.jsx("button",{onClick:e,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg text-slate-600 dark:text-slate-300",children:u.jsx(Va,{size:20})})]})}),u.jsxs("nav",{className:"flex-1 p-4 space-y-1",children:[lR.map(n=>u.jsx(uR,{...n,onClick:t?e:void 0},n.to)),!t&&u.jsx("div",{className:"pt-2 mt-2 border-t border-slate-100 dark:border-slate-800",children:u.jsx(Gb,{})})]}),t&&u.jsx(dR,{onClose:e})]})}function dR({onClose:t}){var a;const{user:e,signOut:r}=eo(),n=Ri(),{t:s}=jn(),i=async()=>{await r(),n("/auth")};return u.jsxs("div",{className:"p-4 border-t border-slate-100 dark:border-slate-800 space-y-3",children:[u.jsxs(jm,{to:"/profile",onClick:t,className:"flex items-center gap-3 px-3 py-2 rounded-xl hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:[u.jsx("div",{className:"w-9 h-9 bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-full flex items-center justify-center text-white font-semibold text-sm shadow-sm",children:((a=e==null?void 0:e.email)==null?void 0:a.charAt(0).toUpperCase())||"U"}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-sm font-medium text-slate-700 dark:text-slate-200 truncate",children:(e==null?void 0:e.email)||"User"}),u.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 flex items-center gap-1",children:[u.jsx(Qb,{size:10}),s("nav.profile","Profile & Settings")]})]})]}),u.jsxs(Te,{variant:"ghost",className:"w-full justify-start",onClick:i,children:[u.jsx(Mm,{size:18}),s("nav.sign_out")]})]})}function fR(){return u.jsxs("header",{className:"hidden lg:flex h-16 bg-white dark:bg-slate-900 border-b border-slate-200 dark:border-slate-700 px-6 items-center justify-end gap-3",children:[u.jsx(Fm,{compact:!0}),u.jsx(Gb,{compact:!0}),u.jsx("div",{className:"w-px h-8 bg-slate-200 dark:bg-slate-700"}),u.jsx(cR,{})]})}function hR({onMenuOpen:t}){const{theme:e,toggleTheme:r}=Od();return u.jsxs("header",{className:"lg:hidden fixed top-0 left-0 right-0 h-16 bg-white dark:bg-slate-900 border-b border-slate-200 dark:border-slate-700 z-40 px-4 flex items-center justify-between",children:[u.jsx($m,{size:32}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Fm,{compact:!0}),u.jsx("button",{onClick:r,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg text-slate-600 dark:text-slate-300","aria-label":"Toggle theme",children:e==="dark"?u.jsx(Nl,{size:20}):u.jsx(jl,{size:20})}),u.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg text-slate-600 dark:text-slate-300",children:u.jsx(GP,{size:24})})]})]})}function pR(){const{isAuthenticated:t,loading:e}=eo(),[r,n]=_.useState(!1),{t:s}=jn();return e?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-900",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-pulse mb-4",children:u.jsx(oR,{size:64})}),u.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:s("loading")})]})}):t?u.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 flex",children:[u.jsx("div",{className:"hidden lg:block",children:u.jsx(Py,{})}),r&&u.jsxs("div",{className:"lg:hidden fixed inset-0 z-50",children:[u.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>n(!1)}),u.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-72",children:u.jsx(Py,{mobile:!0,onClose:()=>n(!1)})})]}),u.jsxs("div",{className:"flex-1 flex flex-col min-h-screen",children:[u.jsx(hR,{onMenuOpen:()=>n(!0)}),u.jsx(fR,{}),u.jsx("main",{className:"flex-1 p-4 lg:p-8 mt-16 lg:mt-0",children:u.jsx("div",{className:"max-w-7xl mx-auto",children:u.jsx(T0,{})})})]})]}):u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:u.jsx(T0,{})})}function Jb(t,e){return function(){return t.apply(e,arguments)}}const{toString:mR}=Object.prototype,{getPrototypeOf:Um}=Object,Ad=(t=>e=>{const r=mR.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),sn=t=>(t=t.toLowerCase(),e=>Ad(e)===t),Ld=t=>e=>typeof e===t,{isArray:to}=Array,Pl=Ld("undefined");function gR(t){return t!==null&&!Pl(t)&&t.constructor!==null&&!Pl(t.constructor)&&jr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Yb=sn("ArrayBuffer");function yR(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Yb(t.buffer),e}const vR=Ld("string"),jr=Ld("function"),Xb=Ld("number"),Dd=t=>t!==null&&typeof t=="object",xR=t=>t===!0||t===!1,ac=t=>{if(Ad(t)!=="object")return!1;const e=Um(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},wR=sn("Date"),bR=sn("File"),_R=sn("Blob"),kR=sn("FileList"),SR=t=>Dd(t)&&jr(t.pipe),jR=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||jr(t.append)&&((e=Ad(t))==="formdata"||e==="object"&&jr(t.toString)&&t.toString()==="[object FormData]"))},NR=sn("URLSearchParams"),[ER,CR,PR,RR]=["ReadableStream","Request","Response","Headers"].map(sn),TR=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function su(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,s;if(typeof t!="object"&&(t=[t]),to(t))for(n=0,s=t.length;n<s;n++)e.call(null,t[n],n,t);else{const i=r?Object.getOwnPropertyNames(t):Object.keys(t),a=i.length;let o;for(n=0;n<a;n++)o=i[n],e.call(null,t[o],o,t)}}function e_(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,s;for(;n-- >0;)if(s=r[n],e===s.toLowerCase())return s;return null}const si=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,t_=t=>!Pl(t)&&t!==si;function mp(){const{caseless:t}=t_(this)&&this||{},e={},r=(n,s)=>{const i=t&&e_(e,s)||s;ac(e[i])&&ac(n)?e[i]=mp(e[i],n):ac(n)?e[i]=mp({},n):to(n)?e[i]=n.slice():e[i]=n};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&su(arguments[n],r);return e}const OR=(t,e,r,{allOwnKeys:n}={})=>(su(e,(s,i)=>{r&&jr(s)?t[i]=Jb(s,r):t[i]=s},{allOwnKeys:n}),t),AR=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),LR=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},DR=(t,e,r,n)=>{let s,i,a;const o={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)a=s[i],(!n||n(a,t,e))&&!o[a]&&(e[a]=t[a],o[a]=!0);t=r!==!1&&Um(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},IR=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},MR=t=>{if(!t)return null;if(to(t))return t;let e=t.length;if(!Xb(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},FR=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Um(Uint8Array)),$R=(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=n.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},UR=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},zR=sn("HTMLFormElement"),BR=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),Ry=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),VR=sn("RegExp"),r_=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};su(r,(s,i)=>{let a;(a=e(s,i,t))!==!1&&(n[i]=a||s)}),Object.defineProperties(t,n)},HR=t=>{r_(t,(e,r)=>{if(jr(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(jr(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},qR=(t,e)=>{const r={},n=s=>{s.forEach(i=>{r[i]=!0})};return to(t)?n(t):n(String(t).split(e)),r},WR=()=>{},KR=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,Of="abcdefghijklmnopqrstuvwxyz",Ty="0123456789",n_={DIGIT:Ty,ALPHA:Of,ALPHA_DIGIT:Of+Of.toUpperCase()+Ty},QR=(t=16,e=n_.ALPHA_DIGIT)=>{let r="";const{length:n}=e;for(;t--;)r+=e[Math.random()*n|0];return r};function ZR(t){return!!(t&&jr(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const GR=t=>{const e=new Array(10),r=(n,s)=>{if(Dd(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[s]=n;const i=to(n)?[]:{};return su(n,(a,o)=>{const l=r(a,s+1);!Pl(l)&&(i[o]=l)}),e[s]=void 0,i}}return n};return r(t,0)},JR=sn("AsyncFunction"),YR=t=>t&&(Dd(t)||jr(t))&&jr(t.then)&&jr(t.catch),s_=((t,e)=>t?setImmediate:e?((r,n)=>(si.addEventListener("message",({source:s,data:i})=>{s===si&&i===r&&n.length&&n.shift()()},!1),s=>{n.push(s),si.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",jr(si.postMessage)),XR=typeof queueMicrotask<"u"?queueMicrotask.bind(si):typeof process<"u"&&process.nextTick||s_,O={isArray:to,isArrayBuffer:Yb,isBuffer:gR,isFormData:jR,isArrayBufferView:yR,isString:vR,isNumber:Xb,isBoolean:xR,isObject:Dd,isPlainObject:ac,isReadableStream:ER,isRequest:CR,isResponse:PR,isHeaders:RR,isUndefined:Pl,isDate:wR,isFile:bR,isBlob:_R,isRegExp:VR,isFunction:jr,isStream:SR,isURLSearchParams:NR,isTypedArray:FR,isFileList:kR,forEach:su,merge:mp,extend:OR,trim:TR,stripBOM:AR,inherits:LR,toFlatObject:DR,kindOf:Ad,kindOfTest:sn,endsWith:IR,toArray:MR,forEachEntry:$R,matchAll:UR,isHTMLForm:zR,hasOwnProperty:Ry,hasOwnProp:Ry,reduceDescriptors:r_,freezeMethods:HR,toObjectSet:qR,toCamelCase:BR,noop:WR,toFiniteNumber:KR,findKey:e_,global:si,isContextDefined:t_,ALPHABET:n_,generateString:QR,isSpecCompliantForm:ZR,toJSONObject:GR,isAsyncFn:JR,isThenable:YR,setImmediate:s_,asap:XR};function je(t,e,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}O.inherits(je,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:O.toJSONObject(this.config),code:this.code,status:this.status}}});const i_=je.prototype,a_={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{a_[t]={value:t}});Object.defineProperties(je,a_);Object.defineProperty(i_,"isAxiosError",{value:!0});je.from=(t,e,r,n,s,i)=>{const a=Object.create(i_);return O.toFlatObject(t,a,function(l){return l!==Error.prototype},o=>o!=="isAxiosError"),je.call(a,t.message,e,r,n,s),a.cause=t,a.name=t.name,i&&Object.assign(a,i),a};const eT=null;function gp(t){return O.isPlainObject(t)||O.isArray(t)}function o_(t){return O.endsWith(t,"[]")?t.slice(0,-2):t}function Oy(t,e,r){return t?t.concat(e).map(function(s,i){return s=o_(s),!r&&i?"["+s+"]":s}).join(r?".":""):e}function tT(t){return O.isArray(t)&&!t.some(gp)}const rT=O.toFlatObject(O,{},null,function(e){return/^is[A-Z]/.test(e)});function Id(t,e,r){if(!O.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=O.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,w){return!O.isUndefined(w[y])});const n=r.metaTokens,s=r.visitor||d,i=r.dots,a=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&O.isSpecCompliantForm(e);if(!O.isFunction(s))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(O.isDate(m))return m.toISOString();if(!l&&O.isBlob(m))throw new je("Blob is not supported. Use a Buffer instead.");return O.isArrayBuffer(m)||O.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function d(m,y,w){let v=m;if(m&&!w&&typeof m=="object"){if(O.endsWith(y,"{}"))y=n?y:y.slice(0,-2),m=JSON.stringify(m);else if(O.isArray(m)&&tT(m)||(O.isFileList(m)||O.endsWith(y,"[]"))&&(v=O.toArray(m)))return y=o_(y),v.forEach(function(x,k){!(O.isUndefined(x)||x===null)&&e.append(a===!0?Oy([y],k,i):a===null?y:y+"[]",c(x))}),!1}return gp(m)?!0:(e.append(Oy(w,y,i),c(m)),!1)}const f=[],h=Object.assign(rT,{defaultVisitor:d,convertValue:c,isVisitable:gp});function p(m,y){if(!O.isUndefined(m)){if(f.indexOf(m)!==-1)throw Error("Circular reference detected in "+y.join("."));f.push(m),O.forEach(m,function(v,g){(!(O.isUndefined(v)||v===null)&&s.call(e,v,O.isString(g)?g.trim():g,y,h))===!0&&p(v,y?y.concat(g):[g])}),f.pop()}}if(!O.isObject(t))throw new TypeError("data must be an object");return p(t),e}function Ay(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function zm(t,e){this._pairs=[],t&&Id(t,this,e)}const l_=zm.prototype;l_.append=function(e,r){this._pairs.push([e,r])};l_.toString=function(e){const r=e?function(n){return e.call(this,n,Ay)}:Ay;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function nT(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function u_(t,e,r){if(!e)return t;const n=r&&r.encode||nT,s=r&&r.serialize;let i;if(s?i=s(e,r):i=O.isURLSearchParams(e)?e.toString():new zm(e,r).toString(n),i){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class Ly{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){O.forEach(this.handlers,function(n){n!==null&&e(n)})}}const c_={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},sT=typeof URLSearchParams<"u"?URLSearchParams:zm,iT=typeof FormData<"u"?FormData:null,aT=typeof Blob<"u"?Blob:null,oT={isBrowser:!0,classes:{URLSearchParams:sT,FormData:iT,Blob:aT},protocols:["http","https","file","blob","url","data"]},Bm=typeof window<"u"&&typeof document<"u",yp=typeof navigator=="object"&&navigator||void 0,lT=Bm&&(!yp||["ReactNative","NativeScript","NS"].indexOf(yp.product)<0),uT=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",cT=Bm&&window.location.href||"http://localhost",dT=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Bm,hasStandardBrowserEnv:lT,hasStandardBrowserWebWorkerEnv:uT,navigator:yp,origin:cT},Symbol.toStringTag,{value:"Module"})),fr={...dT,...oT};function fT(t,e){return Id(t,new fr.classes.URLSearchParams,Object.assign({visitor:function(r,n,s,i){return fr.isNode&&O.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function hT(t){return O.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function pT(t){const e={},r=Object.keys(t);let n;const s=r.length;let i;for(n=0;n<s;n++)i=r[n],e[i]=t[i];return e}function d_(t){function e(r,n,s,i){let a=r[i++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),l=i>=r.length;return a=!a&&O.isArray(s)?s.length:a,l?(O.hasOwnProp(s,a)?s[a]=[s[a],n]:s[a]=n,!o):((!s[a]||!O.isObject(s[a]))&&(s[a]=[]),e(r,n,s[a],i)&&O.isArray(s[a])&&(s[a]=pT(s[a])),!o)}if(O.isFormData(t)&&O.isFunction(t.entries)){const r={};return O.forEachEntry(t,(n,s)=>{e(hT(n),s,r,0)}),r}return null}function mT(t,e,r){if(O.isString(t))try{return(e||JSON.parse)(t),O.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const iu={transitional:c_,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,i=O.isObject(e);if(i&&O.isHTMLForm(e)&&(e=new FormData(e)),O.isFormData(e))return s?JSON.stringify(d_(e)):e;if(O.isArrayBuffer(e)||O.isBuffer(e)||O.isStream(e)||O.isFile(e)||O.isBlob(e)||O.isReadableStream(e))return e;if(O.isArrayBufferView(e))return e.buffer;if(O.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return fT(e,this.formSerializer).toString();if((o=O.isFileList(e))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Id(o?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||s?(r.setContentType("application/json",!1),mT(e)):e}],transformResponse:[function(e){const r=this.transitional||iu.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(O.isResponse(e)||O.isReadableStream(e))return e;if(e&&O.isString(e)&&(n&&!this.responseType||s)){const a=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(o){if(a)throw o.name==="SyntaxError"?je.from(o,je.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:fr.classes.FormData,Blob:fr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};O.forEach(["delete","get","head","post","put","patch"],t=>{iu.headers[t]={}});const gT=O.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),yT=t=>{const e={};let r,n,s;return t&&t.split(`
`).forEach(function(a){s=a.indexOf(":"),r=a.substring(0,s).trim().toLowerCase(),n=a.substring(s+1).trim(),!(!r||e[r]&&gT[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},Dy=Symbol("internals");function So(t){return t&&String(t).trim().toLowerCase()}function oc(t){return t===!1||t==null?t:O.isArray(t)?t.map(oc):String(t)}function vT(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const xT=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Af(t,e,r,n,s){if(O.isFunction(n))return n.call(this,e,r);if(s&&(e=r),!!O.isString(e)){if(O.isString(n))return e.indexOf(n)!==-1;if(O.isRegExp(n))return n.test(e)}}function wT(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function bT(t,e){const r=O.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(s,i,a){return this[n].call(this,e,s,i,a)},configurable:!0})})}let hr=class{constructor(e){e&&this.set(e)}set(e,r,n){const s=this;function i(o,l,c){const d=So(l);if(!d)throw new Error("header name must be a non-empty string");const f=O.findKey(s,d);(!f||s[f]===void 0||c===!0||c===void 0&&s[f]!==!1)&&(s[f||l]=oc(o))}const a=(o,l)=>O.forEach(o,(c,d)=>i(c,d,l));if(O.isPlainObject(e)||e instanceof this.constructor)a(e,r);else if(O.isString(e)&&(e=e.trim())&&!xT(e))a(yT(e),r);else if(O.isHeaders(e))for(const[o,l]of e.entries())i(l,o,n);else e!=null&&i(r,e,n);return this}get(e,r){if(e=So(e),e){const n=O.findKey(this,e);if(n){const s=this[n];if(!r)return s;if(r===!0)return vT(s);if(O.isFunction(r))return r.call(this,s,n);if(O.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=So(e),e){const n=O.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||Af(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let s=!1;function i(a){if(a=So(a),a){const o=O.findKey(n,a);o&&(!r||Af(n,n[o],o,r))&&(delete n[o],s=!0)}}return O.isArray(e)?e.forEach(i):i(e),s}clear(e){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const i=r[n];(!e||Af(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const r=this,n={};return O.forEach(this,(s,i)=>{const a=O.findKey(n,i);if(a){r[a]=oc(s),delete r[i];return}const o=e?wT(i):String(i).trim();o!==i&&delete r[i],r[o]=oc(s),n[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return O.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=e&&O.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(s=>n.set(s)),n}static accessor(e){const n=(this[Dy]=this[Dy]={accessors:{}}).accessors,s=this.prototype;function i(a){const o=So(a);n[o]||(bT(s,a),n[o]=!0)}return O.isArray(e)?e.forEach(i):i(e),this}};hr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);O.reduceDescriptors(hr.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});O.freezeMethods(hr);function Lf(t,e){const r=this||iu,n=e||r,s=hr.from(n.headers);let i=n.data;return O.forEach(t,function(o){i=o.call(r,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function f_(t){return!!(t&&t.__CANCEL__)}function ro(t,e,r){je.call(this,t??"canceled",je.ERR_CANCELED,e,r),this.name="CanceledError"}O.inherits(ro,je,{__CANCEL__:!0});function h_(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new je("Request failed with status code "+r.status,[je.ERR_BAD_REQUEST,je.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function _T(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function kT(t,e){t=t||10;const r=new Array(t),n=new Array(t);let s=0,i=0,a;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),d=n[i];a||(a=c),r[s]=l,n[s]=c;let f=i,h=0;for(;f!==s;)h+=r[f++],f=f%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),c-a<e)return;const p=d&&c-d;return p?Math.round(h*1e3/p):void 0}}function ST(t,e){let r=0,n=1e3/e,s,i;const a=(c,d=Date.now())=>{r=d,s=null,i&&(clearTimeout(i),i=null),t.apply(null,c)};return[(...c)=>{const d=Date.now(),f=d-r;f>=n?a(c,d):(s=c,i||(i=setTimeout(()=>{i=null,a(s)},n-f)))},()=>s&&a(s)]}const Hc=(t,e,r=3)=>{let n=0;const s=kT(50,250);return ST(i=>{const a=i.loaded,o=i.lengthComputable?i.total:void 0,l=a-n,c=s(l),d=a<=o;n=a;const f={loaded:a,total:o,progress:o?a/o:void 0,bytes:l,rate:c||void 0,estimated:c&&o&&d?(o-a)/c:void 0,event:i,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(f)},r)},Iy=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},My=t=>(...e)=>O.asap(()=>t(...e)),jT=fr.hasStandardBrowserEnv?function(){const e=fr.navigator&&/(msie|trident)/i.test(fr.navigator.userAgent),r=document.createElement("a");let n;function s(i){let a=i;return e&&(r.setAttribute("href",a),a=r.href),r.setAttribute("href",a),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=s(window.location.href),function(a){const o=O.isString(a)?s(a):a;return o.protocol===n.protocol&&o.host===n.host}}():function(){return function(){return!0}}(),NT=fr.hasStandardBrowserEnv?{write(t,e,r,n,s,i){const a=[t+"="+encodeURIComponent(e)];O.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),O.isString(n)&&a.push("path="+n),O.isString(s)&&a.push("domain="+s),i===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function ET(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function CT(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function p_(t,e){return t&&!ET(e)?CT(t,e):e}const Fy=t=>t instanceof hr?{...t}:t;function ji(t,e){e=e||{};const r={};function n(c,d,f){return O.isPlainObject(c)&&O.isPlainObject(d)?O.merge.call({caseless:f},c,d):O.isPlainObject(d)?O.merge({},d):O.isArray(d)?d.slice():d}function s(c,d,f){if(O.isUndefined(d)){if(!O.isUndefined(c))return n(void 0,c,f)}else return n(c,d,f)}function i(c,d){if(!O.isUndefined(d))return n(void 0,d)}function a(c,d){if(O.isUndefined(d)){if(!O.isUndefined(c))return n(void 0,c)}else return n(void 0,d)}function o(c,d,f){if(f in e)return n(c,d);if(f in t)return n(void 0,c)}const l={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(c,d)=>s(Fy(c),Fy(d),!0)};return O.forEach(Object.keys(Object.assign({},t,e)),function(d){const f=l[d]||s,h=f(t[d],e[d],d);O.isUndefined(h)&&f!==o||(r[d]=h)}),r}const m_=t=>{const e=ji({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:i,headers:a,auth:o}=e;e.headers=a=hr.from(a),e.url=u_(p_(e.baseURL,e.url),t.params,t.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let l;if(O.isFormData(r)){if(fr.hasStandardBrowserEnv||fr.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((l=a.getContentType())!==!1){const[c,...d]=l?l.split(";").map(f=>f.trim()).filter(Boolean):[];a.setContentType([c||"multipart/form-data",...d].join("; "))}}if(fr.hasStandardBrowserEnv&&(n&&O.isFunction(n)&&(n=n(e)),n||n!==!1&&jT(e.url))){const c=s&&i&&NT.read(i);c&&a.set(s,c)}return e},PT=typeof XMLHttpRequest<"u",RT=PT&&function(t){return new Promise(function(r,n){const s=m_(t);let i=s.data;const a=hr.from(s.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:c}=s,d,f,h,p,m;function y(){p&&p(),m&&m(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let w=new XMLHttpRequest;w.open(s.method.toUpperCase(),s.url,!0),w.timeout=s.timeout;function v(){if(!w)return;const x=hr.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),E={data:!o||o==="text"||o==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:x,config:t,request:w};h_(function(A){r(A),y()},function(A){n(A),y()},E),w=null}"onloadend"in w?w.onloadend=v:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(v)},w.onabort=function(){w&&(n(new je("Request aborted",je.ECONNABORTED,t,w)),w=null)},w.onerror=function(){n(new je("Network Error",je.ERR_NETWORK,t,w)),w=null},w.ontimeout=function(){let k=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const E=s.transitional||c_;s.timeoutErrorMessage&&(k=s.timeoutErrorMessage),n(new je(k,E.clarifyTimeoutError?je.ETIMEDOUT:je.ECONNABORTED,t,w)),w=null},i===void 0&&a.setContentType(null),"setRequestHeader"in w&&O.forEach(a.toJSON(),function(k,E){w.setRequestHeader(E,k)}),O.isUndefined(s.withCredentials)||(w.withCredentials=!!s.withCredentials),o&&o!=="json"&&(w.responseType=s.responseType),c&&([h,m]=Hc(c,!0),w.addEventListener("progress",h)),l&&w.upload&&([f,p]=Hc(l),w.upload.addEventListener("progress",f),w.upload.addEventListener("loadend",p)),(s.cancelToken||s.signal)&&(d=x=>{w&&(n(!x||x.type?new ro(null,t,w):x),w.abort(),w=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const g=_T(s.url);if(g&&fr.protocols.indexOf(g)===-1){n(new je("Unsupported protocol "+g+":",je.ERR_BAD_REQUEST,t));return}w.send(i||null)})},TT=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,s;const i=function(c){if(!s){s=!0,o();const d=c instanceof Error?c:this.reason;n.abort(d instanceof je?d:new ro(d instanceof Error?d.message:d))}};let a=e&&setTimeout(()=>{a=null,i(new je(`timeout ${e} of ms exceeded`,je.ETIMEDOUT))},e);const o=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),t=null)};t.forEach(c=>c.addEventListener("abort",i));const{signal:l}=n;return l.unsubscribe=()=>O.asap(o),l}},OT=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,s;for(;n<r;)s=n+e,yield t.slice(n,s),n=s},AT=async function*(t,e){for await(const r of LT(t))yield*OT(r,e)},LT=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},$y=(t,e,r,n)=>{const s=AT(t,e);let i=0,a,o=l=>{a||(a=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:c,value:d}=await s.next();if(c){o(),l.close();return}let f=d.byteLength;if(r){let h=i+=f;r(h)}l.enqueue(new Uint8Array(d))}catch(c){throw o(c),c}},cancel(l){return o(l),s.return()}},{highWaterMark:2})},Md=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",g_=Md&&typeof ReadableStream=="function",DT=Md&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),y_=(t,...e)=>{try{return!!t(...e)}catch{return!1}},IT=g_&&y_(()=>{let t=!1;const e=new Request(fr.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),Uy=64*1024,vp=g_&&y_(()=>O.isReadableStream(new Response("").body)),qc={stream:vp&&(t=>t.body)};Md&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!qc[e]&&(qc[e]=O.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new je(`Response type '${e}' is not supported`,je.ERR_NOT_SUPPORT,n)})})})(new Response);const MT=async t=>{if(t==null)return 0;if(O.isBlob(t))return t.size;if(O.isSpecCompliantForm(t))return(await new Request(fr.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(O.isArrayBufferView(t)||O.isArrayBuffer(t))return t.byteLength;if(O.isURLSearchParams(t)&&(t=t+""),O.isString(t))return(await DT(t)).byteLength},FT=async(t,e)=>{const r=O.toFiniteNumber(t.getContentLength());return r??MT(e)},$T=Md&&(async t=>{let{url:e,method:r,data:n,signal:s,cancelToken:i,timeout:a,onDownloadProgress:o,onUploadProgress:l,responseType:c,headers:d,withCredentials:f="same-origin",fetchOptions:h}=m_(t);c=c?(c+"").toLowerCase():"text";let p=TT([s,i&&i.toAbortSignal()],a),m;const y=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let w;try{if(l&&IT&&r!=="get"&&r!=="head"&&(w=await FT(d,n))!==0){let E=new Request(e,{method:"POST",body:n,duplex:"half"}),b;if(O.isFormData(n)&&(b=E.headers.get("content-type"))&&d.setContentType(b),E.body){const[A,P]=Iy(w,Hc(My(l)));n=$y(E.body,Uy,A,P)}}O.isString(f)||(f=f?"include":"omit");const v="credentials"in Request.prototype;m=new Request(e,{...h,signal:p,method:r.toUpperCase(),headers:d.normalize().toJSON(),body:n,duplex:"half",credentials:v?f:void 0});let g=await fetch(m);const x=vp&&(c==="stream"||c==="response");if(vp&&(o||x&&y)){const E={};["status","statusText","headers"].forEach(L=>{E[L]=g[L]});const b=O.toFiniteNumber(g.headers.get("content-length")),[A,P]=o&&Iy(b,Hc(My(o),!0))||[];g=new Response($y(g.body,Uy,A,()=>{P&&P(),y&&y()}),E)}c=c||"text";let k=await qc[O.findKey(qc,c)||"text"](g,t);return!x&&y&&y(),await new Promise((E,b)=>{h_(E,b,{data:k,headers:hr.from(g.headers),status:g.status,statusText:g.statusText,config:t,request:m})})}catch(v){throw y&&y(),v&&v.name==="TypeError"&&/fetch/i.test(v.message)?Object.assign(new je("Network Error",je.ERR_NETWORK,t,m),{cause:v.cause||v}):je.from(v,v&&v.code,t,m)}}),xp={http:eT,xhr:RT,fetch:$T};O.forEach(xp,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const zy=t=>`- ${t}`,UT=t=>O.isFunction(t)||t===null||t===!1,v_={getAdapter:t=>{t=O.isArray(t)?t:[t];const{length:e}=t;let r,n;const s={};for(let i=0;i<e;i++){r=t[i];let a;if(n=r,!UT(r)&&(n=xp[(a=String(r)).toLowerCase()],n===void 0))throw new je(`Unknown adapter '${a}'`);if(n)break;s[a||"#"+i]=n}if(!n){const i=Object.entries(s).map(([o,l])=>`adapter ${o} `+(l===!1?"is not supported by the environment":"is not available in the build"));let a=e?i.length>1?`since :
`+i.map(zy).join(`
`):" "+zy(i[0]):"as no adapter specified";throw new je("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return n},adapters:xp};function Df(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ro(null,t)}function By(t){return Df(t),t.headers=hr.from(t.headers),t.data=Lf.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),v_.getAdapter(t.adapter||iu.adapter)(t).then(function(n){return Df(t),n.data=Lf.call(t,t.transformResponse,n),n.headers=hr.from(n.headers),n},function(n){return f_(n)||(Df(t),n&&n.response&&(n.response.data=Lf.call(t,t.transformResponse,n.response),n.response.headers=hr.from(n.response.headers))),Promise.reject(n)})}const x_="1.7.7",Vm={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Vm[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const Vy={};Vm.transitional=function(e,r,n){function s(i,a){return"[Axios v"+x_+"] Transitional option '"+i+"'"+a+(n?". "+n:"")}return(i,a,o)=>{if(e===!1)throw new je(s(a," has been removed"+(r?" in "+r:"")),je.ERR_DEPRECATED);return r&&!Vy[a]&&(Vy[a]=!0,console.warn(s(a," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(i,a,o):!0}};function zT(t,e,r){if(typeof t!="object")throw new je("options must be an object",je.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let s=n.length;for(;s-- >0;){const i=n[s],a=e[i];if(a){const o=t[i],l=o===void 0||a(o,i,t);if(l!==!0)throw new je("option "+i+" must be "+l,je.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new je("Unknown option "+i,je.ERR_BAD_OPTION)}}const wp={assertOptions:zT,validators:Vm},Xn=wp.validators;let pi=class{constructor(e){this.defaults=e,this.interceptors={request:new Ly,response:new Ly}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let s;Error.captureStackTrace?Error.captureStackTrace(s={}):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=ji(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:i}=r;n!==void 0&&wp.assertOptions(n,{silentJSONParsing:Xn.transitional(Xn.boolean),forcedJSONParsing:Xn.transitional(Xn.boolean),clarifyTimeoutError:Xn.transitional(Xn.boolean)},!1),s!=null&&(O.isFunction(s)?r.paramsSerializer={serialize:s}:wp.assertOptions(s,{encode:Xn.function,serialize:Xn.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a=i&&O.merge(i.common,i[r.method]);i&&O.forEach(["delete","get","head","post","put","patch","common"],m=>{delete i[m]}),r.headers=hr.concat(a,i);const o=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(r)===!1||(l=l&&y.synchronous,o.unshift(y.fulfilled,y.rejected))});const c=[];this.interceptors.response.forEach(function(y){c.push(y.fulfilled,y.rejected)});let d,f=0,h;if(!l){const m=[By.bind(this),void 0];for(m.unshift.apply(m,o),m.push.apply(m,c),h=m.length,d=Promise.resolve(r);f<h;)d=d.then(m[f++],m[f++]);return d}h=o.length;let p=r;for(f=0;f<h;){const m=o[f++],y=o[f++];try{p=m(p)}catch(w){y.call(this,w);break}}try{d=By.call(this,p)}catch(m){return Promise.reject(m)}for(f=0,h=c.length;f<h;)d=d.then(c[f++],c[f++]);return d}getUri(e){e=ji(this.defaults,e);const r=p_(e.baseURL,e.url);return u_(r,e.params,e.paramsSerializer)}};O.forEach(["delete","get","head","options"],function(e){pi.prototype[e]=function(r,n){return this.request(ji(n||{},{method:e,url:r,data:(n||{}).data}))}});O.forEach(["post","put","patch"],function(e){function r(n){return function(i,a,o){return this.request(ji(o||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}pi.prototype[e]=r(),pi.prototype[e+"Form"]=r(!0)});let BT=class w_{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(s=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](s);n._listeners=null}),this.promise.then=s=>{let i;const a=new Promise(o=>{n.subscribe(o),i=o}).then(s);return a.cancel=function(){n.unsubscribe(i)},a},e(function(i,a,o){n.reason||(n.reason=new ro(i,a,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new w_(function(s){e=s}),cancel:e}}};function VT(t){return function(r){return t.apply(null,r)}}function HT(t){return O.isObject(t)&&t.isAxiosError===!0}const bp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(bp).forEach(([t,e])=>{bp[e]=t});function b_(t){const e=new pi(t),r=Jb(pi.prototype.request,e);return O.extend(r,pi.prototype,e,{allOwnKeys:!0}),O.extend(r,e,null,{allOwnKeys:!0}),r.create=function(s){return b_(ji(t,s))},r}const wt=b_(iu);wt.Axios=pi;wt.CanceledError=ro;wt.CancelToken=BT;wt.isCancel=f_;wt.VERSION=x_;wt.toFormData=Id;wt.AxiosError=je;wt.Cancel=wt.CanceledError;wt.all=function(e){return Promise.all(e)};wt.spread=VT;wt.isAxiosError=HT;wt.mergeConfig=ji;wt.AxiosHeaders=hr;wt.formToJSON=t=>d_(O.isHTMLForm(t)?new FormData(t):t);wt.getAdapter=v_.getAdapter;wt.HttpStatusCode=bp;wt.default=wt;const{Axios:K4,AxiosError:Q4,CanceledError:Z4,isCancel:G4,CancelToken:J4,VERSION:Y4,all:X4,Cancel:eA,isAxiosError:tA,spread:rA,toFormData:nA,AxiosHeaders:sA,HttpStatusCode:iA,formToJSON:aA,getAdapter:oA,mergeConfig:lA}=wt,qT="http://localhost:5000",Ot=wt.create({baseURL:qT,headers:{"Content-Type":"application/json"},timeout:15e3});Ot.interceptors.request.use(async t=>{var e;try{const{data:r,error:n}=await Ir.auth.getSession();n&&console.error("[API Client] Session error:",n.message);const s=(e=r.session)==null?void 0:e.access_token;s&&(t.headers=t.headers||{},t.headers.Authorization=`Bearer ${s}`)}catch(r){console.error("[API Client] Error getting session:",r.message)}return t});const Mo={list:t=>Ot.get("/products",{params:t}).then(e=>{var r;return{items:e.data,total:Number(((r=e.headers)==null?void 0:r["x-total-count"])||0)}}),create:t=>Ot.post("/products",t).then(e=>e.data),update:(t,e)=>Ot.put(`/products/${t}`,e).then(r=>r.data),remove:t=>Ot.delete(`/products/${t}`).then(e=>e.data)},WT={list:()=>Ot.get("/sales").then(t=>t.data),create:t=>Ot.post("/sales",t).then(e=>e.data)},Hy={get:t=>Ot.get("/reports",{params:{date_utc:t}}).then(e=>e.data),exportCSV:t=>Ot.get("/reports/export",{params:{date_utc:t},responseType:"blob"}).then(e=>e.data)},Wc={checkout:t=>Ot.post("/billing/checkout",{plan:t}).then(e=>e.data),portal:()=>Ot.post("/billing/portal").then(t=>t.data),config:()=>Ot.get("/billing/config").then(t=>t.data)},au={get:()=>Ot.get("/plan").then(t=>t.data)},KT={getLowStock:(t=10)=>Ot.get("/alerts/low-stock",{params:{threshold:t}}).then(e=>e.data)},QT={get:(t=30)=>Ot.get("/analytics",{params:{days:t}}).then(e=>e.data)},ZT={status:()=>Ot.get("/notifications/status").then(t=>t.data),sendLowStockAlert:t=>Ot.post("/notifications/low-stock",t).then(e=>e.data),sendReceipt:t=>Ot.post("/receipts/send",t).then(e=>e.data)};var ou=t=>t.type==="checkbox",oa=t=>t instanceof Date,Jt=t=>t==null;const __=t=>typeof t=="object";var jt=t=>!Jt(t)&&!Array.isArray(t)&&__(t)&&!oa(t),GT=t=>jt(t)&&t.target?ou(t.target)?t.target.checked:t.target.value:t,JT=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,YT=(t,e)=>t.has(JT(e)),XT=t=>{const e=t.constructor&&t.constructor.prototype;return jt(e)&&e.hasOwnProperty("isPrototypeOf")},Hm=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Rr(t){let e;const r=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(Hm&&(t instanceof Blob||t instanceof FileList))&&(r||jt(t)))if(e=r?[]:{},!r&&!XT(t))e=t;else for(const n in t)t.hasOwnProperty(n)&&(e[n]=Rr(t[n]));else return t;return e}var Fd=t=>Array.isArray(t)?t.filter(Boolean):[],vt=t=>t===void 0,ee=(t,e,r)=>{if(!e||!jt(t))return r;const n=Fd(e.split(/[,[\].]+?/)).reduce((s,i)=>Jt(s)?s:s[i],t);return vt(n)||n===t?vt(t[e])?r:t[e]:n},cn=t=>typeof t=="boolean",qm=t=>/^\w*$/.test(t),k_=t=>Fd(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Ze=(t,e,r)=>{let n=-1;const s=qm(e)?[e]:k_(e),i=s.length,a=i-1;for(;++n<i;){const o=s[n];let l=r;if(n!==a){const c=t[o];l=jt(c)||Array.isArray(c)?c:isNaN(+s[n+1])?{}:[]}if(o==="__proto__")return;t[o]=l,t=t[o]}return t};const qy={BLUR:"blur",FOCUS_OUT:"focusout"},Jr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Cn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};gr.createContext(null);var eO=(t,e,r,n=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const a=i;return e._proxyFormState[a]!==Jr.all&&(e._proxyFormState[a]=!n||Jr.all),t[a]}});return s},ar=t=>jt(t)&&!Object.keys(t).length,tO=(t,e,r,n)=>{r(t);const{name:s,...i}=t;return ar(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(a=>e[a]===Jr.all)},lc=t=>Array.isArray(t)?t:[t];function rO(t){const e=gr.useRef(t);e.current=t,gr.useEffect(()=>{const r=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{r&&r.unsubscribe()}},[t.disabled])}var yn=t=>typeof t=="string",nO=(t,e,r,n,s)=>yn(t)?(n&&e.watch.add(t),ee(r,t,s)):Array.isArray(t)?t.map(i=>(n&&e.watch.add(i),ee(r,i))):(n&&(e.watchAll=!0),r),S_=(t,e,r,n,s)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:s||!0}}:{},Wy=t=>({isOnSubmit:!t||t===Jr.onSubmit,isOnBlur:t===Jr.onBlur,isOnChange:t===Jr.onChange,isOnAll:t===Jr.all,isOnTouch:t===Jr.onTouched}),Ky=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const rl=(t,e,r,n)=>{for(const s of r||Object.keys(t)){const i=ee(t,s);if(i){const{_f:a,...o}=i;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],s)&&!n)return!0;if(a.ref&&e(a.ref,a.name)&&!n)return!0;if(rl(o,e))break}else if(jt(o)&&rl(o,e))break}}};var sO=(t,e,r)=>{const n=lc(ee(t,r));return Ze(n,"root",e[r]),Ze(t,r,n),t},Wm=t=>t.type==="file",In=t=>typeof t=="function",Kc=t=>{if(!Hm)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},uc=t=>yn(t),Km=t=>t.type==="radio",Qc=t=>t instanceof RegExp;const Qy={value:!1,isValid:!1},Zy={value:!0,isValid:!0};var j_=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!vt(t[0].attributes.value)?vt(t[0].value)||t[0].value===""?Zy:{value:t[0].value,isValid:!0}:Zy:Qy}return Qy};const Gy={isValid:!1,value:null};var N_=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,Gy):Gy;function Jy(t,e,r="validate"){if(uc(t)||Array.isArray(t)&&t.every(uc)||cn(t)&&!t)return{type:r,message:uc(t)?t:"",ref:e}}var Hi=t=>jt(t)&&!Qc(t)?t:{value:t,message:""},Yy=async(t,e,r,n,s)=>{const{ref:i,refs:a,required:o,maxLength:l,minLength:c,min:d,max:f,pattern:h,validate:p,name:m,valueAsNumber:y,mount:w,disabled:v}=t._f,g=ee(e,m);if(!w||v)return{};const x=a?a[0]:i,k=D=>{n&&x.reportValidity&&(x.setCustomValidity(cn(D)?"":D||""),x.reportValidity())},E={},b=Km(i),A=ou(i),P=b||A,L=(y||Wm(i))&&vt(i.value)&&vt(g)||Kc(i)&&i.value===""||g===""||Array.isArray(g)&&!g.length,F=S_.bind(null,m,r,E),K=(D,$,I,se=Cn.maxLength,we=Cn.minLength)=>{const ue=D?$:I;E[m]={type:D?se:we,message:ue,ref:i,...F(D?se:we,ue)}};if(s?!Array.isArray(g)||!g.length:o&&(!P&&(L||Jt(g))||cn(g)&&!g||A&&!j_(a).isValid||b&&!N_(a).isValid)){const{value:D,message:$}=uc(o)?{value:!!o,message:o}:Hi(o);if(D&&(E[m]={type:Cn.required,message:$,ref:x,...F(Cn.required,$)},!r))return k($),E}if(!L&&(!Jt(d)||!Jt(f))){let D,$;const I=Hi(f),se=Hi(d);if(!Jt(g)&&!isNaN(g)){const we=i.valueAsNumber||g&&+g;Jt(I.value)||(D=we>I.value),Jt(se.value)||($=we<se.value)}else{const we=i.valueAsDate||new Date(g),ue=ae=>new Date(new Date().toDateString()+" "+ae),B=i.type=="time",X=i.type=="week";yn(I.value)&&g&&(D=B?ue(g)>ue(I.value):X?g>I.value:we>new Date(I.value)),yn(se.value)&&g&&($=B?ue(g)<ue(se.value):X?g<se.value:we<new Date(se.value))}if((D||$)&&(K(!!D,I.message,se.message,Cn.max,Cn.min),!r))return k(E[m].message),E}if((l||c)&&!L&&(yn(g)||s&&Array.isArray(g))){const D=Hi(l),$=Hi(c),I=!Jt(D.value)&&g.length>+D.value,se=!Jt($.value)&&g.length<+$.value;if((I||se)&&(K(I,D.message,$.message),!r))return k(E[m].message),E}if(h&&!L&&yn(g)){const{value:D,message:$}=Hi(h);if(Qc(D)&&!g.match(D)&&(E[m]={type:Cn.pattern,message:$,ref:i,...F(Cn.pattern,$)},!r))return k($),E}if(p){if(In(p)){const D=await p(g,e),$=Jy(D,x);if($&&(E[m]={...$,...F(Cn.validate,$.message)},!r))return k($.message),E}else if(jt(p)){let D={};for(const $ in p){if(!ar(D)&&!r)break;const I=Jy(await p[$](g,e),x,$);I&&(D={...I,...F($,I.message)},k(I.message),r&&(E[m]=D))}if(!ar(D)&&(E[m]={ref:x,...D},!r))return E}}return k(!0),E};function iO(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=vt(t)?n++:t[e[n++]];return t}function aO(t){for(const e in t)if(t.hasOwnProperty(e)&&!vt(t[e]))return!1;return!0}function Nt(t,e){const r=Array.isArray(e)?e:qm(e)?[e]:k_(e),n=r.length===1?t:iO(t,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&(jt(n)&&ar(n)||Array.isArray(n)&&aO(n))&&Nt(t,r.slice(0,-1)),t}var If=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},Zc=t=>Jt(t)||!__(t);function ds(t,e){if(Zc(t)||Zc(e))return t===e;if(oa(t)&&oa(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const s of r){const i=t[s];if(!n.includes(s))return!1;if(s!=="ref"){const a=e[s];if(oa(i)&&oa(a)||jt(i)&&jt(a)||Array.isArray(i)&&Array.isArray(a)?!ds(i,a):i!==a)return!1}}return!0}var E_=t=>t.type==="select-multiple",oO=t=>Km(t)||ou(t),Mf=t=>Kc(t)&&t.isConnected,C_=t=>{for(const e in t)if(In(t[e]))return!0;return!1};function Gc(t,e={}){const r=Array.isArray(t);if(jt(t)||r)for(const n in t)Array.isArray(t[n])||jt(t[n])&&!C_(t[n])?(e[n]=Array.isArray(t[n])?[]:{},Gc(t[n],e[n])):Jt(t[n])||(e[n]=!0);return e}function P_(t,e,r){const n=Array.isArray(t);if(jt(t)||n)for(const s in t)Array.isArray(t[s])||jt(t[s])&&!C_(t[s])?vt(e)||Zc(r[s])?r[s]=Array.isArray(t[s])?Gc(t[s],[]):{...Gc(t[s])}:P_(t[s],Jt(e)?{}:e[s],r[s]):r[s]=!ds(t[s],e[s]);return r}var Bu=(t,e)=>P_(t,e,Gc(e)),R_=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>vt(t)?t:e?t===""?NaN:t&&+t:r&&yn(t)?new Date(t):n?n(t):t;function Ff(t){const e=t.ref;if(!(t.refs?t.refs.every(r=>r.disabled):e.disabled))return Wm(e)?e.files:Km(e)?N_(t.refs).value:E_(e)?[...e.selectedOptions].map(({value:r})=>r):ou(e)?j_(t.refs).value:R_(vt(e.value)?t.ref.value:e.value,t)}var lO=(t,e,r,n)=>{const s={};for(const i of t){const a=ee(e,i);a&&Ze(s,i,a._f)}return{criteriaMode:r,names:[...t],fields:s,shouldUseNativeValidation:n}},jo=t=>vt(t)?t:Qc(t)?t.source:jt(t)?Qc(t.value)?t.value.source:t.value:t;const Xy="AsyncFunction";var uO=t=>(!t||!t.validate)&&!!(In(t.validate)&&t.validate.constructor.name===Xy||jt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===Xy)),cO=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function ev(t,e,r){const n=ee(t,r);if(n||qm(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),a=ee(e,i),o=ee(t,i);if(a&&!Array.isArray(a)&&r!==i)return{name:r};if(o&&o.type)return{name:i,error:o};s.pop()}return{name:r}}var dO=(t,e,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(e||t):(r?n.isOnBlur:s.isOnBlur)?!t:(r?n.isOnChange:s.isOnChange)?t:!0,fO=(t,e)=>!Fd(ee(t,e)).length&&Nt(t,e);const hO={mode:Jr.onSubmit,reValidateMode:Jr.onChange,shouldFocusError:!0};function pO(t={}){let e={...hO,...t},r={submitCount:0,isDirty:!1,isLoading:In(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},s=jt(e.defaultValues)||jt(e.values)?Rr(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:Rr(s),a={action:!1,mount:!1,watch:!1},o={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:If(),array:If(),state:If()},h=Wy(e.mode),p=Wy(e.reValidateMode),m=e.criteriaMode===Jr.all,y=j=>R=>{clearTimeout(c),c=setTimeout(j,R)},w=async j=>{if(d.isValid||j){const R=e.resolver?ar((await P()).errors):await F(n,!0);R!==r.isValid&&f.state.next({isValid:R})}},v=(j,R)=>{(d.isValidating||d.validatingFields)&&((j||Array.from(o.mount)).forEach(M=>{M&&(R?Ze(r.validatingFields,M,R):Nt(r.validatingFields,M))}),f.state.next({validatingFields:r.validatingFields,isValidating:!ar(r.validatingFields)}))},g=(j,R=[],M,Z,Q=!0,V=!0)=>{if(Z&&M){if(a.action=!0,V&&Array.isArray(ee(n,j))){const le=M(ee(n,j),Z.argA,Z.argB);Q&&Ze(n,j,le)}if(V&&Array.isArray(ee(r.errors,j))){const le=M(ee(r.errors,j),Z.argA,Z.argB);Q&&Ze(r.errors,j,le),fO(r.errors,j)}if(d.touchedFields&&V&&Array.isArray(ee(r.touchedFields,j))){const le=M(ee(r.touchedFields,j),Z.argA,Z.argB);Q&&Ze(r.touchedFields,j,le)}d.dirtyFields&&(r.dirtyFields=Bu(s,i)),f.state.next({name:j,isDirty:D(j,R),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Ze(i,j,R)},x=(j,R)=>{Ze(r.errors,j,R),f.state.next({errors:r.errors})},k=j=>{r.errors=j,f.state.next({errors:r.errors,isValid:!1})},E=(j,R,M,Z)=>{const Q=ee(n,j);if(Q){const V=ee(i,j,vt(M)?ee(s,j):M);vt(V)||Z&&Z.defaultChecked||R?Ze(i,j,R?V:Ff(Q._f)):se(j,V),a.mount&&w()}},b=(j,R,M,Z,Q)=>{let V=!1,le=!1;const ze={name:j},ht=!!(ee(n,j)&&ee(n,j)._f&&ee(n,j)._f.disabled);if(!M||Z){d.isDirty&&(le=r.isDirty,r.isDirty=ze.isDirty=D(),V=le!==ze.isDirty);const Ye=ht||ds(ee(s,j),R);le=!!(!ht&&ee(r.dirtyFields,j)),Ye||ht?Nt(r.dirtyFields,j):Ze(r.dirtyFields,j,!0),ze.dirtyFields=r.dirtyFields,V=V||d.dirtyFields&&le!==!Ye}if(M){const Ye=ee(r.touchedFields,j);Ye||(Ze(r.touchedFields,j,M),ze.touchedFields=r.touchedFields,V=V||d.touchedFields&&Ye!==M)}return V&&Q&&f.state.next(ze),V?ze:{}},A=(j,R,M,Z)=>{const Q=ee(r.errors,j),V=d.isValid&&cn(R)&&r.isValid!==R;if(t.delayError&&M?(l=y(()=>x(j,M)),l(t.delayError)):(clearTimeout(c),l=null,M?Ze(r.errors,j,M):Nt(r.errors,j)),(M?!ds(Q,M):Q)||!ar(Z)||V){const le={...Z,...V&&cn(R)?{isValid:R}:{},errors:r.errors,name:j};r={...r,...le},f.state.next(le)}},P=async j=>{v(j,!0);const R=await e.resolver(i,e.context,lO(j||o.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return v(j),R},L=async j=>{const{errors:R}=await P(j);if(j)for(const M of j){const Z=ee(R,M);Z?Ze(r.errors,M,Z):Nt(r.errors,M)}else r.errors=R;return R},F=async(j,R,M={valid:!0})=>{for(const Z in j){const Q=j[Z];if(Q){const{_f:V,...le}=Q;if(V){const ze=o.array.has(V.name),ht=Q._f&&uO(Q._f);ht&&d.validatingFields&&v([Z],!0);const Ye=await Yy(Q,i,m,e.shouldUseNativeValidation&&!R,ze);if(ht&&d.validatingFields&&v([Z]),Ye[V.name]&&(M.valid=!1,R))break;!R&&(ee(Ye,V.name)?ze?sO(r.errors,Ye,V.name):Ze(r.errors,V.name,Ye[V.name]):Nt(r.errors,V.name))}!ar(le)&&await F(le,R,M)}}return M.valid},K=()=>{for(const j of o.unMount){const R=ee(n,j);R&&(R._f.refs?R._f.refs.every(M=>!Mf(M)):!Mf(R._f.ref))&&rt(j)}o.unMount=new Set},D=(j,R)=>(j&&R&&Ze(i,j,R),!ds(de(),s)),$=(j,R,M)=>nO(j,o,{...a.mount?i:vt(R)?s:yn(j)?{[j]:R}:R},M,R),I=j=>Fd(ee(a.mount?i:s,j,t.shouldUnregister?ee(s,j,[]):[])),se=(j,R,M={})=>{const Z=ee(n,j);let Q=R;if(Z){const V=Z._f;V&&(!V.disabled&&Ze(i,j,R_(R,V)),Q=Kc(V.ref)&&Jt(R)?"":R,E_(V.ref)?[...V.ref.options].forEach(le=>le.selected=Q.includes(le.value)):V.refs?ou(V.ref)?V.refs.length>1?V.refs.forEach(le=>(!le.defaultChecked||!le.disabled)&&(le.checked=Array.isArray(Q)?!!Q.find(ze=>ze===le.value):Q===le.value)):V.refs[0]&&(V.refs[0].checked=!!Q):V.refs.forEach(le=>le.checked=le.value===Q):Wm(V.ref)?V.ref.value="":(V.ref.value=Q,V.ref.type||f.values.next({name:j,values:{...i}})))}(M.shouldDirty||M.shouldTouch)&&b(j,Q,M.shouldTouch,M.shouldDirty,!0),M.shouldValidate&&ae(j)},we=(j,R,M)=>{for(const Z in R){const Q=R[Z],V=`${j}.${Z}`,le=ee(n,V);(o.array.has(j)||!Zc(Q)||le&&!le._f)&&!oa(Q)?we(V,Q,M):se(V,Q,M)}},ue=(j,R,M={})=>{const Z=ee(n,j),Q=o.array.has(j),V=Rr(R);Ze(i,j,V),Q?(f.array.next({name:j,values:{...i}}),(d.isDirty||d.dirtyFields)&&M.shouldDirty&&f.state.next({name:j,dirtyFields:Bu(s,i),isDirty:D(j,V)})):Z&&!Z._f&&!Jt(V)?we(j,V,M):se(j,V,M),Ky(j,o)&&f.state.next({...r}),f.values.next({name:a.mount?j:void 0,values:{...i}})},B=async j=>{a.mount=!0;const R=j.target;let M=R.name,Z=!0;const Q=ee(n,M),V=()=>R.type?Ff(Q._f):GT(j),le=ze=>{Z=Number.isNaN(ze)||ds(ze,ee(i,M,ze))};if(Q){let ze,ht;const Ye=V(),Lt=j.type===qy.BLUR||j.type===qy.FOCUS_OUT,uu=!cO(Q._f)&&!e.resolver&&!ee(r.errors,M)&&!Q._f.deps||dO(Lt,ee(r.touchedFields,M),r.isSubmitted,p,h),Jn=Ky(M,o,Lt);Ze(i,M,Ye),Lt?(Q._f.onBlur&&Q._f.onBlur(j),l&&l(0)):Q._f.onChange&&Q._f.onChange(j);const no=b(M,Ye,Lt,!1),an=!ar(no)||Jn;if(!Lt&&f.values.next({name:M,type:j.type,values:{...i}}),uu)return d.isValid&&(t.mode==="onBlur"?Lt&&w():w()),an&&f.state.next({name:M,...Jn?{}:no});if(!Lt&&Jn&&f.state.next({...r}),e.resolver){const{errors:so}=await P([M]);if(le(Ye),Z){const cu=ev(r.errors,n,M),io=ev(so,n,cu.name||M);ze=io.error,M=io.name,ht=ar(so)}}else v([M],!0),ze=(await Yy(Q,i,m,e.shouldUseNativeValidation))[M],v([M]),le(Ye),Z&&(ze?ht=!1:d.isValid&&(ht=await F(n,!0)));Z&&(Q._f.deps&&ae(Q._f.deps),A(M,ht,ze,no))}},X=(j,R)=>{if(ee(r.errors,R)&&j.focus)return j.focus(),1},ae=async(j,R={})=>{let M,Z;const Q=lc(j);if(e.resolver){const V=await L(vt(j)?j:Q);M=ar(V),Z=j?!Q.some(le=>ee(V,le)):M}else j?(Z=(await Promise.all(Q.map(async V=>{const le=ee(n,V);return await F(le&&le._f?{[V]:le}:le)}))).every(Boolean),!(!Z&&!r.isValid)&&w()):Z=M=await F(n);return f.state.next({...!yn(j)||d.isValid&&M!==r.isValid?{}:{name:j},...e.resolver||!j?{isValid:M}:{},errors:r.errors}),R.shouldFocus&&!Z&&rl(n,X,j?Q:o.mount),Z},de=j=>{const R={...a.mount?i:s};return vt(j)?R:yn(j)?ee(R,j):j.map(M=>ee(R,M))},Se=(j,R)=>({invalid:!!ee((R||r).errors,j),isDirty:!!ee((R||r).dirtyFields,j),error:ee((R||r).errors,j),isValidating:!!ee(r.validatingFields,j),isTouched:!!ee((R||r).touchedFields,j)}),W=j=>{j&&lc(j).forEach(R=>Nt(r.errors,R)),f.state.next({errors:j?r.errors:{}})},$e=(j,R,M)=>{const Z=(ee(n,j,{_f:{}})._f||{}).ref,Q=ee(r.errors,j)||{},{ref:V,message:le,type:ze,...ht}=Q;Ze(r.errors,j,{...ht,...R,ref:Z}),f.state.next({name:j,errors:r.errors,isValid:!1}),M&&M.shouldFocus&&Z&&Z.focus&&Z.focus()},it=(j,R)=>In(j)?f.values.subscribe({next:M=>j($(void 0,R),M)}):$(j,R,!0),rt=(j,R={})=>{for(const M of j?lc(j):o.mount)o.mount.delete(M),o.array.delete(M),R.keepValue||(Nt(n,M),Nt(i,M)),!R.keepError&&Nt(r.errors,M),!R.keepDirty&&Nt(r.dirtyFields,M),!R.keepTouched&&Nt(r.touchedFields,M),!R.keepIsValidating&&Nt(r.validatingFields,M),!e.shouldUnregister&&!R.keepDefaultValue&&Nt(s,M);f.values.next({values:{...i}}),f.state.next({...r,...R.keepDirty?{isDirty:D()}:{}}),!R.keepIsValid&&w()},U=({disabled:j,name:R,field:M,fields:Z,value:Q})=>{if(cn(j)&&a.mount||j){const V=j?void 0:vt(Q)?Ff(M?M._f:ee(Z,R)._f):Q;Ze(i,R,V),b(R,V,!1,!1,!0)}},_e=(j,R={})=>{let M=ee(n,j);const Z=cn(R.disabled)||cn(t.disabled);return Ze(n,j,{...M||{},_f:{...M&&M._f?M._f:{ref:{name:j}},name:j,mount:!0,...R}}),o.mount.add(j),M?U({field:M,disabled:cn(R.disabled)?R.disabled:t.disabled,name:j,value:R.value}):E(j,!0,R.value),{...Z?{disabled:R.disabled||t.disabled}:{},...e.progressive?{required:!!R.required,min:jo(R.min),max:jo(R.max),minLength:jo(R.minLength),maxLength:jo(R.maxLength),pattern:jo(R.pattern)}:{},name:j,onChange:B,onBlur:B,ref:Q=>{if(Q){_e(j,R),M=ee(n,j);const V=vt(Q.value)&&Q.querySelectorAll&&Q.querySelectorAll("input,select,textarea")[0]||Q,le=oO(V),ze=M._f.refs||[];if(le?ze.find(ht=>ht===V):V===M._f.ref)return;Ze(n,j,{_f:{...M._f,...le?{refs:[...ze.filter(Mf),V,...Array.isArray(ee(s,j))?[{}]:[]],ref:{type:V.type,name:j}}:{ref:V}}}),E(j,!1,void 0,V)}else M=ee(n,j,{}),M._f&&(M._f.mount=!1),(e.shouldUnregister||R.shouldUnregister)&&!(YT(o.array,j)&&a.action)&&o.unMount.add(j)}}},Pe=()=>e.shouldFocusError&&rl(n,X,o.mount),ft=j=>{cn(j)&&(f.state.next({disabled:j}),rl(n,(R,M)=>{const Z=ee(n,M);Z&&(R.disabled=Z._f.disabled||j,Array.isArray(Z._f.refs)&&Z._f.refs.forEach(Q=>{Q.disabled=Z._f.disabled||j}))},0,!1))},xe=(j,R)=>async M=>{let Z;M&&(M.preventDefault&&M.preventDefault(),M.persist&&M.persist());let Q=Rr(i);if(f.state.next({isSubmitting:!0}),e.resolver){const{errors:V,values:le}=await P();r.errors=V,Q=le}else await F(n);if(Nt(r.errors,"root"),ar(r.errors)){f.state.next({errors:{}});try{await j(Q,M)}catch(V){Z=V}}else R&&await R({...r.errors},M),Pe(),setTimeout(Pe);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ar(r.errors)&&!Z,submitCount:r.submitCount+1,errors:r.errors}),Z)throw Z},$t=(j,R={})=>{ee(n,j)&&(vt(R.defaultValue)?ue(j,Rr(ee(s,j))):(ue(j,R.defaultValue),Ze(s,j,Rr(R.defaultValue))),R.keepTouched||Nt(r.touchedFields,j),R.keepDirty||(Nt(r.dirtyFields,j),r.isDirty=R.defaultValue?D(j,Rr(ee(s,j))):D()),R.keepError||(Nt(r.errors,j),d.isValid&&w()),f.state.next({...r}))},Je=(j,R={})=>{const M=j?Rr(j):s,Z=Rr(M),Q=ar(j),V=Q?s:Z;if(R.keepDefaultValues||(s=M),!R.keepValues){if(R.keepDirtyValues)for(const le of o.mount)ee(r.dirtyFields,le)?Ze(V,le,ee(i,le)):ue(le,ee(V,le));else{if(Hm&&vt(j))for(const le of o.mount){const ze=ee(n,le);if(ze&&ze._f){const ht=Array.isArray(ze._f.refs)?ze._f.refs[0]:ze._f.ref;if(Kc(ht)){const Ye=ht.closest("form");if(Ye){Ye.reset();break}}}}n={}}i=t.shouldUnregister?R.keepDefaultValues?Rr(s):{}:Rr(V),f.array.next({values:{...V}}),f.values.next({values:{...V}})}o={mount:R.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!d.isValid||!!R.keepIsValid||!!R.keepDirtyValues,a.watch=!!t.shouldUnregister,f.state.next({submitCount:R.keepSubmitCount?r.submitCount:0,isDirty:Q?!1:R.keepDirty?r.isDirty:!!(R.keepDefaultValues&&!ds(j,s)),isSubmitted:R.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Q?{}:R.keepDirtyValues?R.keepDefaultValues&&i?Bu(s,i):r.dirtyFields:R.keepDefaultValues&&j?Bu(s,j):R.keepDirty?r.dirtyFields:{},touchedFields:R.keepTouched?r.touchedFields:{},errors:R.keepErrors?r.errors:{},isSubmitSuccessful:R.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Kt=(j,R)=>Je(In(j)?j(i):j,R);return{control:{register:_e,unregister:rt,getFieldState:Se,handleSubmit:xe,setError:$e,_executeSchema:P,_getWatch:$,_getDirty:D,_updateValid:w,_removeUnmounted:K,_updateFieldArray:g,_updateDisabledField:U,_getFieldArray:I,_reset:Je,_resetDefaultValues:()=>In(e.defaultValues)&&e.defaultValues().then(j=>{Kt(j,e.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:j=>{r={...r,...j}},_disableForm:ft,_subjects:f,_proxyFormState:d,_setErrors:k,get _fields(){return n},get _formValues(){return i},get _state(){return a},set _state(j){a=j},get _defaultValues(){return s},get _names(){return o},set _names(j){o=j},get _formState(){return r},set _formState(j){r=j},get _options(){return e},set _options(j){e={...e,...j}}},trigger:ae,register:_e,handleSubmit:xe,watch:it,setValue:ue,getValues:de,reset:Kt,resetField:$t,clearErrors:W,unregister:rt,setError:$e,setFocus:(j,R={})=>{const M=ee(n,j),Z=M&&M._f;if(Z){const Q=Z.refs?Z.refs[0]:Z.ref;Q.focus&&(Q.focus(),R.shouldSelect&&Q.select())}},getFieldState:Se}}function T_(t={}){const e=gr.useRef(),r=gr.useRef(),[n,s]=gr.useState({isDirty:!1,isValidating:!1,isLoading:In(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:In(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...pO(t),formState:n});const i=e.current.control;return i._options=t,rO({subject:i._subjects.state,next:a=>{tO(a,i._proxyFormState,i._updateFormState)&&s({...i._formState})}}),gr.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),gr.useEffect(()=>{if(i._proxyFormState.isDirty){const a=i._getDirty();a!==n.isDirty&&i._subjects.state.next({isDirty:a})}},[i,n.isDirty]),gr.useEffect(()=>{t.values&&!ds(t.values,r.current)?(i._reset(t.values,i._options.resetOptions),r.current=t.values,s(a=>({...a}))):i._resetDefaultValues()},[t.values,i]),gr.useEffect(()=>{t.errors&&i._setErrors(t.errors)},[t.errors,i]),gr.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),gr.useEffect(()=>{t.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[t.shouldUnregister,i]),e.current.formState=eO(n,i),e.current}var Ue;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function r(s){throw new Error}t.assertNever=r,t.arrayToEnum=s=>{const i={};for(const a of s)i[a]=a;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(o=>typeof s[s[o]]!="number"),a={};for(const o of i)a[o]=s[o];return t.objectValues(a)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&i.push(a);return i},t.find=(s,i)=>{for(const a of s)if(i(a))return a},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}t.joinValues=n,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Ue||(Ue={}));var _p;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(_p||(_p={}));const Y=Ue.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),fs=t=>{switch(typeof t){case"undefined":return Y.undefined;case"string":return Y.string;case"number":return isNaN(t)?Y.nan:Y.number;case"boolean":return Y.boolean;case"function":return Y.function;case"bigint":return Y.bigint;case"symbol":return Y.symbol;case"object":return Array.isArray(t)?Y.array:t===null?Y.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Y.promise:typeof Map<"u"&&t instanceof Map?Y.map:typeof Set<"u"&&t instanceof Set?Y.set:typeof Date<"u"&&t instanceof Date?Y.date:Y.object;default:return Y.unknown}},q=Ue.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),mO=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Nr extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const r=e||function(i){return i.message},n={_errors:[]},s=i=>{for(const a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)n._errors.push(r(a));else{let o=n,l=0;for(;l<a.path.length;){const c=a.path[l];l===a.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(r(a))):o[c]=o[c]||{_errors:[]},o=o[c],l++}}};return s(this),n}static assert(e){if(!(e instanceof Nr))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ue.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const s of this.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(e(s))):n.push(e(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Nr.create=t=>new Nr(t);const Ha=(t,e)=>{let r;switch(t.code){case q.invalid_type:t.received===Y.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case q.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,Ue.jsonStringifyReplacer)}`;break;case q.unrecognized_keys:r=`Unrecognized key(s) in object: ${Ue.joinValues(t.keys,", ")}`;break;case q.invalid_union:r="Invalid input";break;case q.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Ue.joinValues(t.options)}`;break;case q.invalid_enum_value:r=`Invalid enum value. Expected ${Ue.joinValues(t.options)}, received '${t.received}'`;break;case q.invalid_arguments:r="Invalid function arguments";break;case q.invalid_return_type:r="Invalid function return type";break;case q.invalid_date:r="Invalid date";break;case q.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:Ue.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case q.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case q.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case q.custom:r="Invalid input";break;case q.invalid_intersection_types:r="Intersection results could not be merged";break;case q.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case q.not_finite:r="Number must be finite";break;default:r=e.defaultError,Ue.assertNever(t)}return{message:r}};let O_=Ha;function gO(t){O_=t}function Jc(){return O_}const Yc=t=>{const{data:e,path:r,errorMaps:n,issueData:s}=t,i=[...r,...s.path||[]],a={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let o="";const l=n.filter(c=>!!c).slice().reverse();for(const c of l)o=c(a,{data:e,defaultError:o}).message;return{...s,path:i,message:o}},yO=[];function G(t,e){const r=Jc(),n=Yc({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===Ha?void 0:Ha].filter(s=>!!s)});t.common.issues.push(n)}class qt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const s of r){if(s.status==="aborted")return ve;s.status==="dirty"&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const s of r){const i=await s.key,a=await s.value;n.push({key:i,value:a})}return qt.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const s of r){const{key:i,value:a}=s;if(i.status==="aborted"||a.status==="aborted")return ve;i.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||s.alwaysSet)&&(n[i.value]=a.value)}return{status:e.value,value:n}}}const ve=Object.freeze({status:"aborted"}),la=t=>({status:"dirty",value:t}),Xt=t=>({status:"valid",value:t}),kp=t=>t.status==="aborted",Sp=t=>t.status==="dirty",Rl=t=>t.status==="valid",Tl=t=>typeof Promise<"u"&&t instanceof Promise;function Xc(t,e,r,n){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function A_(t,e,r,n,s){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,r),r}var ce;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ce||(ce={}));var Fo,$o;class kn{constructor(e,r,n,s){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const tv=(t,e)=>{if(Rl(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Nr(t.common.issues);return this._error=r,this._error}}};function Ne(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:s}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(a,o)=>{var l,c;const{message:d}=t;return a.code==="invalid_enum_value"?{message:d??o.defaultError}:typeof o.data>"u"?{message:(l=d??n)!==null&&l!==void 0?l:o.defaultError}:a.code!=="invalid_type"?{message:o.defaultError}:{message:(c=d??r)!==null&&c!==void 0?c:o.defaultError}},description:s}}class Ce{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return fs(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:fs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new qt,ctx:{common:e.parent.common,data:e.data,parsedType:fs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(Tl(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;const s={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:fs(e)},i=this._parseSync({data:e,path:s.path,parent:s});return tv(s,i)}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:fs(e)},s=this._parse({data:e,path:n.path,parent:n}),i=await(Tl(s)?s:Promise.resolve(s));return tv(n,i)}refine(e,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const a=e(s),o=()=>i.addIssue({code:q.custom,...n(s)});return typeof Promise<"u"&&a instanceof Promise?a.then(l=>l?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(e,r){return this._refinement((n,s)=>e(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(e){return new nn({schema:this,typeName:ye.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return bn.create(this,this._def)}nullable(){return $s.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return tn.create(this,this._def)}promise(){return Wa.create(this,this._def)}or(e){return Dl.create([this,e],this._def)}and(e){return Il.create(this,e,this._def)}transform(e){return new nn({...Ne(this._def),schema:this,typeName:ye.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new zl({...Ne(this._def),innerType:this,defaultValue:r,typeName:ye.ZodDefault})}brand(){return new Qm({typeName:ye.ZodBranded,type:this,...Ne(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new Bl({...Ne(this._def),innerType:this,catchValue:r,typeName:ye.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return lu.create(this,e)}readonly(){return Vl.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const vO=/^c[^\s-]{8,}$/i,xO=/^[0-9a-z]+$/,wO=/^[0-9A-HJKMNP-TV-Z]{26}$/,bO=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,_O=/^[a-z0-9_-]{21}$/i,kO=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,SO=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,jO="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let $f;const NO=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,EO=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,CO=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,L_="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",PO=new RegExp(`^${L_}$`);function D_(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function RO(t){return new RegExp(`^${D_(t)}$`)}function I_(t){let e=`${L_}T${D_(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function TO(t,e){return!!((e==="v4"||!e)&&NO.test(t)||(e==="v6"||!e)&&EO.test(t))}class Yr extends Ce{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Y.string){const i=this._getOrReturnCtx(e);return G(i,{code:q.invalid_type,expected:Y.string,received:i.parsedType}),ve}const n=new qt;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),G(s,{code:q.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),G(s,{code:q.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const a=e.data.length>i.value,o=e.data.length<i.value;(a||o)&&(s=this._getOrReturnCtx(e,s),a?G(s,{code:q.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&G(s,{code:q.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")SO.test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"email",code:q.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")$f||($f=new RegExp(jO,"u")),$f.test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"emoji",code:q.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")bO.test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"uuid",code:q.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")_O.test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"nanoid",code:q.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")vO.test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"cuid",code:q.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")xO.test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"cuid2",code:q.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")wO.test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"ulid",code:q.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),G(s,{validation:"url",code:q.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"regex",code:q.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),G(s,{code:q.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),G(s,{code:q.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),G(s,{code:q.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?I_(i).test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{code:q.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?PO.test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{code:q.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?RO(i).test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{code:q.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?kO.test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"duration",code:q.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?TO(e.data,i.version)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"ip",code:q.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?CO.test(e.data)||(s=this._getOrReturnCtx(e,s),G(s,{validation:"base64",code:q.invalid_string,message:i.message}),n.dirty()):Ue.assertNever(i);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(s=>e.test(s),{validation:r,code:q.invalid_string,...ce.errToObj(n)})}_addCheck(e){return new Yr({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ce.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ce.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ce.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ce.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ce.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ce.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ce.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ce.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ce.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ce.errToObj(e)})}datetime(e){var r,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(r=e==null?void 0:e.offset)!==null&&r!==void 0?r:!1,local:(n=e==null?void 0:e.local)!==null&&n!==void 0?n:!1,...ce.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ce.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ce.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...ce.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...ce.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...ce.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...ce.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...ce.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...ce.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...ce.errToObj(r)})}nonempty(e){return this.min(1,ce.errToObj(e))}trim(){return new Yr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Yr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Yr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Yr.create=t=>{var e;return new Yr({checks:[],typeName:ye.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Ne(t)})};function OO(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,s=r>n?r:n,i=parseInt(t.toFixed(s).replace(".","")),a=parseInt(e.toFixed(s).replace(".",""));return i%a/Math.pow(10,s)}class Is extends Ce{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Y.number){const i=this._getOrReturnCtx(e);return G(i,{code:q.invalid_type,expected:Y.number,received:i.parsedType}),ve}let n;const s=new qt;for(const i of this._def.checks)i.kind==="int"?Ue.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),G(n,{code:q.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),G(n,{code:q.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),G(n,{code:q.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?OO(e.data,i.value)!==0&&(n=this._getOrReturnCtx(e,n),G(n,{code:q.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),G(n,{code:q.not_finite,message:i.message}),s.dirty()):Ue.assertNever(i);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,ce.toString(r))}gt(e,r){return this.setLimit("min",e,!1,ce.toString(r))}lte(e,r){return this.setLimit("max",e,!0,ce.toString(r))}lt(e,r){return this.setLimit("max",e,!1,ce.toString(r))}setLimit(e,r,n,s){return new Is({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:ce.toString(s)}]})}_addCheck(e){return new Is({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ce.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ce.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ce.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ce.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ce.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:ce.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:ce.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ce.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ce.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ue.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}Is.create=t=>new Is({checks:[],typeName:ye.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Ne(t)});class Ms extends Ce{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==Y.bigint){const i=this._getOrReturnCtx(e);return G(i,{code:q.invalid_type,expected:Y.bigint,received:i.parsedType}),ve}let n;const s=new qt;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),G(n,{code:q.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),G(n,{code:q.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),G(n,{code:q.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Ue.assertNever(i);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,ce.toString(r))}gt(e,r){return this.setLimit("min",e,!1,ce.toString(r))}lte(e,r){return this.setLimit("max",e,!0,ce.toString(r))}lt(e,r){return this.setLimit("max",e,!1,ce.toString(r))}setLimit(e,r,n,s){return new Ms({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:ce.toString(s)}]})}_addCheck(e){return new Ms({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ce.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ce.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ce.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ce.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:ce.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Ms.create=t=>{var e;return new Ms({checks:[],typeName:ye.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Ne(t)})};class Ol extends Ce{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Y.boolean){const n=this._getOrReturnCtx(e);return G(n,{code:q.invalid_type,expected:Y.boolean,received:n.parsedType}),ve}return Xt(e.data)}}Ol.create=t=>new Ol({typeName:ye.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Ne(t)});class Ni extends Ce{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Y.date){const i=this._getOrReturnCtx(e);return G(i,{code:q.invalid_type,expected:Y.date,received:i.parsedType}),ve}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return G(i,{code:q.invalid_date}),ve}const n=new qt;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),G(s,{code:q.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),G(s,{code:q.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Ue.assertNever(i);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Ni({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:ce.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:ce.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}Ni.create=t=>new Ni({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:ye.ZodDate,...Ne(t)});class ed extends Ce{_parse(e){if(this._getType(e)!==Y.symbol){const n=this._getOrReturnCtx(e);return G(n,{code:q.invalid_type,expected:Y.symbol,received:n.parsedType}),ve}return Xt(e.data)}}ed.create=t=>new ed({typeName:ye.ZodSymbol,...Ne(t)});class Al extends Ce{_parse(e){if(this._getType(e)!==Y.undefined){const n=this._getOrReturnCtx(e);return G(n,{code:q.invalid_type,expected:Y.undefined,received:n.parsedType}),ve}return Xt(e.data)}}Al.create=t=>new Al({typeName:ye.ZodUndefined,...Ne(t)});class Ll extends Ce{_parse(e){if(this._getType(e)!==Y.null){const n=this._getOrReturnCtx(e);return G(n,{code:q.invalid_type,expected:Y.null,received:n.parsedType}),ve}return Xt(e.data)}}Ll.create=t=>new Ll({typeName:ye.ZodNull,...Ne(t)});class qa extends Ce{constructor(){super(...arguments),this._any=!0}_parse(e){return Xt(e.data)}}qa.create=t=>new qa({typeName:ye.ZodAny,...Ne(t)});class mi extends Ce{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Xt(e.data)}}mi.create=t=>new mi({typeName:ye.ZodUnknown,...Ne(t)});class Wn extends Ce{_parse(e){const r=this._getOrReturnCtx(e);return G(r,{code:q.invalid_type,expected:Y.never,received:r.parsedType}),ve}}Wn.create=t=>new Wn({typeName:ye.ZodNever,...Ne(t)});class td extends Ce{_parse(e){if(this._getType(e)!==Y.undefined){const n=this._getOrReturnCtx(e);return G(n,{code:q.invalid_type,expected:Y.void,received:n.parsedType}),ve}return Xt(e.data)}}td.create=t=>new td({typeName:ye.ZodVoid,...Ne(t)});class tn extends Ce{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),s=this._def;if(r.parsedType!==Y.array)return G(r,{code:q.invalid_type,expected:Y.array,received:r.parsedType}),ve;if(s.exactLength!==null){const a=r.data.length>s.exactLength.value,o=r.data.length<s.exactLength.value;(a||o)&&(G(r,{code:a?q.too_big:q.too_small,minimum:o?s.exactLength.value:void 0,maximum:a?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(G(r,{code:q.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(G(r,{code:q.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((a,o)=>s.type._parseAsync(new kn(r,a,r.path,o)))).then(a=>qt.mergeArray(n,a));const i=[...r.data].map((a,o)=>s.type._parseSync(new kn(r,a,r.path,o)));return qt.mergeArray(n,i)}get element(){return this._def.type}min(e,r){return new tn({...this._def,minLength:{value:e,message:ce.toString(r)}})}max(e,r){return new tn({...this._def,maxLength:{value:e,message:ce.toString(r)}})}length(e,r){return new tn({...this._def,exactLength:{value:e,message:ce.toString(r)}})}nonempty(e){return this.min(1,e)}}tn.create=(t,e)=>new tn({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ye.ZodArray,...Ne(e)});function Ki(t){if(t instanceof lt){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=bn.create(Ki(n))}return new lt({...t._def,shape:()=>e})}else return t instanceof tn?new tn({...t._def,type:Ki(t.element)}):t instanceof bn?bn.create(Ki(t.unwrap())):t instanceof $s?$s.create(Ki(t.unwrap())):t instanceof Sn?Sn.create(t.items.map(e=>Ki(e))):t}class lt extends Ce{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=Ue.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==Y.object){const c=this._getOrReturnCtx(e);return G(c,{code:q.invalid_type,expected:Y.object,received:c.parsedType}),ve}const{status:n,ctx:s}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof Wn&&this._def.unknownKeys==="strip"))for(const c in s.data)a.includes(c)||o.push(c);const l=[];for(const c of a){const d=i[c],f=s.data[c];l.push({key:{status:"valid",value:c},value:d._parse(new kn(s,f,s.path,c)),alwaysSet:c in s.data})}if(this._def.catchall instanceof Wn){const c=this._def.unknownKeys;if(c==="passthrough")for(const d of o)l.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(c==="strict")o.length>0&&(G(s,{code:q.unrecognized_keys,keys:o}),n.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const d of o){const f=s.data[d];l.push({key:{status:"valid",value:d},value:c._parse(new kn(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const c=[];for(const d of l){const f=await d.key,h=await d.value;c.push({key:f,value:h,alwaysSet:d.alwaysSet})}return c}).then(c=>qt.mergeObjectSync(n,c)):qt.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(e){return ce.errToObj,new lt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var s,i,a,o;const l=(a=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,r,n).message)!==null&&a!==void 0?a:n.defaultError;return r.code==="unrecognized_keys"?{message:(o=ce.errToObj(e).message)!==null&&o!==void 0?o:l}:{message:l}}}:{}})}strip(){return new lt({...this._def,unknownKeys:"strip"})}passthrough(){return new lt({...this._def,unknownKeys:"passthrough"})}extend(e){return new lt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new lt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ye.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new lt({...this._def,catchall:e})}pick(e){const r={};return Ue.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new lt({...this._def,shape:()=>r})}omit(e){const r={};return Ue.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new lt({...this._def,shape:()=>r})}deepPartial(){return Ki(this)}partial(e){const r={};return Ue.objectKeys(this.shape).forEach(n=>{const s=this.shape[n];e&&!e[n]?r[n]=s:r[n]=s.optional()}),new lt({...this._def,shape:()=>r})}required(e){const r={};return Ue.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof bn;)i=i._def.innerType;r[n]=i}}),new lt({...this._def,shape:()=>r})}keyof(){return M_(Ue.objectKeys(this.shape))}}lt.create=(t,e)=>new lt({shape:()=>t,unknownKeys:"strip",catchall:Wn.create(),typeName:ye.ZodObject,...Ne(e)});lt.strictCreate=(t,e)=>new lt({shape:()=>t,unknownKeys:"strict",catchall:Wn.create(),typeName:ye.ZodObject,...Ne(e)});lt.lazycreate=(t,e)=>new lt({shape:t,unknownKeys:"strip",catchall:Wn.create(),typeName:ye.ZodObject,...Ne(e)});class Dl extends Ce{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function s(i){for(const o of i)if(o.result.status==="valid")return o.result;for(const o of i)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;const a=i.map(o=>new Nr(o.ctx.common.issues));return G(r,{code:q.invalid_union,unionErrors:a}),ve}if(r.common.async)return Promise.all(n.map(async i=>{const a={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:a}),ctx:a}})).then(s);{let i;const a=[];for(const l of n){const c={...r,common:{...r.common,issues:[]},parent:null},d=l._parseSync({data:r.data,path:r.path,parent:c});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:c}),c.common.issues.length&&a.push(c.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const o=a.map(l=>new Nr(l));return G(r,{code:q.invalid_union,unionErrors:o}),ve}}get options(){return this._def.options}}Dl.create=(t,e)=>new Dl({options:t,typeName:ye.ZodUnion,...Ne(e)});const Rn=t=>t instanceof Fl?Rn(t.schema):t instanceof nn?Rn(t.innerType()):t instanceof $l?[t.value]:t instanceof Fs?t.options:t instanceof Ul?Ue.objectValues(t.enum):t instanceof zl?Rn(t._def.innerType):t instanceof Al?[void 0]:t instanceof Ll?[null]:t instanceof bn?[void 0,...Rn(t.unwrap())]:t instanceof $s?[null,...Rn(t.unwrap())]:t instanceof Qm||t instanceof Vl?Rn(t.unwrap()):t instanceof Bl?Rn(t._def.innerType):[];class $d extends Ce{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Y.object)return G(r,{code:q.invalid_type,expected:Y.object,received:r.parsedType}),ve;const n=this.discriminator,s=r.data[n],i=this.optionsMap.get(s);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(G(r,{code:q.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),ve)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const s=new Map;for(const i of r){const a=Rn(i.shape[e]);if(!a.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of a){if(s.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);s.set(o,i)}}return new $d({typeName:ye.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:s,...Ne(n)})}}function jp(t,e){const r=fs(t),n=fs(e);if(t===e)return{valid:!0,data:t};if(r===Y.object&&n===Y.object){const s=Ue.objectKeys(e),i=Ue.objectKeys(t).filter(o=>s.indexOf(o)!==-1),a={...t,...e};for(const o of i){const l=jp(t[o],e[o]);if(!l.valid)return{valid:!1};a[o]=l.data}return{valid:!0,data:a}}else if(r===Y.array&&n===Y.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const a=t[i],o=e[i],l=jp(a,o);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return r===Y.date&&n===Y.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Il extends Ce{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=(i,a)=>{if(kp(i)||kp(a))return ve;const o=jp(i.value,a.value);return o.valid?((Sp(i)||Sp(a))&&r.dirty(),{status:r.value,value:o.data}):(G(n,{code:q.invalid_intersection_types}),ve)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,a])=>s(i,a)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Il.create=(t,e,r)=>new Il({left:t,right:e,typeName:ye.ZodIntersection,...Ne(r)});class Sn extends Ce{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Y.array)return G(n,{code:q.invalid_type,expected:Y.array,received:n.parsedType}),ve;if(n.data.length<this._def.items.length)return G(n,{code:q.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ve;!this._def.rest&&n.data.length>this._def.items.length&&(G(n,{code:q.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((a,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new kn(n,a,n.path,o)):null}).filter(a=>!!a);return n.common.async?Promise.all(i).then(a=>qt.mergeArray(r,a)):qt.mergeArray(r,i)}get items(){return this._def.items}rest(e){return new Sn({...this._def,rest:e})}}Sn.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Sn({items:t,typeName:ye.ZodTuple,rest:null,...Ne(e)})};class Ml extends Ce{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Y.object)return G(n,{code:q.invalid_type,expected:Y.object,received:n.parsedType}),ve;const s=[],i=this._def.keyType,a=this._def.valueType;for(const o in n.data)s.push({key:i._parse(new kn(n,o,n.path,o)),value:a._parse(new kn(n,n.data[o],n.path,o)),alwaysSet:o in n.data});return n.common.async?qt.mergeObjectAsync(r,s):qt.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof Ce?new Ml({keyType:e,valueType:r,typeName:ye.ZodRecord,...Ne(n)}):new Ml({keyType:Yr.create(),valueType:e,typeName:ye.ZodRecord,...Ne(r)})}}class rd extends Ce{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Y.map)return G(n,{code:q.invalid_type,expected:Y.map,received:n.parsedType}),ve;const s=this._def.keyType,i=this._def.valueType,a=[...n.data.entries()].map(([o,l],c)=>({key:s._parse(new kn(n,o,n.path,[c,"key"])),value:i._parse(new kn(n,l,n.path,[c,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const l of a){const c=await l.key,d=await l.value;if(c.status==="aborted"||d.status==="aborted")return ve;(c.status==="dirty"||d.status==="dirty")&&r.dirty(),o.set(c.value,d.value)}return{status:r.value,value:o}})}else{const o=new Map;for(const l of a){const c=l.key,d=l.value;if(c.status==="aborted"||d.status==="aborted")return ve;(c.status==="dirty"||d.status==="dirty")&&r.dirty(),o.set(c.value,d.value)}return{status:r.value,value:o}}}}rd.create=(t,e,r)=>new rd({valueType:e,keyType:t,typeName:ye.ZodMap,...Ne(r)});class Ei extends Ce{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Y.set)return G(n,{code:q.invalid_type,expected:Y.set,received:n.parsedType}),ve;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(G(n,{code:q.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(G(n,{code:q.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function a(l){const c=new Set;for(const d of l){if(d.status==="aborted")return ve;d.status==="dirty"&&r.dirty(),c.add(d.value)}return{status:r.value,value:c}}const o=[...n.data.values()].map((l,c)=>i._parse(new kn(n,l,n.path,c)));return n.common.async?Promise.all(o).then(l=>a(l)):a(o)}min(e,r){return new Ei({...this._def,minSize:{value:e,message:ce.toString(r)}})}max(e,r){return new Ei({...this._def,maxSize:{value:e,message:ce.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Ei.create=(t,e)=>new Ei({valueType:t,minSize:null,maxSize:null,typeName:ye.ZodSet,...Ne(e)});class ya extends Ce{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Y.function)return G(r,{code:q.invalid_type,expected:Y.function,received:r.parsedType}),ve;function n(o,l){return Yc({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Jc(),Ha].filter(c=>!!c),issueData:{code:q.invalid_arguments,argumentsError:l}})}function s(o,l){return Yc({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Jc(),Ha].filter(c=>!!c),issueData:{code:q.invalid_return_type,returnTypeError:l}})}const i={errorMap:r.common.contextualErrorMap},a=r.data;if(this._def.returns instanceof Wa){const o=this;return Xt(async function(...l){const c=new Nr([]),d=await o._def.args.parseAsync(l,i).catch(p=>{throw c.addIssue(n(l,p)),c}),f=await Reflect.apply(a,this,d);return await o._def.returns._def.type.parseAsync(f,i).catch(p=>{throw c.addIssue(s(f,p)),c})})}else{const o=this;return Xt(function(...l){const c=o._def.args.safeParse(l,i);if(!c.success)throw new Nr([n(l,c.error)]);const d=Reflect.apply(a,this,c.data),f=o._def.returns.safeParse(d,i);if(!f.success)throw new Nr([s(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new ya({...this._def,args:Sn.create(e).rest(mi.create())})}returns(e){return new ya({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new ya({args:e||Sn.create([]).rest(mi.create()),returns:r||mi.create(),typeName:ye.ZodFunction,...Ne(n)})}}class Fl extends Ce{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Fl.create=(t,e)=>new Fl({getter:t,typeName:ye.ZodLazy,...Ne(e)});class $l extends Ce{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return G(r,{received:r.data,code:q.invalid_literal,expected:this._def.value}),ve}return{status:"valid",value:e.data}}get value(){return this._def.value}}$l.create=(t,e)=>new $l({value:t,typeName:ye.ZodLiteral,...Ne(e)});function M_(t,e){return new Fs({values:t,typeName:ye.ZodEnum,...Ne(e)})}class Fs extends Ce{constructor(){super(...arguments),Fo.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return G(r,{expected:Ue.joinValues(n),received:r.parsedType,code:q.invalid_type}),ve}if(Xc(this,Fo)||A_(this,Fo,new Set(this._def.values)),!Xc(this,Fo).has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return G(r,{received:r.data,code:q.invalid_enum_value,options:n}),ve}return Xt(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return Fs.create(e,{...this._def,...r})}exclude(e,r=this._def){return Fs.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}Fo=new WeakMap;Fs.create=M_;class Ul extends Ce{constructor(){super(...arguments),$o.set(this,void 0)}_parse(e){const r=Ue.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Y.string&&n.parsedType!==Y.number){const s=Ue.objectValues(r);return G(n,{expected:Ue.joinValues(s),received:n.parsedType,code:q.invalid_type}),ve}if(Xc(this,$o)||A_(this,$o,new Set(Ue.getValidEnumValues(this._def.values))),!Xc(this,$o).has(e.data)){const s=Ue.objectValues(r);return G(n,{received:n.data,code:q.invalid_enum_value,options:s}),ve}return Xt(e.data)}get enum(){return this._def.values}}$o=new WeakMap;Ul.create=(t,e)=>new Ul({values:t,typeName:ye.ZodNativeEnum,...Ne(e)});class Wa extends Ce{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Y.promise&&r.common.async===!1)return G(r,{code:q.invalid_type,expected:Y.promise,received:r.parsedType}),ve;const n=r.parsedType===Y.promise?r.data:Promise.resolve(r.data);return Xt(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Wa.create=(t,e)=>new Wa({type:t,typeName:ye.ZodPromise,...Ne(e)});class nn extends Ce{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ye.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:a=>{G(n,a),a.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const a=s.transform(n.data,i);if(n.common.async)return Promise.resolve(a).then(async o=>{if(r.value==="aborted")return ve;const l=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return l.status==="aborted"?ve:l.status==="dirty"||r.value==="dirty"?la(l.value):l});{if(r.value==="aborted")return ve;const o=this._def.schema._parseSync({data:a,path:n.path,parent:n});return o.status==="aborted"?ve:o.status==="dirty"||r.value==="dirty"?la(o.value):o}}if(s.type==="refinement"){const a=o=>{const l=s.refinement(o,i);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?ve:(o.status==="dirty"&&r.dirty(),a(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?ve:(o.status==="dirty"&&r.dirty(),a(o.value).then(()=>({status:r.value,value:o.value}))))}if(s.type==="transform")if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Rl(a))return a;const o=s.transform(a.value,i);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>Rl(a)?Promise.resolve(s.transform(a.value,i)).then(o=>({status:r.value,value:o})):a);Ue.assertNever(s)}}nn.create=(t,e,r)=>new nn({schema:t,typeName:ye.ZodEffects,effect:e,...Ne(r)});nn.createWithPreprocess=(t,e,r)=>new nn({schema:e,effect:{type:"preprocess",transform:t},typeName:ye.ZodEffects,...Ne(r)});class bn extends Ce{_parse(e){return this._getType(e)===Y.undefined?Xt(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}bn.create=(t,e)=>new bn({innerType:t,typeName:ye.ZodOptional,...Ne(e)});class $s extends Ce{_parse(e){return this._getType(e)===Y.null?Xt(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}$s.create=(t,e)=>new $s({innerType:t,typeName:ye.ZodNullable,...Ne(e)});class zl extends Ce{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===Y.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}zl.create=(t,e)=>new zl({innerType:t,typeName:ye.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ne(e)});class Bl extends Ce{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Tl(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Nr(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Nr(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Bl.create=(t,e)=>new Bl({innerType:t,typeName:ye.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ne(e)});class nd extends Ce{_parse(e){if(this._getType(e)!==Y.nan){const n=this._getOrReturnCtx(e);return G(n,{code:q.invalid_type,expected:Y.nan,received:n.parsedType}),ve}return{status:"valid",value:e.data}}}nd.create=t=>new nd({typeName:ye.ZodNaN,...Ne(t)});const AO=Symbol("zod_brand");class Qm extends Ce{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class lu extends Ce{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?ve:i.status==="dirty"?(r.dirty(),la(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?ve:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(e,r){return new lu({in:e,out:r,typeName:ye.ZodPipeline})}}class Vl extends Ce{_parse(e){const r=this._def.innerType._parse(e),n=s=>(Rl(s)&&(s.value=Object.freeze(s.value)),s);return Tl(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}Vl.create=(t,e)=>new Vl({innerType:t,typeName:ye.ZodReadonly,...Ne(e)});function F_(t,e={},r){return t?qa.create().superRefine((n,s)=>{var i,a;if(!t(n)){const o=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,l=(a=(i=o.fatal)!==null&&i!==void 0?i:r)!==null&&a!==void 0?a:!0,c=typeof o=="string"?{message:o}:o;s.addIssue({code:"custom",...c,fatal:l})}}):qa.create()}const LO={object:lt.lazycreate};var ye;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(ye||(ye={}));const DO=(t,e={message:`Input not instance of ${t.name}`})=>F_(r=>r instanceof t,e),$_=Yr.create,U_=Is.create,IO=nd.create,MO=Ms.create,z_=Ol.create,FO=Ni.create,$O=ed.create,UO=Al.create,zO=Ll.create,BO=qa.create,VO=mi.create,HO=Wn.create,qO=td.create,WO=tn.create,KO=lt.create,QO=lt.strictCreate,ZO=Dl.create,GO=$d.create,JO=Il.create,YO=Sn.create,XO=Ml.create,e4=rd.create,t4=Ei.create,r4=ya.create,n4=Fl.create,s4=$l.create,i4=Fs.create,a4=Ul.create,o4=Wa.create,rv=nn.create,l4=bn.create,u4=$s.create,c4=nn.createWithPreprocess,d4=lu.create,f4=()=>$_().optional(),h4=()=>U_().optional(),p4=()=>z_().optional(),m4={string:t=>Yr.create({...t,coerce:!0}),number:t=>Is.create({...t,coerce:!0}),boolean:t=>Ol.create({...t,coerce:!0}),bigint:t=>Ms.create({...t,coerce:!0}),date:t=>Ni.create({...t,coerce:!0})},g4=ve;var vr=Object.freeze({__proto__:null,defaultErrorMap:Ha,setErrorMap:gO,getErrorMap:Jc,makeIssue:Yc,EMPTY_PATH:yO,addIssueToContext:G,ParseStatus:qt,INVALID:ve,DIRTY:la,OK:Xt,isAborted:kp,isDirty:Sp,isValid:Rl,isAsync:Tl,get util(){return Ue},get objectUtil(){return _p},ZodParsedType:Y,getParsedType:fs,ZodType:Ce,datetimeRegex:I_,ZodString:Yr,ZodNumber:Is,ZodBigInt:Ms,ZodBoolean:Ol,ZodDate:Ni,ZodSymbol:ed,ZodUndefined:Al,ZodNull:Ll,ZodAny:qa,ZodUnknown:mi,ZodNever:Wn,ZodVoid:td,ZodArray:tn,ZodObject:lt,ZodUnion:Dl,ZodDiscriminatedUnion:$d,ZodIntersection:Il,ZodTuple:Sn,ZodRecord:Ml,ZodMap:rd,ZodSet:Ei,ZodFunction:ya,ZodLazy:Fl,ZodLiteral:$l,ZodEnum:Fs,ZodNativeEnum:Ul,ZodPromise:Wa,ZodEffects:nn,ZodTransformer:nn,ZodOptional:bn,ZodNullable:$s,ZodDefault:zl,ZodCatch:Bl,ZodNaN:nd,BRAND:AO,ZodBranded:Qm,ZodPipeline:lu,ZodReadonly:Vl,custom:F_,Schema:Ce,ZodSchema:Ce,late:LO,get ZodFirstPartyTypeKind(){return ye},coerce:m4,any:BO,array:WO,bigint:MO,boolean:z_,date:FO,discriminatedUnion:GO,effect:rv,enum:i4,function:r4,instanceof:DO,intersection:JO,lazy:n4,literal:s4,map:e4,nan:IO,nativeEnum:a4,never:HO,null:zO,nullable:u4,number:U_,object:KO,oboolean:p4,onumber:h4,optional:l4,ostring:f4,pipeline:d4,preprocess:c4,promise:o4,record:XO,set:t4,strictObject:QO,string:$_,symbol:$O,transformer:rv,tuple:YO,undefined:UO,union:ZO,unknown:VO,void:qO,NEVER:g4,ZodIssueCode:q,quotelessJson:mO,ZodError:Nr});const nv=(t,e,r)=>{if(t&&"reportValidity"in t){const n=ee(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},B_=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?nv(n.ref,r,t):n.refs&&n.refs.forEach(s=>nv(s,r,t))}},y4=(t,e)=>{e.shouldUseNativeValidation&&B_(t,e);const r={};for(const n in t){const s=ee(e.fields,n),i=Object.assign(t[n]||{},{ref:s&&s.ref});if(v4(e.names||Object.keys(t),n)){const a=Object.assign({},ee(r,n));Ze(a,"root",i),Ze(r,n,a)}else Ze(r,n,i)}return r},v4=(t,e)=>t.some(r=>r.startsWith(e+"."));var x4=function(t,e){for(var r={};t.length;){var n=t[0],s=n.code,i=n.message,a=n.path.join(".");if(!r[a])if("unionErrors"in n){var o=n.unionErrors[0].errors[0];r[a]={message:o.message,type:o.code}}else r[a]={message:i,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return t.push(f)})}),e){var l=r[a].types,c=l&&l[n.code];r[a]=S_(a,e,r,s,c?[].concat(c,n.message):n.message)}t.shift()}return r},V_=function(t,e,r){return r===void 0&&(r={}),function(n,s,i){try{return Promise.resolve(function(a,o){try{var l=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(c){return i.shouldUseNativeValidation&&B_({},i),{errors:{},values:r.raw?n:c}})}catch(c){return o(c)}return l&&l.then?l.then(void 0,o):l}(0,function(a){if(function(o){return Array.isArray(o==null?void 0:o.errors)}(a))return{values:{},errors:y4(x4(a.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw a}))}catch(a){return Promise.reject(a)}}};function Me({children:t,className:e="",hover:r=!1}){return u.jsx("div",{className:Gn("bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",r&&"hover:shadow-md hover:border-slate-300 dark:hover:border-slate-600 transition-all duration-200",e),children:t})}function wr({children:t,className:e=""}){return u.jsx("div",{className:Gn("px-6 py-4 border-b border-slate-100 dark:border-slate-700",e),children:t})}function br({children:t,className:e="",as:r="h3"}){return u.jsx(r,{className:Gn("text-lg font-semibold text-slate-800 dark:text-white",e),children:t})}function _n({children:t,className:e=""}){return u.jsx("p",{className:Gn("text-sm text-slate-500 dark:text-slate-400 mt-1",e),children:t})}function Fe({children:t,className:e=""}){return u.jsx("div",{className:Gn("px-6 py-4",e),children:t})}function w4({open:t,onClose:e,title:r,children:n,footer:s}){return _.useEffect(()=>{function i(a){a.key==="Escape"&&(e==null||e())}return t&&window.addEventListener("keydown",i),()=>window.removeEventListener("keydown",i)},[t,e]),t?u.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[u.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:e}),u.jsxs("div",{className:"relative w-[95vw] max-w-lg rounded-lg bg-white shadow-xl",children:[u.jsx("div",{className:"p-4 border-b",children:u.jsx("h3",{className:"text-lg font-semibold",children:r})}),u.jsx("div",{className:"p-4",children:n}),s?u.jsx("div",{className:"p-4 border-t",children:s}):null]})]}):null}const sv="product-images";function H_({value:t,onChange:e,className:r="",size:n="md"}){const[s,i]=_.useState(!1),[a,o]=_.useState(!1),l=_.useRef(null),c={sm:"w-16 h-16",md:"w-24 h-24",lg:"w-32 h-32"},d=async w=>{var x;if(!w)return;if(!["image/jpeg","image/png","image/gif","image/webp"].includes(w.type)){me.error("Please upload a valid image (JPEG, PNG, GIF, or WebP)");return}const g=5*1024*1024;if(w.size>g){me.error("Image must be smaller than 5MB");return}i(!0);try{const k=w.name.split(".").pop(),b=`products/${`${Date.now()}-${Math.random().toString(36).substring(2)}.${k}`}`,{data:A,error:P}=await Ir.storage.from(sv).upload(b,w,{cacheControl:"3600",upsert:!1});if(P){if((x=P.message)!=null&&x.includes("Bucket not found")||P.statusCode===404)me.error('Storage not configured. Create a bucket named "product-images" in Supabase Storage.',{duration:6e3});else throw P;return}const{data:L}=Ir.storage.from(sv).getPublicUrl(b);L!=null&&L.publicUrl&&(e(L.publicUrl),me.success("Image uploaded!"))}catch(k){console.error("Upload error:",k),me.error(k.message||"Failed to upload image")}finally{i(!1)}},f=w=>{var g;const v=(g=w.target.files)==null?void 0:g[0];v&&d(v)},h=w=>{var g;w.preventDefault(),o(!1);const v=(g=w.dataTransfer.files)==null?void 0:g[0];v&&d(v)},p=w=>{w.preventDefault(),o(!0)},m=()=>{o(!1)},y=()=>{e("")};return u.jsxs("div",{className:r,children:[u.jsx("input",{ref:l,type:"file",accept:"image/jpeg,image/png,image/gif,image/webp",onChange:f,className:"hidden"}),t?u.jsxs("div",{className:`relative ${c[n]} rounded-xl overflow-hidden group`,children:[u.jsx("img",{src:t,alt:"Product",className:"w-full h-full object-cover"}),u.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{var w;return(w=l.current)==null?void 0:w.click()},className:"p-2 bg-white/90 rounded-lg hover:bg-white transition-colors",disabled:s,children:u.jsx(tR,{className:"w-4 h-4 text-slate-700"})}),u.jsx("button",{type:"button",onClick:y,className:"p-2 bg-red-500 rounded-lg hover:bg-red-600 transition-colors",children:u.jsx(Va,{className:"w-4 h-4 text-white"})})]})]}):u.jsx("button",{type:"button",onClick:()=>{var w;return(w=l.current)==null?void 0:w.click()},onDrop:h,onDragOver:p,onDragLeave:m,disabled:s,className:`${c[n]} rounded-xl border-2 border-dashed transition-all flex flex-col items-center justify-center gap-1 ${a?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-slate-300 dark:border-slate-600 hover:border-blue-400 dark:hover:border-blue-500 bg-slate-50 dark:bg-slate-800"} ${s?"opacity-50 cursor-wait":"cursor-pointer"}`,children:s?u.jsx(ZP,{className:"w-6 h-6 text-blue-500 animate-spin"}):u.jsxs(u.Fragment,{children:[u.jsx(qb,{className:"w-6 h-6 text-slate-400"}),u.jsx("span",{className:"text-[10px] text-slate-500 dark:text-slate-400",children:"Upload"})]})})]})}function Uf(t){try{return new Intl.NumberFormat("en-ZA",{style:"currency",currency:"ZAR",minimumFractionDigits:2}).format(Number(t||0))}catch{return`R ${Number(t||0).toFixed(2)}`}}function b4(){var D,$,I,se,we,ue,B,X,ae,de,Se;const t=Xl(),[e,r]=_.useState(""),[n,s]=_.useState(1),[i,a]=_.useState(10),[o,l]=_.useState(!1),[c,d]=_.useState(""),h=wn({queryKey:["products",{q:e||void 0,page:n,pageSize:i}],queryFn:()=>Mo.list({q:e||void 0,page:n,page_size:i}),keepPreviousData:!0}),p=wn({queryKey:["plan"],queryFn:()=>au.get(),staleTime:6e4}),m=wn({queryKey:["lowStock"],queryFn:()=>KT.getLowStock(10),enabled:(($=(D=p.data)==null?void 0:D.limits)==null?void 0:$.low_stock_alerts)===!0,staleTime:3e4}),y=(se=(I=p.data)==null?void 0:I.limits)==null?void 0:se.low_stock_alerts,w=bf({mutationFn:Mo.create,onSuccess:()=>{t.invalidateQueries({queryKey:["products"]}),me.success("Product added successfully"),k.reset(),d(""),l(!1)},onError:W=>{var $e,it;return me.error(((it=($e=W==null?void 0:W.response)==null?void 0:$e.data)==null?void 0:it.detail)||"Failed to add product")}}),v=bf({mutationFn:({id:W,data:$e})=>Mo.update(W,$e),onSuccess:()=>{t.invalidateQueries({queryKey:["products"]}),me.success("Product updated")},onError:()=>me.error("Update failed")}),g=bf({mutationFn:W=>Mo.remove(W),onSuccess:()=>{t.invalidateQueries({queryKey:["products"]}),me.success("Product deleted")},onError:()=>me.error("Delete failed")}),x=vr.object({sku:vr.string().max(255).optional(),name:vr.string().min(1,"Name is required"),price:vr.coerce.number().nonnegative("Price must be >= 0"),quantity:vr.coerce.number().int().nonnegative("Quantity must be >= 0"),cost_price:vr.union([vr.coerce.number().nonnegative(),vr.literal("").transform(()=>0)]).optional()}),k=T_({resolver:V_(x),defaultValues:{sku:"",name:"",price:"",quantity:"",cost_price:""}}),[E,b]=_.useState(!1),[A,P]=_.useState(null),L=((we=h.data)==null?void 0:we.items)||[],F=((ue=h.data)==null?void 0:ue.total)||0,K=W=>{w.mutate({...W,image_url:c||void 0})};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Products"}),u.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Manage your product inventory"})]}),u.jsxs(Te,{onClick:()=>l(!o),children:[u.jsx(Wb,{size:18}),"Add Product"]})]}),y&&m.data&&m.data.length>0&&u.jsx(Me,{className:"border-amber-200 dark:border-amber-800 bg-amber-50/50 dark:bg-amber-900/20",children:u.jsx(Fe,{className:"py-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"p-2 bg-amber-100 dark:bg-amber-900/50 rounded-lg",children:u.jsx(Cl,{className:"w-5 h-5 text-amber-600 dark:text-amber-400"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-semibold text-amber-800 dark:text-amber-300",children:"Low Stock Alert"}),u.jsxs("p",{className:"text-sm text-amber-700 dark:text-amber-400 mt-1",children:[m.data.length," product",m.data.length>1?"s":""," running low on stock:"]}),u.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[m.data.slice(0,5).map(W=>u.jsxs("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-amber-100 dark:bg-amber-900/50 text-amber-800 dark:text-amber-300",children:[W.name," (",W.quantity," left)"]},W.id)),m.data.length>5&&u.jsxs("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-amber-200 dark:bg-amber-800/50 text-amber-800 dark:text-amber-300",children:["+",m.data.length-5," more"]})]})]})]})})}),!y&&u.jsx(Me,{className:"border-slate-200 dark:border-slate-700 bg-slate-50/50 dark:bg-slate-800/50",children:u.jsx(Fe,{className:"py-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 bg-slate-100 dark:bg-slate-700 rounded-lg",children:u.jsx(js,{className:"w-5 h-5 text-slate-500 dark:text-slate-400"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium text-slate-700 dark:text-slate-300",children:"Low Stock Alerts"}),u.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Upgrade to Pro or Business to see low stock alerts"})]})]})})}),o&&u.jsxs(Me,{children:[u.jsxs(wr,{children:[u.jsx(br,{children:"Add New Product"}),u.jsx(_n,{children:"Fill in the details to add a new product to your inventory"})]}),u.jsx(Fe,{children:u.jsxs("form",{onSubmit:k.handleSubmit(K),className:"space-y-4",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[u.jsxs("div",{className:"flex-shrink-0",children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Product Image"}),u.jsx(H_,{value:c,onChange:d,size:"lg"})]}),u.jsxs("div",{className:"flex-1 grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:"Product Code"}),u.jsx("input",{placeholder:"PRD-001",...k.register("sku"),className:"w-full rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-white px-4 py-2.5 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:"Name *"}),u.jsx("input",{placeholder:"Product name",...k.register("name"),className:"w-full rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-white px-4 py-2.5 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:"Price (ZAR) *"}),u.jsx("input",{placeholder:"0.00",type:"number",step:"0.01",...k.register("price"),className:"w-full rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-white px-4 py-2.5 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:"Quantity *"}),u.jsx("input",{placeholder:"0",type:"number",...k.register("quantity"),className:"w-full rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-white px-4 py-2.5 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:"Cost Price"}),u.jsx("input",{placeholder:"0.00",type:"number",step:"0.01",...k.register("cost_price"),className:"w-full rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-white px-4 py-2.5 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none"})]})]})]}),u.jsxs("div",{className:"flex items-center justify-between pt-2",children:[u.jsx("div",{children:(k.formState.errors.name||k.formState.errors.price||k.formState.errors.quantity)&&u.jsxs("p",{className:"flex items-center gap-2 text-sm text-red-600",children:[u.jsx(hp,{size:16}),((B=k.formState.errors.name)==null?void 0:B.message)||((X=k.formState.errors.price)==null?void 0:X.message)||((ae=k.formState.errors.quantity)==null?void 0:ae.message)]})}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Te,{type:"button",variant:"secondary",onClick:()=>{l(!1),d("")},children:"Cancel"}),u.jsx(Te,{type:"submit",disabled:w.isPending,children:w.isPending?"Adding...":"Add Product"})]})]})]})})]}),u.jsxs(Me,{children:[u.jsx(wr,{children:u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx(br,{children:"Inventory"}),u.jsxs(_n,{children:[F," products in your store"]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3",children:[u.jsxs("div",{className:"relative",children:[u.jsx(Kb,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),u.jsx("input",{placeholder:"Search products...",value:e,onChange:W=>{s(1),r(W.target.value)},className:"w-full sm:w-64 pl-10 pr-4 py-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none"})]}),u.jsxs("select",{className:"rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-white px-3 py-2 focus:border-blue-500 outline-none",value:i,onChange:W=>{s(1),a(Number(W.target.value))},children:[u.jsx("option",{value:5,children:"5 per page"}),u.jsx("option",{value:10,children:"10 per page"}),u.jsx("option",{value:20,children:"20 per page"}),u.jsx("option",{value:50,children:"50 per page"})]})]})]})}),u.jsxs(Fe,{className:"p-0",children:[h.isLoading?u.jsx("div",{className:"p-8 text-center text-slate-500",children:"Loading products..."}):h.isError?u.jsxs("div",{className:"p-8 text-center",children:[u.jsx(hp,{className:"w-12 h-12 mx-auto mb-3 text-red-500"}),u.jsx("p",{className:"text-red-600 font-medium",children:((Se=(de=h.error)==null?void 0:de.response)==null?void 0:Se.status)===401?"Session expired. Please sign out and sign in again.":"Failed to load products"})]}):L.length===0?u.jsxs("div",{className:"p-12 text-center",children:[u.jsx($n,{className:"w-12 h-12 mx-auto mb-3 text-slate-300"}),u.jsx("p",{className:"text-slate-600 font-medium",children:"No products yet"}),u.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Add your first product to get started"})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"block sm:hidden divide-y divide-slate-100 dark:divide-slate-700",children:L.map(W=>u.jsxs("div",{className:"p-4 flex gap-3",children:[u.jsx("div",{className:"w-16 h-16 bg-slate-100 dark:bg-slate-700 rounded-lg flex items-center justify-center overflow-hidden flex-shrink-0",children:W.image_url?u.jsx("img",{src:W.image_url,alt:W.name,className:"w-full h-full object-cover"}):u.jsx($n,{className:"w-6 h-6 text-slate-400"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-start justify-between gap-2",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-slate-800 dark:text-white truncate",children:W.name}),W.sku&&u.jsx("p",{className:"text-xs text-slate-500 font-mono",children:W.sku})]}),u.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full font-medium flex-shrink-0 ${W.quantity===0?"bg-red-100 text-red-700 dark:bg-red-900/50 dark:text-red-400":W.quantity<=5?"bg-amber-100 text-amber-700 dark:bg-amber-900/50 dark:text-amber-400":"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/50 dark:text-emerald-400"}`,children:W.quantity})]}),u.jsx("p",{className:"text-blue-600 dark:text-blue-400 font-bold mt-1",children:Uf(W.price)}),u.jsxs("div",{className:"flex gap-2 mt-2",children:[u.jsxs(Te,{variant:"ghost",size:"sm",onClick:()=>{P(W),b(!0)},children:[u.jsx(Ey,{size:14})," Edit"]}),u.jsxs(Te,{variant:"ghost",size:"sm",onClick:()=>{confirm(`Delete "${W.name}"?`)&&g.mutate(W.id)},className:"text-red-600",children:[u.jsx(El,{size:14})," Delete"]})]})]})]},W.id))}),u.jsx("div",{className:"hidden sm:block overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-slate-50 dark:bg-slate-800/50 border-y border-slate-200 dark:border-slate-700",children:u.jsxs("tr",{children:[u.jsx("th",{className:"text-left py-3 px-4 text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Product"}),u.jsx("th",{className:"text-left py-3 px-4 text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Code"}),u.jsx("th",{className:"text-left py-3 px-4 text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Price"}),u.jsx("th",{className:"text-left py-3 px-4 text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Stock"}),u.jsx("th",{className:"text-left py-3 px-4 text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Cost"}),u.jsx("th",{className:"text-right py-3 px-4 text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Actions"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:L.map(W=>u.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[u.jsx("td",{className:"py-4 px-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-12 h-12 bg-slate-100 dark:bg-slate-700 rounded-lg flex items-center justify-center overflow-hidden flex-shrink-0",children:W.image_url?u.jsx("img",{src:W.image_url,alt:W.name,className:"w-full h-full object-cover"}):u.jsx($n,{className:"w-5 h-5 text-slate-500 dark:text-slate-400"})}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-slate-800 dark:text-white",children:W.name}),u.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["ID: ",W.id]})]})]})}),u.jsx("td",{className:"py-4 px-4",children:u.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-lg bg-slate-100 dark:bg-slate-700 text-sm font-medium text-slate-700 dark:text-slate-300 font-mono",children:W.sku||"-"})}),u.jsx("td",{className:"py-4 px-4 font-semibold text-slate-800 dark:text-white",children:Uf(W.price)}),u.jsx("td",{className:"py-4 px-4",children:u.jsxs("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${W.quantity===0?"bg-red-100 text-red-700 dark:bg-red-900/50 dark:text-red-400":W.quantity<=5?"bg-amber-100 text-amber-700 dark:bg-amber-900/50 dark:text-amber-400":"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/50 dark:text-emerald-400"}`,children:[W.quantity," in stock"]})}),u.jsx("td",{className:"py-4 px-4 text-slate-600 dark:text-slate-400",children:Uf(W.cost_price??0)}),u.jsx("td",{className:"py-4 px-4",children:u.jsxs("div",{className:"flex items-center justify-end gap-2",children:[u.jsx(Te,{variant:"ghost",size:"sm",onClick:()=>{P(W),b(!0)},children:u.jsx(Ey,{size:16})}),u.jsx(Te,{variant:"ghost",size:"sm",onClick:()=>{confirm(`Delete "${W.name}"?`)&&g.mutate(W.id)},className:"text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:u.jsx(El,{size:16})})]})})]},W.id))})]})})]}),L.length>0&&u.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 px-4 py-3 border-t border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800/50",children:[u.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 text-center sm:text-left",children:["Showing ",(n-1)*i+1," to"," ",Math.min(n*i,F)," of ",F]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Te,{variant:"secondary",size:"sm",onClick:()=>s(W=>Math.max(1,W-1)),disabled:n===1,children:"Previous"}),u.jsx("span",{className:"px-3 py-1 text-sm font-medium text-slate-700 dark:text-slate-300",children:n}),u.jsx(Te,{variant:"secondary",size:"sm",onClick:()=>s(W=>W+1),disabled:F<=n*i,children:"Next"})]})]})]})]}),u.jsx(_4,{open:E,product:A,onClose:()=>b(!1),onSave:(W,$e)=>v.mutate({id:W,data:$e})})]})}function _4({open:t,product:e,onClose:r,onSave:n}){const[s,i]=_.useState("");_.useState(()=>{e&&i(e.image_url||"")},[e]);const a=vr.object({name:vr.string().min(1,"Name is required"),price:vr.coerce.number().nonnegative(),quantity:vr.coerce.number().int().nonnegative(),cost_price:vr.coerce.number().nonnegative().optional()}),o=T_({resolver:V_(a),values:e?{name:e.name,price:e.price,quantity:e.quantity,cost_price:e.cost_price??0}:{name:"",price:0,quantity:0,cost_price:0}});e&&s!==(e.image_url||"")&&!t&&i(e.image_url||"");const l=c=>{n(e.id,{...c,image_url:s||void 0}),r()};return e?u.jsx(w4,{open:t,onClose:r,title:"Edit Product",footer:u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx(Te,{variant:"secondary",onClick:r,children:"Cancel"}),u.jsx(Te,{onClick:o.handleSubmit(l),children:"Save Changes"})]}),children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex gap-4",children:[u.jsx(H_,{value:s||e.image_url||"",onChange:i,size:"lg"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:"Product Name"}),u.jsx("input",{...o.register("name"),className:"w-full rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 px-4 py-2.5 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none text-slate-800 dark:text-white"})]})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:"Price (ZAR)"}),u.jsx("input",{type:"number",step:"0.01",...o.register("price"),className:"w-full rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 px-4 py-2.5 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none text-slate-800 dark:text-white"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:"Quantity"}),u.jsx("input",{type:"number",...o.register("quantity"),className:"w-full rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 px-4 py-2.5 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none text-slate-800 dark:text-white"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:"Cost Price"}),u.jsx("input",{type:"number",step:"0.01",...o.register("cost_price"),className:"w-full rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 px-4 py-2.5 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none text-slate-800 dark:text-white"})]})]})]})}):null}const zf=12;function k4(){var rt;const{t}=jn(),e=Xl(),[r,n]=_.useState([]),[s,i]=_.useState(!1),[a,o]=_.useState(""),[l,c]=_.useState(1),[d,f]=_.useState(!1),[h,p]=_.useState("cash"),[m,y]=_.useState(""),[w,v]=_.useState({open:!1,saleIds:[],total:0,items:[],paymentMethod:"cash",paymentAmount:0,change:0}),[g,x]=_.useState(""),[k,E]=_.useState(!1),b=wn({queryKey:["products-for-sale"],queryFn:()=>Mo.list({page:1,page_size:1e3}),staleTime:6e4,refetchOnWindowFocus:!1}),A=((rt=b.data)==null?void 0:rt.items)||[],P=_.useMemo(()=>{if(!a.trim())return A;const U=a.toLowerCase();return A.filter(_e=>{var Pe;return _e.name.toLowerCase().includes(U)||((Pe=_e.sku)==null?void 0:Pe.toLowerCase().includes(U))})},[A,a]),L=Math.ceil(P.length/zf),F=_.useMemo(()=>{const U=(l-1)*zf;return P.slice(U,U+zf)},[P,l]),K=U=>{o(U),c(1)},D=_.useMemo(()=>r.reduce((U,_e)=>U+_e.product.price*_e.quantity,0),[r]),$=_.useMemo(()=>r.reduce((U,_e)=>U+_e.quantity,0),[r]),I=parseFloat(m)||0,se=h==="cash"?Math.max(0,I-D):0,we=r.length>0&&(h==="card"||I>=D),ue=U=>{U.quantity!==0&&n(_e=>{const Pe=_e.find(ft=>ft.product.id===U.id);return Pe?Pe.quantity>=U.quantity?(me.error(`Only ${U.quantity} in stock`),_e):_e.map(ft=>ft.product.id===U.id?{...ft,quantity:ft.quantity+1}:ft):[..._e,{product:U,quantity:1}]})},B=(U,_e)=>{n(Pe=>{const ft=Pe.find(xe=>xe.product.id===U);return ft?_e<=0?Pe.filter(xe=>xe.product.id!==U):_e>ft.product.quantity?(me.error(`Only ${ft.product.quantity} in stock`),Pe):Pe.map(xe=>xe.product.id===U?{...xe,quantity:_e}:xe):Pe})},X=U=>{n(_e=>_e.filter(Pe=>Pe.product.id!==U))},ae=()=>{n([]),y(""),p("cash")},de=async()=>{var U,_e;if(!(s||r.length===0)){for(const Pe of r)if(Pe.quantity>Pe.product.quantity){me.error(`Only ${Pe.product.quantity} of ${Pe.product.name} in stock`);return}if(h==="cash"&&I<D){me.error("Payment amount is less than total");return}i(!0);try{const Pe=r.map(xe=>WT.create({product_id:xe.product.id,quantity_sold:xe.quantity})),ft=await Promise.all(Pe);me.success(`Sale complete! Total: R ${D.toFixed(2)}`),v({open:!0,saleIds:ft.map(xe=>xe.id),total:D,items:r.map(xe=>({name:xe.product.name,quantity:xe.quantity,price:xe.product.price,subtotal:xe.product.price*xe.quantity})),paymentMethod:h,paymentAmount:h==="cash"?I:D,change:se}),ae(),f(!1),setTimeout(()=>{e.invalidateQueries({queryKey:["products-for-sale"]}),e.invalidateQueries({queryKey:["recent-sales"]}),e.invalidateQueries({queryKey:["products"]})},100)}catch(Pe){me.error(((_e=(U=Pe==null?void 0:Pe.response)==null?void 0:U.data)==null?void 0:_e.detail)||"Failed to process sale")}finally{i(!1)}}},Se=async()=>{var _e,Pe,ft;if(w.saleIds.length===0)return;const U=g.trim();if(!U){me.error("Please enter a customer email");return}E(!0);try{const xe=await ZT.sendReceipt({sale_id:w.saleIds[0],customer_email:U,send_email:!0,payment_method:w.paymentMethod,payment_amount:w.paymentAmount,change_amount:w.change});if(xe.success)me.success("Receipt sent to "+U),W();else{const $t=((_e=xe.results)==null?void 0:_e.filter(Je=>!Je.success))||[];if($t.length>0){const Je=$t[0].message||"Failed to send receipt";me.error(Je)}else me.error("Failed to send receipt")}}catch(xe){const $t=(ft=(Pe=xe==null?void 0:xe.response)==null?void 0:Pe.data)==null?void 0:ft.detail;me.error($t||"Failed to send receipt")}finally{E(!1)}},W=()=>{v({open:!1,saleIds:[],total:0,items:[],paymentMethod:"cash",paymentAmount:0,change:0}),x("")},$e=U=>{const _e=r.find(Pe=>Pe.product.id===U);return(_e==null?void 0:_e.quantity)||0};return u.jsxs("div",{className:"min-h-[calc(100vh-8rem)]",children:[r.length>0&&!d&&u.jsxs("button",{onClick:()=>f(!0),className:"lg:hidden fixed bottom-6 right-6 z-40 w-16 h-16 bg-blue-600 hover:bg-blue-700 text-white rounded-full shadow-lg flex items-center justify-center transition-transform active:scale-95",children:[u.jsx(Wi,{size:24}),u.jsx("span",{className:"absolute -top-1 -right-1 w-6 h-6 bg-emerald-500 rounded-full text-xs font-bold flex items-center justify-center",children:$})]}),d&&u.jsxs("div",{className:"lg:hidden fixed inset-0 z-50",children:[u.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>f(!1)}),u.jsxs("div",{className:"absolute right-0 top-0 bottom-0 w-full max-w-sm bg-white dark:bg-slate-900 shadow-2xl flex flex-col",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200 dark:border-slate-700",children:[u.jsxs("h2",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[u.jsx(Wi,{size:20}),"Cart (",$,")"]}),u.jsx("button",{onClick:()=>f(!1),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg",children:u.jsx(Va,{size:20,className:"text-slate-500"})})]}),u.jsx("div",{className:"flex-1 overflow-auto p-4",children:it()})]})]}),u.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 lg:gap-6 h-full",children:[u.jsx("div",{className:"flex-1 flex flex-col min-h-0",children:u.jsxs(Me,{className:"flex-1 flex flex-col",children:[u.jsx(wr,{className:"pb-3 flex-shrink-0",children:u.jsxs("div",{className:"flex flex-col gap-3",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs("div",{children:[u.jsx(br,{className:"text-lg",children:t("sell.select_product")}),u.jsx(_n,{className:"hidden sm:block",children:"Tap products to add to cart"})]})}),u.jsxs("div",{className:"relative",children:[u.jsx(Kb,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),u.jsx("input",{type:"text",placeholder:t("products.search_placeholder"),value:a,onChange:U=>K(U.target.value),className:"w-full pl-9 pr-4 py-3 rounded-xl border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none"})]})]})}),u.jsx(Fe,{className:"flex-1 overflow-auto pb-4",children:b.isLoading?u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:[1,2,3,4,5,6,7,8].map(U=>u.jsx("div",{className:"aspect-square bg-slate-100 dark:bg-slate-700 rounded-xl animate-pulse"},U))}):P.length===0?u.jsxs("div",{className:"text-center py-12 text-slate-500",children:[u.jsx($n,{className:"w-16 h-16 mx-auto mb-4 opacity-30"}),u.jsx("p",{className:"text-lg font-medium",children:a?"No products match your search":t("products.no_products")})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-2 sm:gap-3",children:F.map(U=>{const _e=$e(U.id);return u.jsxs("button",{onClick:()=>ue(U),disabled:U.quantity===0,className:`relative flex flex-col rounded-xl border-2 text-left transition-all duration-200 overflow-hidden active:scale-[0.98] ${_e>0?"border-blue-600 ring-2 ring-blue-600/20 shadow-lg":U.quantity===0?"border-slate-200 dark:border-slate-700 opacity-50 cursor-not-allowed":"border-slate-200 dark:border-slate-700 hover:border-blue-400 dark:hover:border-blue-500 hover:shadow-md bg-white dark:bg-slate-800"}`,children:[u.jsx("div",{className:"aspect-square bg-slate-100 dark:bg-slate-700 flex items-center justify-center",children:U.image_url?u.jsx("img",{src:U.image_url,alt:U.name,className:"w-full h-full object-cover"}):u.jsx(qb,{className:"w-8 h-8 sm:w-10 sm:h-10 text-slate-300 dark:text-slate-600"})}),u.jsxs("div",{className:"p-2 sm:p-3 flex-1 flex flex-col",children:[u.jsx("p",{className:"font-semibold text-xs sm:text-sm text-slate-800 dark:text-white line-clamp-2 leading-tight",children:U.name}),U.sku&&u.jsx("p",{className:"text-[10px] sm:text-xs text-slate-400 dark:text-slate-500 mt-0.5 font-mono truncate",children:U.sku}),u.jsxs("div",{className:"mt-auto pt-1 sm:pt-2 flex items-end justify-between gap-1",children:[u.jsxs("p",{className:"text-sm sm:text-lg font-bold text-blue-600 dark:text-blue-400",children:["R",Number(U.price).toFixed(0)]}),u.jsx("span",{className:`text-[10px] sm:text-xs px-1 sm:px-1.5 py-0.5 rounded-full font-medium ${U.quantity===0?"bg-red-100 dark:bg-red-900/50 text-red-600 dark:text-red-400":U.quantity<=5?"bg-amber-100 dark:bg-amber-900/50 text-amber-600 dark:text-amber-400":"bg-emerald-100 dark:bg-emerald-900/50 text-emerald-600 dark:text-emerald-400"}`,children:U.quantity===0?"Out":U.quantity})]})]}),_e>0&&u.jsx("div",{className:"absolute top-1 right-1 sm:top-2 sm:right-2 w-6 h-6 sm:w-7 sm:h-7 bg-blue-600 rounded-full flex items-center justify-center text-white text-xs font-bold",children:_e})]},U.id)})}),L>1&&u.jsxs("div",{className:"flex items-center justify-center gap-2 mt-4 pt-4 border-t border-slate-200 dark:border-slate-700",children:[u.jsx(Te,{variant:"secondary",size:"sm",onClick:()=>c(U=>Math.max(1,U-1)),disabled:l===1,children:u.jsx(BP,{size:16})}),u.jsxs("span",{className:"text-sm text-slate-600 dark:text-slate-400 px-3 min-w-[60px] text-center",children:[l," / ",L]}),u.jsx(Te,{variant:"secondary",size:"sm",onClick:()=>c(U=>Math.min(L,U+1)),disabled:l===L,children:u.jsx(Io,{size:16})})]})]})})]})}),u.jsx("div",{className:"hidden lg:block w-80 xl:w-96 flex-shrink-0",children:u.jsxs(Me,{className:"sticky top-4 flex flex-col max-h-[calc(100vh-8rem)]",children:[u.jsx(wr,{className:"pb-3 border-b border-slate-100 dark:border-slate-800 flex-shrink-0",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs(br,{className:"flex items-center gap-2",children:[u.jsx(Wi,{className:"w-5 h-5"}),"Cart (",$,")"]}),r.length>0&&u.jsx("button",{onClick:ae,className:"text-xs text-red-500 hover:text-red-600 font-medium",children:"Clear All"})]})}),u.jsx(Fe,{className:"flex-1 overflow-auto py-4",children:it()})]})})]}),w.open&&u.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[u.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:W}),u.jsxs("div",{className:"relative bg-white dark:bg-slate-800 rounded-2xl shadow-2xl max-w-md w-full p-6 max-h-[90vh] overflow-y-auto",children:[u.jsx("button",{onClick:W,className:"absolute top-4 right-4 p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg text-slate-500 dark:text-slate-400",children:u.jsx(Va,{size:20})}),u.jsxs("div",{className:"text-center mb-6",children:[u.jsx("div",{className:"w-20 h-20 bg-emerald-100 dark:bg-emerald-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(aa,{className:"w-10 h-10 text-emerald-600 dark:text-emerald-400"})}),u.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Sale Complete!"})]}),u.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 rounded-xl p-4 mb-6 space-y-3",children:[u.jsx("div",{className:"space-y-2 pb-3 border-b border-slate-200 dark:border-slate-600",children:w.items.map((U,_e)=>u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsxs("span",{className:"text-slate-600 dark:text-slate-300",children:[U.quantity,"x ",U.name]}),u.jsxs("span",{className:"font-medium text-slate-800 dark:text-white",children:["R ",U.subtotal.toFixed(2)]})]},_e))}),u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"Payment"}),u.jsxs("span",{className:"font-medium text-slate-800 dark:text-white flex items-center gap-1",children:[w.paymentMethod==="card"?u.jsx(Ba,{size:14}):u.jsx(jy,{size:14}),w.paymentMethod==="card"?"Card":"Cash"]})]}),u.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-600 pt-3",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-slate-600 dark:text-slate-300 font-medium",children:"Total"}),u.jsxs("span",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:["R ",w.total.toFixed(2)]})]}),w.paymentMethod==="cash"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex justify-between text-sm mt-2",children:[u.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"Tendered"}),u.jsxs("span",{className:"text-slate-700 dark:text-slate-300",children:["R ",w.paymentAmount.toFixed(2)]})]}),u.jsxs("div",{className:"flex justify-between mt-2",children:[u.jsx("span",{className:"text-emerald-600 dark:text-emerald-400 font-semibold",children:"Change Due"}),u.jsxs("span",{className:"text-2xl font-bold text-emerald-600 dark:text-emerald-400",children:["R ",w.change.toFixed(2)]})]})]})]})]}),u.jsxs("div",{className:"space-y-4 border-t border-slate-200 dark:border-slate-700 pt-4",children:[u.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 text-center",children:"Send receipt to customer (optional)"}),u.jsxs("div",{className:"relative",children:[u.jsx(Xo,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),u.jsx("input",{type:"email",placeholder:"customer@email.com",value:g,onChange:U=>x(U.target.value),className:"w-full pl-10 pr-4 py-3 rounded-xl border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-white placeholder-slate-400 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none"})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx(Te,{variant:"secondary",className:"flex-1",onClick:W,children:"Done"}),u.jsxs(Te,{className:"flex-1",onClick:Se,disabled:k||!g.trim(),children:[u.jsx(YP,{size:16}),k?"...":"Send"]})]})]})]})]})]});function it(){return r.length===0?u.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400 dark:text-slate-500 py-12",children:[u.jsx(Wi,{className:"w-16 h-16 mb-4 opacity-30"}),u.jsx("p",{className:"text-lg font-medium",children:"Cart is empty"}),u.jsx("p",{className:"text-sm mt-1",children:"Tap products to add"})]}):u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"space-y-2 max-h-[40vh] overflow-auto",children:r.map(U=>u.jsxs("div",{className:"flex gap-3 p-2 bg-slate-50 dark:bg-slate-800 rounded-xl",children:[u.jsx("div",{className:"w-12 h-12 bg-slate-100 dark:bg-slate-700 rounded-lg flex items-center justify-center flex-shrink-0 overflow-hidden",children:U.product.image_url?u.jsx("img",{src:U.product.image_url,alt:U.product.name,className:"w-full h-full object-cover"}):u.jsx($n,{className:"w-5 h-5 text-slate-400"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"font-medium text-sm text-slate-800 dark:text-white truncate",children:U.product.name}),u.jsxs("p",{className:"text-xs text-slate-500",children:["R ",Number(U.product.price).toFixed(2)," each"]})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("button",{onClick:()=>B(U.product.id,U.quantity-1),className:"w-7 h-7 flex items-center justify-center rounded-lg bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300",children:u.jsx(JP,{size:14})}),u.jsx("span",{className:"w-8 text-center font-bold text-slate-800 dark:text-white text-sm",children:U.quantity}),u.jsx("button",{onClick:()=>B(U.product.id,U.quantity+1),disabled:U.quantity>=U.product.quantity,className:"w-7 h-7 flex items-center justify-center rounded-lg bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 disabled:opacity-50",children:u.jsx(Wb,{size:14})}),u.jsx("button",{onClick:()=>X(U.product.id),className:"w-7 h-7 flex items-center justify-center rounded-lg text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 ml-1",children:u.jsx(El,{size:14})})]})]},U.product.id))}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Payment Method"}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsxs("button",{onClick:()=>p("cash"),className:`flex items-center justify-center gap-2 p-3 rounded-xl border-2 transition-all ${h==="cash"?"border-emerald-500 bg-emerald-50 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-400":"border-slate-200 dark:border-slate-600 hover:border-slate-300 text-slate-600 dark:text-slate-400"}`,children:[u.jsx(jy,{size:20}),u.jsx("span",{className:"font-semibold",children:"Cash"})]}),u.jsxs("button",{onClick:()=>{p("card"),y("")},className:`flex items-center justify-center gap-2 p-3 rounded-xl border-2 transition-all ${h==="card"?"border-blue-500 bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400":"border-slate-200 dark:border-slate-600 hover:border-slate-300 text-slate-600 dark:text-slate-400"}`,children:[u.jsx(Ba,{size:20}),u.jsx("span",{className:"font-semibold",children:"Card"})]})]})]}),h==="cash"&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Amount Tendered"}),u.jsxs("div",{className:"relative",children:[u.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500 font-bold text-lg",children:"R"}),u.jsx("input",{type:"number",step:"0.01",min:D,placeholder:D.toFixed(2),value:m,onChange:U=>y(U.target.value),className:"w-full pl-10 pr-4 py-3 rounded-xl border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-white text-xl font-bold focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none"})]}),u.jsx("div",{className:"grid grid-cols-3 gap-2 mt-2",children:[Math.ceil(D/10)*10,Math.ceil(D/50)*50,Math.ceil(D/100)*100].filter((U,_e,Pe)=>Pe.indexOf(U)===_e&&U>=D).slice(0,3).map(U=>u.jsxs("button",{onClick:()=>y(U.toString()),className:"py-2 text-sm font-semibold rounded-lg border border-slate-200 dark:border-slate-600 hover:bg-slate-50 dark:hover:bg-slate-700 text-slate-700 dark:text-slate-300",children:["R ",U]},U))})]}),u.jsxs("div",{className:"pt-4 border-t border-slate-200 dark:border-slate-700 space-y-3",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("span",{className:"text-slate-600 dark:text-slate-400 font-medium",children:[t("sell.total")," (",$," items)"]}),u.jsxs("span",{className:"text-2xl sm:text-3xl font-bold text-slate-800 dark:text-white",children:["R ",D.toFixed(2)]})]}),h==="cash"&&I>0&&u.jsxs("div",{className:"p-3 bg-emerald-50 dark:bg-emerald-900/20 rounded-xl",children:[u.jsxs("div",{className:"flex justify-between items-center text-sm mb-1",children:[u.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Tendered"}),u.jsxs("span",{className:"text-slate-800 dark:text-slate-200 font-medium",children:["R ",I.toFixed(2)]})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-emerald-700 dark:text-emerald-400 font-semibold",children:"Change"}),u.jsxs("span",{className:`text-xl sm:text-2xl font-bold ${se>=0?"text-emerald-600 dark:text-emerald-400":"text-red-600 dark:text-red-400"}`,children:["R ",se.toFixed(2)]})]})]}),u.jsxs(Te,{className:"w-full h-14 text-lg",size:"lg",onClick:de,disabled:s||!we,children:[u.jsx(Wi,{size:24}),s?"Processing...":t("sell.complete_sale")]}),h==="cash"&&!we&&m&&u.jsxs("p",{className:"text-xs text-red-500 text-center",children:["Amount must be at least R ",D.toFixed(2)]})]})]})}}function S4(){var d,f,h,p;const[t,e]=_.useState(()=>new Date().toISOString().slice(0,10)),[r,n]=_.useState(!1),s=wn({queryKey:["reports",t],queryFn:()=>Hy.get(t),staleTime:3e4}),a=(f=(d=wn({queryKey:["plan"],queryFn:()=>au.get(),staleTime:6e4}).data)==null?void 0:d.limits)==null?void 0:f.csv_export,o=async()=>{var m,y;if(!a){me.error("CSV export requires Pro or Business plan");return}try{n(!0);const w=await Hy.exportCSV(t),v=window.URL.createObjectURL(w),g=document.createElement("a");g.href=v,g.download=`sales_report_${t}.csv`,document.body.appendChild(g),g.click(),window.URL.revokeObjectURL(v),document.body.removeChild(g),me.success("Report exported successfully")}catch(w){const v=((y=(m=w==null?void 0:w.response)==null?void 0:m.data)==null?void 0:y.detail)||"Failed to export report";me.error(v)}finally{n(!1)}},l=((h=s.data)==null?void 0:h.totals)||{},c=((p=s.data)==null?void 0:p.transactions)||[];return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Sales Reports"}),u.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"View your daily sales performance"})]}),u.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/30 rounded-lg",children:u.jsx(Im,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),u.jsx("input",{type:"date",className:"rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 px-4 py-2.5 text-slate-800 dark:text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none w-full sm:w-auto",value:t,onChange:m=>e(m.target.value),"aria-label":"Select date"})]}),u.jsxs(Te,{variant:a?"secondary":"ghost",onClick:o,disabled:r||s.isLoading,className:"flex items-center gap-2",children:[a?u.jsx(HP,{size:16}):u.jsx(js,{size:16}),r?"Exporting...":"Export CSV",!a&&u.jsx("span",{className:"text-xs ml-1 text-amber-600 dark:text-amber-400",children:"(Pro)"})]})]})]}),s.isLoading?u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[1,2,3].map(m=>u.jsx("div",{className:"h-32 bg-slate-100 dark:bg-slate-800 rounded-xl animate-pulse"},m))}):s.isError?u.jsx(Me,{children:u.jsx(Fe,{className:"py-8 text-center",children:u.jsx("p",{className:"text-red-600 dark:text-red-400",children:"Failed to load report. Please try again."})})}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[u.jsx(Me,{children:u.jsx(Fe,{className:"py-5",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Total Revenue"}),u.jsxs("p",{className:"text-3xl font-bold text-slate-800 dark:text-white mt-1",children:["R ",(l.total_revenue||0).toFixed(2)]}),u.jsxs("div",{className:"flex items-center gap-1 mt-2 text-emerald-600 dark:text-emerald-400 text-sm",children:[u.jsx(zb,{size:14}),u.jsx("span",{children:"Today's earnings"})]})]}),u.jsx("div",{className:"p-3 bg-emerald-50 dark:bg-emerald-900/30 rounded-xl",children:u.jsx(Vb,{className:"w-6 h-6 text-emerald-600 dark:text-emerald-400"})})]})})}),u.jsx(Me,{children:u.jsx(Fe,{className:"py-5",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Total Profit"}),u.jsxs("p",{className:"text-3xl font-bold text-slate-800 dark:text-white mt-1",children:["R ",(l.total_profit||0).toFixed(2)]}),u.jsxs("div",{className:"flex items-center gap-1 mt-2 text-blue-600 dark:text-blue-400 text-sm",children:[u.jsx(tl,{size:14}),u.jsx("span",{children:"Net profit margin"})]})]}),u.jsx("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/30 rounded-xl",children:u.jsx(tl,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})})]})})}),u.jsx(Me,{children:u.jsx(Fe,{className:"py-5",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Total Sales"}),u.jsx("p",{className:"text-3xl font-bold text-slate-800 dark:text-white mt-1",children:l.total_sales_count||0}),u.jsxs("div",{className:"flex items-center gap-1 mt-2 text-purple-600 dark:text-purple-400 text-sm",children:[u.jsx(el,{size:14}),u.jsx("span",{children:"Transactions"})]})]}),u.jsx("div",{className:"p-3 bg-purple-50 dark:bg-purple-900/30 rounded-xl",children:u.jsx(el,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})})]})})})]}),u.jsxs(Me,{children:[u.jsxs(wr,{children:[u.jsx(br,{children:"Transaction History"}),u.jsxs(_n,{children:["All sales for ",new Date(t).toLocaleDateString("en-ZA",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]})]}),u.jsx(Fe,{children:c.length===0?u.jsxs("div",{className:"text-center py-12 text-slate-500 dark:text-slate-400",children:[u.jsx(el,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),u.jsx("p",{className:"font-medium",children:"No transactions found"}),u.jsx("p",{className:"text-sm",children:"No sales were recorded on this day"})]}):u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700",children:[u.jsx("th",{className:"text-left py-3 px-4 text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Transaction ID"}),u.jsx("th",{className:"text-left py-3 px-4 text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Product"}),u.jsx("th",{className:"text-left py-3 px-4 text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Quantity"}),u.jsx("th",{className:"text-left py-3 px-4 text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Total"}),u.jsx("th",{className:"text-left py-3 px-4 text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Time"})]})}),u.jsx("tbody",{children:c.map(m=>u.jsxs("tr",{className:"border-b border-slate-100 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[u.jsx("td",{className:"py-4 px-4",children:u.jsxs("span",{className:"inline-flex items-center px-2.5 py-1 rounded-lg bg-slate-100 dark:bg-slate-700 text-sm font-medium text-slate-700 dark:text-slate-300",children:["#",m.id]})}),u.jsxs("td",{className:"py-4 px-4 font-medium text-slate-800 dark:text-slate-200",children:["Product #",m.product_id]}),u.jsx("td",{className:"py-4 px-4 text-slate-600 dark:text-slate-400",children:m.quantity_sold}),u.jsx("td",{className:"py-4 px-4",children:u.jsxs("span",{className:"font-semibold text-emerald-600 dark:text-emerald-400",children:["R ",Number(m.total_price).toFixed(2)]})}),u.jsx("td",{className:"py-4 px-4 text-slate-500 dark:text-slate-400",children:new Date(m.timestamp).toLocaleTimeString()})]},m.id))})]})})})]})]})]})}function j4(){var c,d,f,h;const[t,e]=_.useState(30),r=wn({queryKey:["plan"],queryFn:()=>au.get(),staleTime:6e4}),n=!!((d=(c=r.data)==null?void 0:c.limits)!=null&&d.advanced_reports),s=wn({queryKey:["analytics",t],queryFn:()=>QT.get(t),staleTime:3e4,enabled:n,retry:2});if(r.isLoading)return u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});if(!n)return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Analytics"}),u.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Advanced insights for your business"})]}),u.jsx(Me,{children:u.jsxs(Fe,{className:"py-16 text-center",children:[u.jsx(js,{className:"w-12 h-12 mx-auto mb-4 text-slate-400"}),u.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"Upgrade Required"}),u.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-4",children:"Advanced analytics require a Pro or Business plan."}),u.jsx(Te,{variant:"primary",onClick:()=>window.location.href="/billing",children:"View Plans"})]})})]});const i=s.data||{},a=s.isLoading,o=s.isError,l=s.refetch;return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Analytics"}),u.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Advanced insights for your business"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Period:"}),u.jsxs("select",{className:"rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 px-3 py-2 text-slate-800 dark:text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none",value:t,onChange:p=>e(Number(p.target.value)),children:[u.jsx("option",{value:7,children:"Last 7 days"}),u.jsx("option",{value:14,children:"Last 14 days"}),u.jsx("option",{value:30,children:"Last 30 days"}),u.jsx("option",{value:60,children:"Last 60 days"}),u.jsx("option",{value:90,children:"Last 90 days"})]}),u.jsx(Te,{variant:"secondary",size:"sm",onClick:()=>l(),disabled:a,children:u.jsx(Cy,{size:16,className:a?"animate-spin":""})})]})]}),o?u.jsx(Me,{children:u.jsxs(Fe,{className:"py-12 text-center",children:[u.jsx(hp,{className:"w-12 h-12 mx-auto mb-4 text-red-500"}),u.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"Failed to load analytics"}),u.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-4",children:"There was an error loading your analytics data."}),u.jsxs(Te,{onClick:()=>l(),children:[u.jsx(Cy,{size:16}),"Try Again"]})]})}):a?u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[1,2,3,4].map(p=>u.jsx("div",{className:"h-32 bg-slate-100 dark:bg-slate-800 rounded-xl animate-pulse"},p))}):i.total_sales===0?u.jsx(Me,{children:u.jsxs(Fe,{className:"py-12 text-center",children:[u.jsx(Do,{className:"w-12 h-12 mx-auto mb-4 text-slate-400"}),u.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"No sales data yet"}),u.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-4",children:"Make some sales to see your analytics here. Data will appear after you complete transactions on the Sell page."}),u.jsx(Te,{onClick:()=>window.location.href="/sell",children:"Go to Sell Page"})]})}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[u.jsx(Me,{children:u.jsx(Fe,{className:"py-4",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Total Revenue"}),u.jsxs("p",{className:"text-2xl font-bold text-slate-800 dark:text-white mt-1",children:["R"," ",(i.total_revenue||0).toLocaleString("en-ZA",{minimumFractionDigits:2})]}),u.jsxs("div",{className:"flex items-center gap-1 mt-2 text-sm",children:[i.revenue_trend>=0?u.jsxs("span",{className:"flex items-center text-emerald-600 dark:text-emerald-400",children:[u.jsx(zb,{size:14}),Math.abs(i.revenue_trend||0).toFixed(1),"%"]}):u.jsxs("span",{className:"flex items-center text-red-600 dark:text-red-400",children:[u.jsx(FP,{size:14}),Math.abs(i.revenue_trend||0).toFixed(1),"%"]}),u.jsx("span",{className:"text-slate-400",children:"vs prior period"})]})]}),u.jsx("div",{className:"p-3 bg-emerald-50 dark:bg-emerald-900/30 rounded-xl",children:u.jsx(Vb,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"})})]})})}),u.jsx(Me,{children:u.jsx(Fe,{className:"py-4",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Total Profit"}),u.jsxs("p",{className:"text-2xl font-bold text-slate-800 dark:text-white mt-1",children:["R"," ",(i.total_profit||0).toLocaleString("en-ZA",{minimumFractionDigits:2})]}),u.jsxs("div",{className:"flex items-center gap-1 mt-2 text-blue-600 dark:text-blue-400 text-sm",children:[u.jsx(tl,{size:14}),u.jsxs("span",{children:[i.profit_margin||0,"% margin"]})]})]}),u.jsx("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/30 rounded-xl",children:u.jsx(tl,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})})]})})}),u.jsx(Me,{children:u.jsx(Fe,{className:"py-4",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Total Sales"}),u.jsx("p",{className:"text-2xl font-bold text-slate-800 dark:text-white mt-1",children:i.total_sales||0}),u.jsxs("div",{className:"flex items-center gap-1 mt-2 text-purple-600 dark:text-purple-400 text-sm",children:[u.jsx(el,{size:14}),u.jsx("span",{children:"Transactions"})]})]}),u.jsx("div",{className:"p-3 bg-purple-50 dark:bg-purple-900/30 rounded-xl",children:u.jsx(el,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})})]})})}),u.jsx(Me,{children:u.jsx(Fe,{className:"py-4",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Avg Transaction"}),u.jsxs("p",{className:"text-2xl font-bold text-slate-800 dark:text-white mt-1",children:["R ",(i.avg_transaction_value||0).toFixed(2)]}),u.jsxs("div",{className:"flex items-center gap-1 mt-2 text-amber-600 dark:text-amber-400 text-sm",children:[u.jsx(Do,{size:14}),u.jsx("span",{children:"Per sale"})]})]}),u.jsx("div",{className:"p-3 bg-amber-50 dark:bg-amber-900/30 rounded-xl",children:u.jsx(Do,{className:"w-5 h-5 text-amber-600 dark:text-amber-400"})})]})})})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs(Me,{children:[u.jsxs(wr,{children:[u.jsxs(br,{className:"flex items-center gap-2",children:[u.jsx(tl,{size:20}),"Revenue Trend"]}),u.jsx(_n,{children:"Daily revenue over the selected period"})]}),u.jsx(Fe,{children:(i.sales_trends||[]).length===0?u.jsxs("div",{className:"text-center py-12 text-slate-500 dark:text-slate-400",children:[u.jsx(Do,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),u.jsx("p",{children:"No data available"})]}):u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between text-xs text-slate-500 dark:text-slate-400 mb-3",children:[u.jsxs("span",{children:["Best: ",i.best_day," (R"," ",(f=i.best_day_revenue)==null?void 0:f.toFixed(2),")"]}),u.jsxs("span",{children:["Worst: ",i.worst_day," (R"," ",(h=i.worst_day_revenue)==null?void 0:h.toFixed(2),")"]})]}),u.jsx("div",{className:"h-48 flex items-end gap-1 overflow-x-auto pb-2",children:(i.sales_trends||[]).slice(-30).map((p,m)=>{const y=Math.max(...(i.sales_trends||[]).map(v=>v.revenue))||1,w=p.revenue/y*100;return u.jsxs("div",{className:"flex-1 min-w-[8px] group relative",children:[u.jsx("div",{className:"bg-blue-500 dark:bg-blue-400 rounded-t hover:bg-blue-600 dark:hover:bg-blue-300 transition-colors",style:{height:`${Math.max(w,2)}%`}}),u.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-2 py-1 bg-slate-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none z-10",children:[p.date,": R ",p.revenue.toFixed(2)]})]},m)})})]})})]}),u.jsxs(Me,{children:[u.jsxs(wr,{children:[u.jsxs(br,{className:"flex items-center gap-2",children:[u.jsx(Ny,{size:20}),"Hourly Breakdown"]}),u.jsx(_n,{children:"Sales activity by hour of day"})]}),u.jsx(Fe,{children:(i.hourly_breakdown||[]).every(p=>p.sales_count===0)?u.jsxs("div",{className:"text-center py-12 text-slate-500 dark:text-slate-400",children:[u.jsx(Ny,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),u.jsx("p",{children:"No data available"})]}):u.jsx("div",{className:"h-48 flex items-end gap-1",children:(i.hourly_breakdown||[]).map(p=>{const m=Math.max(...(i.hourly_breakdown||[]).map(w=>w.sales_count))||1,y=p.sales_count/m*100;return u.jsxs("div",{className:"flex-1 group relative",children:[u.jsx("div",{className:"bg-purple-500 dark:bg-purple-400 rounded-t hover:bg-purple-600 dark:hover:bg-purple-300 transition-colors",style:{height:`${Math.max(y,2)}%`}}),u.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-2 py-1 bg-slate-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none z-10",children:[p.hour,":00 - ",p.sales_count," sales"]}),p.hour%6===0&&u.jsxs("span",{className:"absolute -bottom-4 left-1/2 -translate-x-1/2 text-[10px] text-slate-400",children:[p.hour,":00"]})]},p.hour)})})})]})]}),u.jsxs(Me,{children:[u.jsxs(wr,{children:[u.jsxs(br,{className:"flex items-center gap-2",children:[u.jsx($n,{size:20}),"Top Products"]}),u.jsx(_n,{children:"Best performing products by revenue"})]}),u.jsx(Fe,{children:(i.top_products||[]).length===0?u.jsxs("div",{className:"text-center py-12 text-slate-500 dark:text-slate-400",children:[u.jsx($n,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),u.jsx("p",{children:"No sales data available"})]}):u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700",children:[u.jsx("th",{className:"text-left py-3 px-4 text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Rank"}),u.jsx("th",{className:"text-left py-3 px-4 text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Product"}),u.jsx("th",{className:"text-left py-3 px-4 text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Code"}),u.jsx("th",{className:"text-right py-3 px-4 text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Units Sold"}),u.jsx("th",{className:"text-right py-3 px-4 text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Revenue"}),u.jsx("th",{className:"text-right py-3 px-4 text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Profit"})]})}),u.jsx("tbody",{children:(i.top_products||[]).map((p,m)=>u.jsxs("tr",{className:"border-b border-slate-100 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[u.jsx("td",{className:"py-3 px-4",children:u.jsx("span",{className:`inline-flex items-center justify-center w-6 h-6 rounded-full text-xs font-bold ${m===0?"bg-amber-100 text-amber-700 dark:bg-amber-900/50 dark:text-amber-400":m===1?"bg-slate-200 text-slate-700 dark:bg-slate-600 dark:text-slate-200":m===2?"bg-orange-100 text-orange-700 dark:bg-orange-900/50 dark:text-orange-400":"bg-slate-100 text-slate-600 dark:bg-slate-700 dark:text-slate-400"}`,children:m+1})}),u.jsx("td",{className:"py-3 px-4 font-medium text-slate-800 dark:text-slate-200",children:p.name}),u.jsx("td",{className:"py-3 px-4 text-slate-500 dark:text-slate-400",children:p.sku||"-"}),u.jsx("td",{className:"py-3 px-4 text-right text-slate-600 dark:text-slate-400",children:p.total_sold}),u.jsxs("td",{className:"py-3 px-4 text-right font-semibold text-emerald-600 dark:text-emerald-400",children:["R ",p.total_revenue.toFixed(2)]}),u.jsxs("td",{className:"py-3 px-4 text-right text-blue-600 dark:text-blue-400",children:["R ",p.total_profit.toFixed(2)]})]},p.product_id))})]})})})]})]})]})}const qe={SIGN_IN:"signin",SIGN_UP:"signup",FORGOT_PASSWORD:"forgot",RESET_PASSWORD:"reset",EMAIL_CONFIRMATION_SENT:"email_sent",PASSWORD_RESET_SENT:"reset_sent"};function N4(){var D,$;const[t,e]=_.useState(""),[r,n]=_.useState(""),[s,i]=_.useState(""),[a,o]=_.useState(""),[l,c]=_.useState(qe.SIGN_IN),[d,f]=_.useState(!1),{t:h}=jn(),{isAuthenticated:p,loading:m}=eo(),y=Ri(),w=Zn(),[v]=qw(),g=(($=(D=w.state)==null?void 0:D.from)==null?void 0:$.pathname)||"/";_.useEffect(()=>{(async()=>{const se=new URLSearchParams(window.location.hash.substring(1)),we=se.get("access_token"),ue=se.get("type");if(ue==="recovery"&&we){c(qe.RESET_PASSWORD);return}(ue==="signup"||ue==="email_change")&&(me.success("Email confirmed! You can now sign in."),c(qe.SIGN_IN),window.history.replaceState(null,"",window.location.pathname));const B=v.get("error"),X=v.get("error_description");B&&me.error(X||"Authentication error")})()},[v]),_.useEffect(()=>{p&&l!==qe.RESET_PASSWORD&&y(g,{replace:!0})},[p,y,g,l]);const x=()=>{if(l===qe.FORGOT_PASSWORD)return t?!0:(me.error("Please enter your email"),!1);if(l===qe.RESET_PASSWORD)return!r||r.length<6?(me.error("Password must be at least 6 characters"),!1):r!==s?(me.error("Passwords do not match"),!1):!0;if(!t||!r)return me.error("Email and password are required"),!1;if(r.length<6)return me.error("Password must be at least 6 characters"),!1;if(l===qe.SIGN_UP){if(r!==s)return me.error("Passwords do not match"),!1;if(!a.trim())return me.error("Store name is required"),!1}return!0},k=async()=>{const{error:I}=await Ir.auth.signInWithPassword({email:t,password:r});if(I)throw I;me.success("Welcome back!"),y(g,{replace:!0})},E=async()=>{const{data:I,error:se}=await Ir.auth.signUp({email:t,password:r,options:{data:{store_name:a.trim()},emailRedirectTo:`${window.location.origin}/auth`}});if(se)throw se;I.user&&!I.session?c(qe.EMAIL_CONFIRMATION_SENT):I.session&&(me.success("Account created successfully!"),y("/"))},b=async()=>{const{error:I}=await Ir.auth.resetPasswordForEmail(t,{redirectTo:`${window.location.origin}/auth`});if(I)throw I;c(qe.PASSWORD_RESET_SENT)},A=async()=>{const{error:I}=await Ir.auth.updateUser({password:r});if(I)throw I;me.success("Password updated successfully!"),window.history.replaceState(null,"",window.location.pathname),c(qe.SIGN_IN),n(""),i("")},P=async I=>{if(I.preventDefault(),!!x()){f(!0);try{switch(l){case qe.SIGN_IN:await k();break;case qe.SIGN_UP:await E();break;case qe.FORGOT_PASSWORD:await b();break;case qe.RESET_PASSWORD:await A();break;default:break}}catch(se){me.error(se.message||"Authentication failed")}finally{f(!1)}}},L=async()=>{await Ir.auth.signOut(),window.location.reload()},{theme:F,toggleTheme:K}=Od();return l===qe.EMAIL_CONFIRMATION_SENT?u.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 relative",children:[u.jsx(Eo,{theme:F,toggleTheme:K}),u.jsxs("div",{className:"w-full max-w-md",children:[u.jsx(No,{}),u.jsx(Me,{children:u.jsxs(Fe,{className:"p-8 text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-emerald-100 dark:bg-emerald-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(Xo,{className:"w-8 h-8 text-emerald-600 dark:text-emerald-400"})}),u.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-2",children:h("auth.check_email")}),u.jsxs("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:[h("auth.email_sent")," ",u.jsx("strong",{className:"text-slate-800 dark:text-white",children:t}),". ",h("auth.click_to_activate")]}),u.jsxs(Te,{variant:"outline",onClick:()=>{c(qe.SIGN_IN),e(""),n("")},className:"w-full",children:[u.jsx(Tf,{size:18}),h("auth.back_to_signin")]})]})})]})]}):l===qe.PASSWORD_RESET_SENT?u.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 relative",children:[u.jsx(Eo,{theme:F,toggleTheme:K}),u.jsxs("div",{className:"w-full max-w-md",children:[u.jsx(No,{}),u.jsx(Me,{children:u.jsxs(Fe,{className:"p-8 text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(QP,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})}),u.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-2",children:h("auth.check_email")}),u.jsxs("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:[h("auth.reset_sent")," ",u.jsx("strong",{className:"text-slate-800 dark:text-white",children:t}),". ",h("auth.click_to_reset")]}),u.jsxs(Te,{variant:"outline",onClick:()=>{c(qe.SIGN_IN),e("")},className:"w-full",children:[u.jsx(Tf,{size:18}),h("auth.back_to_signin")]})]})})]})]}):l===qe.RESET_PASSWORD?u.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 relative",children:[u.jsx(Eo,{theme:F,toggleTheme:K}),u.jsxs("div",{className:"w-full max-w-md",children:[u.jsx(No,{}),u.jsx(Me,{children:u.jsx(Fe,{className:"p-8",children:u.jsxs("form",{onSubmit:P,className:"space-y-5",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:h("auth.new_password")}),u.jsxs("div",{className:"relative",children:[u.jsx(js,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),u.jsx("input",{placeholder:h("auth.new_password"),type:"password",value:r,onChange:I=>n(I.target.value),autoComplete:"new-password",className:"w-full pl-10 pr-4 py-2.5 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none transition-all"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:h("auth.confirm_new_password")}),u.jsxs("div",{className:"relative",children:[u.jsx(js,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),u.jsx("input",{placeholder:h("auth.confirm_new_password"),type:"password",value:s,onChange:I=>i(I.target.value),autoComplete:"new-password",className:"w-full pl-10 pr-4 py-2.5 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none transition-all"})]})]}),u.jsx(Te,{type:"submit",disabled:d,className:"w-full",size:"lg",children:d?h("loading"):u.jsxs(u.Fragment,{children:[h("auth.update_password"),u.jsx(VP,{size:18})]})})]})})})]})]}):l===qe.FORGOT_PASSWORD?u.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 relative",children:[u.jsx(Eo,{theme:F,toggleTheme:K}),u.jsxs("div",{className:"w-full max-w-md",children:[u.jsx(No,{}),u.jsx(Me,{children:u.jsxs(Fe,{className:"p-8",children:[u.jsxs("form",{onSubmit:P,className:"space-y-5",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:h("auth.email")}),u.jsxs("div",{className:"relative",children:[u.jsx(Xo,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),u.jsx("input",{placeholder:"you@example.com",type:"email",value:t,onChange:I=>e(I.target.value),autoComplete:"email",className:"w-full pl-10 pr-4 py-2.5 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none transition-all"})]})]}),u.jsx(Te,{type:"submit",disabled:d,className:"w-full",size:"lg",children:d?h("loading"):u.jsxs(u.Fragment,{children:[h("auth.send_reset_link"),u.jsx(Sy,{size:18})]})})]}),u.jsx("div",{className:"mt-6 text-center",children:u.jsxs("button",{type:"button",onClick:()=>c(qe.SIGN_IN),className:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 font-medium inline-flex items-center gap-1",children:[u.jsx(Tf,{size:16}),h("auth.back_to_signin")]})})]})})]})]}):u.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 relative",children:[u.jsx(Eo,{theme:F,toggleTheme:K}),u.jsxs("div",{className:"w-full max-w-md",children:[u.jsx(No,{subtitle:l===qe.SIGN_UP?h("auth.create_account"):h("auth.welcome_back")}),u.jsx(Me,{children:u.jsxs(Fe,{className:"p-8",children:[u.jsxs("form",{onSubmit:P,className:"space-y-5",children:[l===qe.SIGN_UP&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:h("auth.store_name")}),u.jsxs("div",{className:"relative",children:[u.jsx(eR,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),u.jsx("input",{placeholder:h("auth.store_name"),type:"text",value:a,onChange:I=>o(I.target.value),className:"w-full pl-10 pr-4 py-2.5 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none transition-all"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:h("auth.email")}),u.jsxs("div",{className:"relative",children:[u.jsx(Xo,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),u.jsx("input",{placeholder:"you@example.com",type:"email",value:t,onChange:I=>e(I.target.value),autoComplete:"email",className:"w-full pl-10 pr-4 py-2.5 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none transition-all"})]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:h("auth.password")}),l===qe.SIGN_IN&&u.jsx("button",{type:"button",onClick:()=>c(qe.FORGOT_PASSWORD),className:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300",children:h("auth.forgot_password")})]}),u.jsxs("div",{className:"relative",children:[u.jsx(js,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),u.jsx("input",{placeholder:h("auth.password"),type:"password",value:r,onChange:I=>n(I.target.value),autoComplete:l===qe.SIGN_UP?"new-password":"current-password",className:"w-full pl-10 pr-4 py-2.5 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none transition-all"})]})]}),l===qe.SIGN_UP&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:h("auth.confirm_password")}),u.jsxs("div",{className:"relative",children:[u.jsx(js,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),u.jsx("input",{placeholder:h("auth.confirm_password"),type:"password",value:s,onChange:I=>i(I.target.value),autoComplete:"new-password",className:"w-full pl-10 pr-4 py-2.5 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none transition-all"})]})]}),u.jsx(Te,{type:"submit",disabled:d,className:"w-full",size:"lg",children:d?h("loading"):u.jsxs(u.Fragment,{children:[l===qe.SIGN_UP?h("auth.sign_up"):h("auth.sign_in"),u.jsx(Sy,{size:18})]})})]}),u.jsx("div",{className:"mt-6 text-center",children:u.jsx("button",{type:"button",onClick:()=>{c(l===qe.SIGN_UP?qe.SIGN_IN:qe.SIGN_UP),i(""),o("")},className:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 font-medium",children:l===qe.SIGN_UP?h("auth.have_account"):h("auth.no_account")})})]})}),u.jsx("div",{className:"mt-6 text-center",children:u.jsx("button",{type:"button",onClick:L,className:"text-sm text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-300",children:h("auth.session_trouble")})}),u.jsx("p",{className:"text-center text-sm text-slate-500 dark:text-slate-400 mt-8",children:h("auth.powered_by")})]})]})}function No({subtitle:t}){return u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"flex justify-center mb-4",children:u.jsx($m,{size:56,showText:!1})}),u.jsxs("h1",{className:"text-3xl font-bold",children:[u.jsx("span",{className:"text-emerald-600 dark:text-emerald-400",children:"Kash"}),u.jsx("span",{className:"text-amber-500 dark:text-amber-400",children:"-Flow"})]}),u.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 tracking-wide uppercase mt-1",children:"Point of Sale"}),t&&u.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-3",children:t})]})}function Eo({theme:t,toggleTheme:e}){return u.jsxs("div",{className:"absolute top-4 right-4 flex items-center gap-2",children:[u.jsx(Fm,{compact:!0}),u.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-700 text-slate-600 dark:text-slate-300 transition-colors","aria-label":"Toggle theme",children:t==="dark"?u.jsx(Nl,{size:20}):u.jsx(jl,{size:20})})]})}const E4=[{name:"Pro",price:"R250",period:"/month",description:"For growing businesses",icon:pp,iconBg:"bg-blue-100 dark:bg-blue-900/50",iconColor:"text-blue-600 dark:text-blue-400",popular:!0,features:["Unlimited products","Up to 3 users","Advanced analytics","Low stock alerts","CSV export","Priority support"],planId:"pro"},{name:"Business",price:"R350",period:"/month",description:"For larger operations",icon:$P,iconBg:"bg-purple-100 dark:bg-purple-900/50",iconColor:"text-purple-600 dark:text-purple-400",features:["Everything in Pro","Unlimited users","Role-based access","Audit logs","API access","Dedicated support"],planId:"business"}];function C4(t){if(!t)return null;try{return new Date(t).toLocaleDateString("en-ZA",{year:"numeric",month:"long",day:"numeric"})}catch{return null}}function P4(t){if(!t)return null;try{const e=new Date(t);return Math.ceil((e-new Date)/(1e3*60*60*24))}catch{return null}}function R4(){var x,k,E,b,A,P,L,F;const[t,e]=_.useState(!1),[r,n]=_.useState(!1),[s]=qw();_.useEffect(()=>{s.get("success")==="1"?me.success("Subscription activated successfully!"):s.get("canceled")==="1"&&me("Checkout was canceled")},[s]);const i=wn({queryKey:["plan"],queryFn:()=>au.get(),staleTime:3e4}),a=((x=i.data)==null?void 0:x.plan)||"expired",o=((k=i.data)==null?void 0:k.status)||"expired",l=((E=i.data)==null?void 0:E.is_active)||!1,c=((b=i.data)==null?void 0:b.limits)||{},d=((A=i.data)==null?void 0:A.usage)||{},f=(P=i.data)==null?void 0:P.trial_end,h=(L=i.data)==null?void 0:L.current_period_end,p=(F=i.data)==null?void 0:F.has_stripe_subscription,m=P4(f),y=o==="trialing"&&m!==null&&m>0,w=async K=>{var D,$;if(K===a&&l){me("You are already on this plan");return}try{e(!0);const{url:I}=await Wc.checkout(K);window.location.assign(I)}catch(I){me.error((($=(D=I==null?void 0:I.response)==null?void 0:D.data)==null?void 0:$.detail)||"Failed to start checkout")}finally{e(!1)}},v=async()=>{var K,D;try{n(!0);const{url:$}=await Wc.portal();window.location.assign($)}catch($){me.error(((D=(K=$==null?void 0:$.response)==null?void 0:K.data)==null?void 0:D.detail)||"Failed to open billing portal")}finally{n(!1)}},g=()=>y?u.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-sm font-medium bg-amber-100 dark:bg-amber-900/50 text-amber-700 dark:text-amber-300",children:[u.jsx(Im,{className:"w-4 h-4"}),"Trial: ",m," days left"]}):o==="active"?u.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-sm font-medium bg-emerald-100 dark:bg-emerald-900/50 text-emerald-700 dark:text-emerald-300",children:[u.jsx(aa,{className:"w-4 h-4"}),"Active"]}):o==="past_due"?u.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-sm font-medium bg-red-100 dark:bg-red-900/50 text-red-700 dark:text-red-300",children:[u.jsx(Cl,{className:"w-4 h-4"}),"Payment Failed"]}):o==="canceled"?u.jsx("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-sm font-medium bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300",children:"Canceled"}):u.jsx("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-sm font-medium bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300",children:"No Active Plan"});return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"text-center max-w-2xl mx-auto",children:[u.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Choose Your Plan"}),u.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:"Start with a 7-day free trial. No credit card required to start."})]}),i.data&&u.jsx(Me,{className:"border-blue-200 dark:border-blue-800 bg-blue-50/50 dark:bg-blue-900/20",children:u.jsxs(Fe,{className:"py-6",children:[u.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white",children:["Current Plan: ",u.jsx("span",{className:"text-blue-600 dark:text-blue-400 capitalize",children:a})]}),h&&l&&u.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:[y?"Trial ends":"Next billing date",": ",C4(y?f:h)]})]}),g()]}),u.jsx("div",{className:"flex flex-wrap gap-2",children:p&&u.jsxs(Te,{variant:"outline",size:"sm",onClick:v,disabled:r,children:[u.jsx(Ba,{className:"w-4 h-4 mr-2"}),r?"Loading...":"Manage Subscription"]})})]}),u.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mt-6",children:[u.jsxs("div",{className:"text-center p-3 bg-white dark:bg-slate-800 rounded-lg shadow-sm",children:[u.jsx($n,{className:"w-5 h-5 mx-auto text-blue-600 dark:text-blue-400 mb-1"}),u.jsxs("p",{className:"text-xl font-bold text-slate-800 dark:text-white",children:[d.products||0,c.max_products&&u.jsxs("span",{className:"text-sm font-normal text-slate-500",children:["/",c.max_products]})]}),u.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Products"})]}),u.jsxs("div",{className:"text-center p-3 bg-white dark:bg-slate-800 rounded-lg shadow-sm",children:[u.jsx(nR,{className:"w-5 h-5 mx-auto text-purple-600 dark:text-purple-400 mb-1"}),u.jsxs("p",{className:"text-xl font-bold text-slate-800 dark:text-white",children:["1",u.jsxs("span",{className:"text-sm font-normal text-slate-500",children:["/",c.max_users||1]})]}),u.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Users"})]}),u.jsxs("div",{className:"text-center p-3 bg-white dark:bg-slate-800 rounded-lg shadow-sm",children:[u.jsx(KP,{className:"w-5 h-5 mx-auto text-emerald-600 dark:text-emerald-400 mb-1"}),u.jsx("p",{className:"text-xl font-bold text-slate-800 dark:text-white",children:c.csv_export?u.jsx(aa,{className:"w-5 h-5 mx-auto text-emerald-500"}):""}),u.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"CSV Export"})]}),u.jsxs("div",{className:"text-center p-3 bg-white dark:bg-slate-800 rounded-lg shadow-sm",children:[u.jsx(Bb,{className:"w-5 h-5 mx-auto text-amber-600 dark:text-amber-400 mb-1"}),u.jsx("p",{className:"text-xl font-bold text-slate-800 dark:text-white",children:c.low_stock_alerts?u.jsx(aa,{className:"w-5 h-5 mx-auto text-emerald-500"}):""}),u.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Alerts"})]})]})]})}),!l&&u.jsx(Me,{className:"border-amber-200 dark:border-amber-800 bg-amber-50/50 dark:bg-amber-900/20",children:u.jsx(Fe,{className:"py-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(Cl,{className:"w-5 h-5 text-amber-600 dark:text-amber-400 mt-0.5 flex-shrink-0"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-amber-800 dark:text-amber-200 font-medium",children:"Your subscription is not active"}),u.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-300 mt-1",children:"Subscribe to Pro or Business to unlock all features. Start with a 7-day free trial!"})]})]})})}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-8 max-w-4xl mx-auto",children:E4.map(K=>{const D=K.planId===a&&l;return u.jsxs(Me,{className:`relative ${K.popular?"border-blue-600 dark:border-blue-500 border-2 shadow-lg shadow-blue-600/10":""} ${D?"ring-2 ring-emerald-500":""}`,children:[K.popular&&u.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:u.jsx("span",{className:"bg-blue-600 text-white text-xs font-semibold px-3 py-1 rounded-full",children:"Most Popular"})}),D&&u.jsx("div",{className:"absolute -top-3 right-4",children:u.jsx("span",{className:"bg-emerald-500 text-white text-xs font-semibold px-3 py-1 rounded-full",children:"Current"})}),u.jsxs(Fe,{className:"p-6",children:[u.jsx("div",{className:`w-12 h-12 ${K.iconBg} rounded-xl flex items-center justify-center mb-4`,children:u.jsx(K.icon,{className:`w-6 h-6 ${K.iconColor}`})}),u.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:K.name}),u.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:K.description}),u.jsxs("div",{className:"mt-4 mb-2",children:[u.jsx("span",{className:"text-4xl font-bold text-slate-800 dark:text-white",children:K.price}),u.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:K.period})]}),u.jsx("p",{className:"text-sm text-emerald-600 dark:text-emerald-400 mb-4",children:"7-day free trial included"}),D?u.jsx(Te,{variant:"secondary",className:"w-full",disabled:!0,children:"Current Plan"}):u.jsx(Te,{variant:K.popular?"primary":"outline",className:"w-full",onClick:()=>w(K.planId),disabled:t,children:t?"Processing...":l?"Switch Plan":"Start Free Trial"}),u.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-100 dark:border-slate-700",children:[u.jsx("p",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 mb-3",children:"What's included:"}),u.jsx("ul",{className:"space-y-2.5",children:K.features.map($=>u.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-600 dark:text-slate-400",children:[u.jsx(aa,{className:"w-4 h-4 text-emerald-500 mt-0.5 flex-shrink-0"}),u.jsx("span",{children:$})]},$))})]})]})]},K.name)})}),u.jsx(Me,{className:"mt-8",children:u.jsx(Fe,{className:"py-6 text-center",children:u.jsxs("p",{className:"text-slate-600 dark:text-slate-400",children:["Need a custom plan for your enterprise? "," ",u.jsx("a",{href:"mailto:support@kash-flow.com",className:"text-blue-600 dark:text-blue-400 font-medium hover:underline",children:"Contact our sales team"})]})})})]})}function T4(){var rt,U,_e,Pe,ft,xe,$t;const{t}=jn(),{user:e,signOut:r}=eo(),{theme:n,toggleTheme:s}=Od(),i=Ri();Xl();const[a,o]=_.useState(!1),[l,c]=_.useState(""),[d,f]=_.useState(""),[h,p]=_.useState(""),[m,y]=_.useState(!1),[w,v]=_.useState(!1),[g,x]=_.useState(!1),[k,E]=_.useState(""),[b,A]=_.useState(!1),[P,L]=_.useState(!1),[F,K]=_.useState(!1),D=wn({queryKey:["plan"],queryFn:()=>au.get(),staleTime:3e4}),$=((rt=D.data)==null?void 0:rt.plan)||"free",I=((U=D.data)==null?void 0:U.status)||"expired",se=((_e=D.data)==null?void 0:_e.is_active)||!1,we=(Pe=D.data)==null?void 0:Pe.has_stripe_subscription,ue=(ft=D.data)==null?void 0:ft.trial_end,B=(xe=D.data)==null?void 0:xe.current_period_end,X=Je=>{if(!Je)return null;try{return new Date(Je).toLocaleDateString("en-ZA",{year:"numeric",month:"long",day:"numeric"})}catch{return null}},ae=async Je=>{if(Je.preventDefault(),d!==h){me.error("Passwords do not match");return}if(d.length<6){me.error("Password must be at least 6 characters");return}v(!0);try{const{error:Kt}=await Ir.auth.updateUser({password:d});if(Kt)throw Kt;me.success("Password updated successfully"),o(!1),c(""),f(""),p("")}catch(Kt){me.error(Kt.message||"Failed to update password")}finally{v(!1)}},de=async()=>{var Je,Kt;try{L(!0);const{url:bt}=await Wc.portal();window.location.assign(bt)}catch(bt){me.error(((Kt=(Je=bt==null?void 0:bt.response)==null?void 0:Je.data)==null?void 0:Kt.detail)||"Failed to open billing portal")}finally{L(!1)}},Se=async()=>{var Je,Kt;try{K(!0);const{url:bt}=await Wc.portal();window.location.assign(bt)}catch(bt){me.error(((Kt=(Je=bt==null?void 0:bt.response)==null?void 0:Je.data)==null?void 0:Kt.detail)||"Failed to open cancellation page")}finally{K(!1)}},W=async()=>{if(k!=="DELETE"){me.error('Please type "DELETE" to confirm');return}A(!0);try{me.success("Account deletion requested. You will be signed out."),await r(),i("/auth")}catch{me.error("Failed to process account deletion")}finally{A(!1)}},$e=async()=>{await r(),i("/auth")},it=()=>I==="trialing"?u.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-amber-100 dark:bg-amber-900/50 text-amber-700 dark:text-amber-300",children:[u.jsx(Im,{className:"w-3 h-3"}),"Trial"]}):I==="active"?u.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-emerald-100 dark:bg-emerald-900/50 text-emerald-700 dark:text-emerald-300",children:[u.jsx(aa,{className:"w-3 h-3"}),"Active"]}):I==="canceled"?u.jsx("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300",children:"Canceled"}):u.jsx("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-red-100 dark:bg-red-900/50 text-red-700 dark:text-red-300",children:"Inactive"});return u.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:t("profile.title","Profile & Settings")}),u.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:t("profile.subtitle","Manage your account and preferences")})]}),u.jsxs(Me,{children:[u.jsx(wr,{children:u.jsxs(br,{className:"flex items-center gap-2",children:[u.jsx(rR,{className:"w-5 h-5"}),t("profile.account_info","Account Information")]})}),u.jsx(Fe,{className:"space-y-4",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-full flex items-center justify-center text-white text-2xl font-bold shadow-lg",children:(($t=e==null?void 0:e.email)==null?void 0:$t.charAt(0).toUpperCase())||"U"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-lg font-semibold text-slate-800 dark:text-white",children:(e==null?void 0:e.email)||"User"}),u.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 flex items-center gap-1",children:[u.jsx(Xo,{className:"w-4 h-4"}),e==null?void 0:e.email]}),u.jsxs("p",{className:"text-xs text-slate-400 dark:text-slate-500 mt-1",children:["Member since ",X(e==null?void 0:e.created_at)||"N/A"]})]})]})})]}),u.jsxs(Me,{children:[u.jsxs(wr,{children:[u.jsxs(br,{className:"flex items-center gap-2",children:[u.jsx(Ba,{className:"w-5 h-5"}),t("profile.subscription","Subscription")]}),u.jsx(_n,{children:t("profile.manage_plan","Manage your plan and billing")})]}),u.jsxs(Fe,{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-800 rounded-xl",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/50 rounded-lg flex items-center justify-center",children:u.jsx(pp,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),u.jsxs("div",{children:[u.jsxs("p",{className:"font-semibold text-slate-800 dark:text-white capitalize",children:[$," Plan"]}),B&&se&&u.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[I==="trialing"?"Trial ends":"Renews",": ",X(I==="trialing"?ue:B)]})]})]}),it()]}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsxs(Te,{variant:"outline",size:"sm",onClick:()=>i("/billing"),children:[u.jsx(pp,{className:"w-4 h-4 mr-1"}),se?"Change Plan":"Upgrade"]}),we&&u.jsxs(u.Fragment,{children:[u.jsxs(Te,{variant:"outline",size:"sm",onClick:de,disabled:P,children:[u.jsx(Ba,{className:"w-4 h-4 mr-1"}),P?"Loading...":"Billing Portal"]}),u.jsxs(Te,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20",onClick:Se,disabled:F,children:[u.jsx(Va,{className:"w-4 h-4 mr-1"}),F?"Loading...":"Cancel Subscription"]})]})]})]})]}),u.jsxs(Me,{children:[u.jsxs(wr,{children:[u.jsxs(br,{className:"flex items-center gap-2",children:[u.jsx(XP,{className:"w-5 h-5"}),t("profile.security","Security")]}),u.jsx(_n,{children:t("profile.security_desc","Manage your password and security settings")})]}),u.jsx(Fe,{className:"space-y-4",children:a?u.jsxs("form",{onSubmit:ae,className:"space-y-4 p-4 bg-slate-50 dark:bg-slate-800 rounded-xl",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("h4",{className:"font-medium text-slate-800 dark:text-white",children:"Change Password"}),u.jsx("button",{type:"button",onClick:()=>o(!1),className:"text-slate-400 hover:text-slate-600",children:u.jsx(Va,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:m?"text":"password",placeholder:"New password",value:d,onChange:Je=>f(Je.target.value),className:"w-full px-4 py-2.5 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-white pr-10",required:!0,minLength:6}),u.jsx("button",{type:"button",onClick:()=>y(!m),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400",children:m?u.jsx(qP,{className:"w-4 h-4"}):u.jsx(WP,{className:"w-4 h-4"})})]}),u.jsx("input",{type:m?"text":"password",placeholder:"Confirm new password",value:h,onChange:Je=>p(Je.target.value),className:"w-full px-4 py-2.5 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-white",required:!0})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Te,{type:"button",variant:"ghost",size:"sm",onClick:()=>o(!1),children:"Cancel"}),u.jsx(Te,{type:"submit",size:"sm",disabled:w,children:w?"Updating...":"Update Password"})]})]}):u.jsxs("button",{onClick:()=>o(!0),className:"w-full flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-800 rounded-xl hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(js,{className:"w-5 h-5 text-slate-600 dark:text-slate-400"}),u.jsxs("div",{className:"text-left",children:[u.jsx("p",{className:"font-medium text-slate-800 dark:text-white",children:"Change Password"}),u.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Update your account password"})]})]}),u.jsx(Io,{className:"w-5 h-5 text-slate-400"})]})})]}),u.jsxs(Me,{children:[u.jsx(wr,{children:u.jsxs(br,{className:"flex items-center gap-2",children:[u.jsx(Bb,{className:"w-5 h-5"}),t("profile.preferences","Preferences")]})}),u.jsxs(Fe,{className:"space-y-2",children:[u.jsxs("button",{onClick:s,className:"w-full flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-800 rounded-xl hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[n==="dark"?u.jsx(jl,{className:"w-5 h-5 text-slate-600 dark:text-slate-400"}):u.jsx(Nl,{className:"w-5 h-5 text-slate-600 dark:text-slate-400"}),u.jsxs("div",{className:"text-left",children:[u.jsx("p",{className:"font-medium text-slate-800 dark:text-white",children:"Theme"}),u.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:n==="dark"?"Dark mode":"Light mode"})]})]}),u.jsx("div",{className:"px-3 py-1 rounded-full bg-slate-200 dark:bg-slate-600 text-xs font-medium text-slate-700 dark:text-slate-300 capitalize",children:n})]}),u.jsxs("button",{onClick:()=>i("/billing"),className:"w-full flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-800 rounded-xl hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Hb,{className:"w-5 h-5 text-slate-600 dark:text-slate-400"}),u.jsxs("div",{className:"text-left",children:[u.jsx("p",{className:"font-medium text-slate-800 dark:text-white",children:"Language"}),u.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Change app language in the sidebar"})]})]}),u.jsx(Io,{className:"w-5 h-5 text-slate-400"})]})]})]}),u.jsxs(Me,{className:"border-red-200 dark:border-red-900",children:[u.jsxs(wr,{children:[u.jsxs(br,{className:"flex items-center gap-2 text-red-600 dark:text-red-400",children:[u.jsx(Cl,{className:"w-5 h-5"}),t("profile.danger_zone","Danger Zone")]}),u.jsx(_n,{className:"text-red-600/70 dark:text-red-400/70",children:t("profile.danger_desc","Irreversible and destructive actions")})]}),u.jsxs(Fe,{className:"space-y-4",children:[u.jsxs("button",{onClick:$e,className:"w-full flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-800 rounded-xl hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Mm,{className:"w-5 h-5 text-slate-600 dark:text-slate-400"}),u.jsxs("div",{className:"text-left",children:[u.jsx("p",{className:"font-medium text-slate-800 dark:text-white",children:"Sign Out"}),u.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Sign out of your account"})]})]}),u.jsx(Io,{className:"w-5 h-5 text-slate-400"})]}),g?u.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 rounded-xl border border-red-200 dark:border-red-800",children:[u.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[u.jsx(Cl,{className:"w-5 h-5 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5"}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-red-700 dark:text-red-300",children:"Are you absolutely sure?"}),u.jsx("p",{className:"text-sm text-red-600/80 dark:text-red-400/80 mt-1",children:"This action cannot be undone. This will permanently delete your account, all your products, sales history, and remove all associated data."})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"text-sm text-red-700 dark:text-red-300 block mb-1",children:["Type ",u.jsx("strong",{children:"DELETE"})," to confirm:"]}),u.jsx("input",{type:"text",value:k,onChange:Je=>E(Je.target.value),className:"w-full px-3 py-2 rounded-lg border border-red-300 dark:border-red-700 bg-white dark:bg-slate-800 text-slate-800 dark:text-white",placeholder:"DELETE"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Te,{variant:"ghost",size:"sm",onClick:()=>{x(!1),E("")},children:"Cancel"}),u.jsxs(Te,{variant:"primary",size:"sm",className:"bg-red-600 hover:bg-red-700",onClick:W,disabled:b||k!=="DELETE",children:[u.jsx(El,{className:"w-4 h-4 mr-1"}),b?"Deleting...":"Delete Account"]})]})]})]}):u.jsxs("button",{onClick:()=>x(!0),className:"w-full flex items-center justify-between p-4 bg-red-50 dark:bg-red-900/20 rounded-xl hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors border border-red-200 dark:border-red-800",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(El,{className:"w-5 h-5 text-red-600 dark:text-red-400"}),u.jsxs("div",{className:"text-left",children:[u.jsx("p",{className:"font-medium text-red-700 dark:text-red-300",children:"Delete Account"}),u.jsx("p",{className:"text-xs text-red-600/70 dark:text-red-400/70",children:"Permanently delete your account and all data"})]})]}),u.jsx(Io,{className:"w-5 h-5 text-red-400"})]})]})]})]})}function qi({children:t}){const{isAuthenticated:e,loading:r}=eo(),n=Zn();return r?u.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:u.jsx("div",{className:"text-gray-500",children:"Loading..."})}):e?t:u.jsx(Uj,{to:"/auth",state:{from:n},replace:!0})}const O4=Zj([{path:"/",element:u.jsx(pR,{}),children:[{path:"/",element:u.jsx(qi,{children:u.jsx(b4,{})})},{path:"/sell",element:u.jsx(qi,{children:u.jsx(k4,{})})},{path:"/reports",element:u.jsx(qi,{children:u.jsx(S4,{})})},{path:"/analytics",element:u.jsx(qi,{children:u.jsx(j4,{})})},{path:"/auth",element:u.jsx(N4,{})},{path:"/billing",element:u.jsx(qi,{children:u.jsx(R4,{})})},{path:"/profile",element:u.jsx(qi,{children:u.jsx(T4,{})})}]}]),A4=new S2;Bf.createRoot(document.getElementById("root")).render(u.jsx(LP,{children:u.jsx(AP,{children:u.jsxs(P2,{client:A4,children:[u.jsx(s2,{router:O4}),u.jsx(RN,{position:"top-right"})]})})}));export{gv as g};
